(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var bisector=__webpack_require__(261),identity=__webpack_require__(22),noop=__webpack_require__(16),rebind=__webpack_require__(252),zipper=__webpack_require__(115),merge=__webpack_require__(253),slidingWindow=__webpack_require__(254),shallowEqual=__webpack_require__(70),mappedSlidingWindow=__webpack_require__(255),accumulatingWindow=__webpack_require__(256),barWidth=__webpack_require__(257),colors=__webpack_require__(260),strokeDasharray=__webpack_require__(258),react=__webpack_require__(1);function withDeviceRatio(){return OriginalComponent=>(class WithRatio extends react.Component{constructor(){super(...arguments),this.canvasRef=react.createRef()}componentDidMount(){const{current:current}=this.canvasRef;if(null===current)this.setState({ratio:1});else{const context=current.getContext("2d"),{devicePixelRatio:devicePixelRatio}=window,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.setState({ratio:devicePixelRatio/backingStoreRatio})}}render(){const state=this.state;return null!==state?react.createElement(OriginalComponent,Object.assign({},this.props,{ratio:state.ratio})):react.createElement("canvas",{ref:this.canvasRef})}})}function getLogger(prefix){return noop.a}function sign(x){return(x>0)-(x<0)}__webpack_require__.d(__webpack_exports__,"getLogger",(function(){return getLogger})),__webpack_require__.d(__webpack_exports__,"sign",(function(){return sign})),__webpack_require__.d(__webpack_exports__,"yes",(function(){return yes})),__webpack_require__.d(__webpack_exports__,"path",(function(){return path})),__webpack_require__.d(__webpack_exports__,"functor",(function(){return functor})),__webpack_require__.d(__webpack_exports__,"createVerticalLinearGradient",(function(){return createVerticalLinearGradient})),__webpack_require__.d(__webpack_exports__,"getClosestItemIndexes2",(function(){return getClosestItemIndexes2})),__webpack_require__.d(__webpack_exports__,"getClosestValue",(function(){return getClosestValue})),__webpack_require__.d(__webpack_exports__,"find",(function(){return find})),__webpack_require__.d(__webpack_exports__,"d3Window",(function(){return d3Window})),__webpack_require__.d(__webpack_exports__,"MOUSEENTER",(function(){return MOUSEENTER})),__webpack_require__.d(__webpack_exports__,"MOUSELEAVE",(function(){return MOUSELEAVE})),__webpack_require__.d(__webpack_exports__,"MOUSEMOVE",(function(){return MOUSEMOVE})),__webpack_require__.d(__webpack_exports__,"MOUSEUP",(function(){return MOUSEUP})),__webpack_require__.d(__webpack_exports__,"TOUCHMOVE",(function(){return TOUCHMOVE})),__webpack_require__.d(__webpack_exports__,"TOUCHEND",(function(){return TOUCHEND})),__webpack_require__.d(__webpack_exports__,"getTouchProps",(function(){return getTouchProps})),__webpack_require__.d(__webpack_exports__,"getClosestItemIndexes",(function(){return getClosestItemIndexes})),__webpack_require__.d(__webpack_exports__,"getClosestItem",(function(){return getClosestItem})),__webpack_require__.d(__webpack_exports__,"head",(function(){return head})),__webpack_require__.d(__webpack_exports__,"tail",(function(){return tail})),__webpack_require__.d(__webpack_exports__,"first",(function(){return first})),__webpack_require__.d(__webpack_exports__,"last",(function(){return last})),__webpack_require__.d(__webpack_exports__,"isDefined",(function(){return isDefined})),__webpack_require__.d(__webpack_exports__,"isNotDefined",(function(){return isNotDefined})),__webpack_require__.d(__webpack_exports__,"isObject",(function(){return isObject})),__webpack_require__.d(__webpack_exports__,"isArray",(function(){return isArray})),__webpack_require__.d(__webpack_exports__,"touchPosition",(function(){return touchPosition})),__webpack_require__.d(__webpack_exports__,"mousePosition",(function(){return mousePosition})),__webpack_require__.d(__webpack_exports__,"clearCanvas",(function(){return clearCanvas})),__webpack_require__.d(__webpack_exports__,"capitalizeFirst",(function(){return capitalizeFirst})),__webpack_require__.d(__webpack_exports__,"toObject",(function(){return toObject})),__webpack_require__.d(__webpack_exports__,"mapValue",(function(){return mapValue})),__webpack_require__.d(__webpack_exports__,"mapObject",(function(){return mapObject})),__webpack_require__.d(__webpack_exports__,"replaceAtIndex",(function(){return replaceAtIndex})),__webpack_require__.d(__webpack_exports__,"forOwn",(function(){return forOwn})),__webpack_require__.d(__webpack_exports__,"rebind",(function(){return rebind.a})),__webpack_require__.d(__webpack_exports__,"zipper",(function(){return zipper.a})),__webpack_require__.d(__webpack_exports__,"merge",(function(){return merge.a})),__webpack_require__.d(__webpack_exports__,"slidingWindow",(function(){return slidingWindow.a})),__webpack_require__.d(__webpack_exports__,"identity",(function(){return identity.a})),__webpack_require__.d(__webpack_exports__,"noop",(function(){return noop.a})),__webpack_require__.d(__webpack_exports__,"shallowEqual",(function(){return shallowEqual.a})),__webpack_require__.d(__webpack_exports__,"mappedSlidingWindow",(function(){return mappedSlidingWindow.a})),__webpack_require__.d(__webpack_exports__,"accumulatingWindow",(function(){return accumulatingWindow.a})),__webpack_require__.d(__webpack_exports__,"plotDataLengthBarWidth",(function(){return barWidth.a})),__webpack_require__.d(__webpack_exports__,"timeIntervalBarWidth",(function(){return barWidth.b})),__webpack_require__.d(__webpack_exports__,"colorToRGBA",(function(){return colors.a})),__webpack_require__.d(__webpack_exports__,"presetToRGB",(function(){return colors.b})),__webpack_require__.d(__webpack_exports__,"rgbToRGBA",(function(){return colors.c})),__webpack_require__.d(__webpack_exports__,"getStrokeDasharrayCanvas",(function(){return strokeDasharray.b})),__webpack_require__.d(__webpack_exports__,"getStrokeDasharray",(function(){return strokeDasharray.a})),__webpack_require__.d(__webpack_exports__,"withDeviceRatio",(function(){return withDeviceRatio}));const yes=()=>!0;function path(loc=[]){const key=Array.isArray(loc)?loc:[loc],length=key.length;return function(obj,defaultValue){if(0===length)return isDefined(obj)?obj:defaultValue;let index=0;for(;null!=obj&&index<length;)obj=obj[key[index++]];return index===length?obj:defaultValue}}function functor(v){return"function"==typeof v?v:()=>v}function createVerticalLinearGradient(stops){return function(moreProps,ctx){const{chartConfig:{height:height}}=moreProps,grd=ctx.createLinearGradient(0,height,0,0);return stops.forEach(each=>{grd.addColorStop(each.stop,each.color)}),grd}}function getClosestItemIndexes2(array,value,accessor){let left=Object(bisector.a)(accessor).left(array,value);left=Math.max(left-1,0);let right=Math.min(left+1,array.length-1);const item=accessor(array[left]);return item>=value&&item<=value&&(right=left),{left:left,right:right}}function getClosestValue(inputValue,currentValue){const diff=(isArray(inputValue)?inputValue:[inputValue]).map(each=>each-currentValue).reduce((diff1,diff2)=>Math.abs(diff1)<Math.abs(diff2)?diff1:diff2);return currentValue+diff}function find(list,predicate,context=this){for(let i=0;i<list.length;++i)if(predicate.call(context,list[i],i,list))return list[i]}function d3Window(node){return node&&(node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView)}const MOUSEENTER="mouseenter.interaction",MOUSELEAVE="mouseleave.interaction",MOUSEMOVE="mousemove.pan",MOUSEUP="mouseup.pan",TOUCHMOVE="touchmove.pan",TOUCHEND="touchend.pan touchcancel.pan";function getTouchProps(touch){return touch?{pageX:touch.pageX,pageY:touch.pageY,clientX:touch.clientX,clientY:touch.clientY}:{}}function getClosestItemIndexes(array,value,accessor){let lo=0,hi=array.length-1;for(;hi-lo>1;){const mid=Math.round((lo+hi)/2);accessor(array[mid])<=value?lo=mid:hi=mid}return accessor(array[lo]).valueOf()===value.valueOf()&&(hi=lo),accessor(array[hi]).valueOf()===value.valueOf()&&(lo=hi),accessor(array[lo])<value&&accessor(array[hi])<value&&(lo=hi),accessor(array[lo])>value&&accessor(array[hi])>value&&(hi=lo),{left:lo,right:hi}}function getClosestItem(array,value,accessor){const{left:left,right:right}=getClosestItemIndexes(array,value,accessor);return left===right?array[left]:Math.abs(accessor(array[left])-value)<Math.abs(accessor(array[right])-value)?array[left]:array[right]}function head(array,accessor){if(!accessor||!array)return array?array[0]:void 0;{let value;for(let i=0;i<array.length;i++)if(value=array[i],isDefined(accessor(value)))return value}}function tail(array,accessor){return accessor&&array?array.map(accessor).slice(1):array?array.slice(1):void 0}const first=head;function last(array,accessor){if(accessor&&array){let value;for(let i=array.length-1;i>=0;i--)if(value=array[i],isDefined(accessor(value)))return value;return}const length=array?array.length:0;return length?array[length-1]:void 0}const isDefined=d=>null!=d;function isNotDefined(d){return!isDefined(d)}function isObject(d){return isDefined(d)&&"object"==typeof d&&!Array.isArray(d)}const isArray=Array.isArray;function touchPosition(touch,e){const container=e.target,rect=container.getBoundingClientRect(),x=touch.clientX-rect.left-container.clientLeft,y=touch.clientY-rect.top-container.clientTop;return[Math.round(x),Math.round(y)]}function mousePosition(e,defaultRect){const container=e.currentTarget,rect=defaultRect||container.getBoundingClientRect(),x=e.clientX-rect.left-container.clientLeft,y=e.clientY-rect.top-container.clientTop;return[Math.round(x),Math.round(y)]}function clearCanvas(canvasList,ratio){canvasList.forEach(each=>{each.setTransform(1,0,0,1,0,0),each.clearRect(-1,-1,each.canvas.width+2,each.canvas.height+2),each.scale(ratio,ratio)})}function capitalizeFirst(str){return str.charAt(0).toUpperCase()+str.substring(1)}function toObject(array,iteratee=identity.a){return array.reduce((returnObj,a)=>{const[key,value]=iteratee(a);return Object.assign(Object.assign({},returnObj),{[key]:value})},{})}function mapValue(object,iteratee){object=Object(object);const result={};return Object.keys(object).forEach(key=>{const mappedValue=iteratee(object[key],key,object);isDefined(mappedValue)&&(result[key]=mappedValue)}),result}function mapObject(object={},iteratee=identity.a){const props=Object.keys(object),result=new Array(props.length);return props.forEach((key,index)=>{result[index]=iteratee(object[key],key,object)}),result}function replaceAtIndex(array,index,value){return isDefined(array)&&array.length>index?array.slice(0,index).concat(value).concat(array.slice(index+1)):array}function forOwn(obj,iteratee){const object=Object(obj);Object.keys(object).forEach(key=>iteratee(object[key],key,object))}},114:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var defaultOptionsForComputation_namespaceObject={};__webpack_require__.r(defaultOptionsForComputation_namespaceObject),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"BollingerBand",(function(){return BollingerBand})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"ATR",(function(){return ATR})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"ForceIndex",(function(){return ForceIndex})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"SmoothedForceIndex",(function(){return SmoothedForceIndex})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"Change",(function(){return Change})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"Compare",(function(){return Compare})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"ElderRay",(function(){return ElderRay})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"ElderImpulse",(function(){return ElderImpulse})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"SAR",(function(){return SAR})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"MACD",(function(){return MACD})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"FullStochasticOscillator",(function(){return FullStochasticOscillator})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"RSI",(function(){return RSI})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"EMA",(function(){return EMA})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"SMA",(function(){return SMA})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"WMA",(function(){return WMA})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"TMA",(function(){return TMA})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"Kagi",(function(){return Kagi})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"Renko",(function(){return Renko})),__webpack_require__.d(defaultOptionsForComputation_namespaceObject,"PointAndFigure",(function(){return PointAndFigure}));var defaultOptionsForAppearance_namespaceObject={};__webpack_require__.r(defaultOptionsForAppearance_namespaceObject),__webpack_require__.d(defaultOptionsForAppearance_namespaceObject,"themes",(function(){return themes})),__webpack_require__.d(defaultOptionsForAppearance_namespaceObject,"BollingerBand",(function(){return defaultOptionsForAppearance_BollingerBand})),__webpack_require__.d(defaultOptionsForAppearance_namespaceObject,"ElderImpulse",(function(){return defaultOptionsForAppearance_ElderImpulse})),__webpack_require__.d(defaultOptionsForAppearance_namespaceObject,"MACD",(function(){return defaultOptionsForAppearance_MACD})),__webpack_require__.d(defaultOptionsForAppearance_namespaceObject,"FullStochasticOscillator",(function(){return defaultOptionsForAppearance_FullStochasticOscillator}));var merge=__webpack_require__(253),rebind=__webpack_require__(252),utils=__webpack_require__(0);const BollingerBand={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},ATR={windowSize:14},ForceIndex={sourcePath:"close",volumePath:"volume"},SmoothedForceIndex={sourcePath:"close",volumePath:"volume",smoothingType:"ema",smoothingWindow:13},Change={sourcePath:"close",basePath:"close",mainKeys:[],compareKeys:[]},Compare={basePath:"close",mainKeys:["open","high","low","close"],compareKeys:[]},ElderRay={windowSize:13,sourcePath:"close",movingAverageType:"sma"},ElderImpulse={sourcePath:"close"},SAR={accelerationFactor:.02,maxAccelerationFactor:.2},MACD={fast:12,slow:26,signal:9,sourcePath:"close"},FullStochasticOscillator={windowSize:12,kWindowSize:3,dWindowSize:3},RSI={windowSize:14,sourcePath:"close"},EMA={sourcePath:"close",windowSize:10},SMA={sourcePath:"close",windowSize:10},WMA={sourcePath:"close",windowSize:10},TMA={sourcePath:"close",windowSize:10},Kagi={reversalType:"ATR",windowSize:14,reversal:2,sourcePath:"close"},Renko={reversalType:"ATR",windowSize:14,fixedBrickSize:2,sourcePath:"high/low"},PointAndFigure={boxSize:.5,reversal:3,sourcePath:"high/low"};var ema=function(){let options=EMA;function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath}=options,source=Object(utils.path)(sourcePath),alpha=2/(windowSize+1);let previous,initialAccumulator=0,skip=0;return data.map((function(d,i){const v=source(d,i);if(Object(utils.isNotDefined)(previous)&&Object(utils.isNotDefined)(v))skip++;else{if(!(i<windowSize+skip-1)){if(i===windowSize+skip-1){const initialValue=(initialAccumulator+=v)/windowSize;return previous=initialValue,initialValue}{const nextValue=v*alpha+(1-alpha)*previous;return previous=nextValue,nextValue}}initialAccumulator+=v}}))}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},EMA),x),calculator):options},calculator},ordinal=__webpack_require__(579),category10=__webpack_require__(584);let baseIndicator_i=0;const overlayColors=Object(ordinal.a)(category10.a);var baseIndicator=function(){let accessor,stroke,fill,echo,type,id=baseIndicator_i++;function baseIndicator(){}return baseIndicator.id=function(x){return arguments.length?(id=x,baseIndicator):id},baseIndicator.accessor=function(x){return arguments.length?(accessor=x,baseIndicator):accessor},baseIndicator.stroke=function(x){return arguments.length?(stroke=x,baseIndicator):stroke||(stroke=overlayColors(id))},baseIndicator.fill=function(x){return arguments.length?(fill=x,baseIndicator):fill||(fill=overlayColors(id))},baseIndicator.echo=function(x){return arguments.length?(echo=x,baseIndicator):echo},baseIndicator.type=function(x){return arguments.length?(type=x,baseIndicator):type},baseIndicator};var indicator_ema=function(){const base=baseIndicator().type("EMA").accessor(d=>d.ema),underlyingAlgorithm=ema(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.ema=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to EMA before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options","undefinedLength"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator},mean=__webpack_require__(575),slidingWindow=__webpack_require__(254);var indicator_sma=function(){const base=baseIndicator().type("SMA").accessor(d=>d.sma),underlyingAlgorithm=function(){let options=SMA;function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath}=options;return Object(slidingWindow.a)().windowSize(windowSize).sourcePath(sourcePath).accumulator(values=>Object(mean.a)(values))(data)}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},SMA),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.sma=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to SMA before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"undefinedLength"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator},sum=__webpack_require__(578);var indicator_wma=function(){const base=baseIndicator().type("WMA").accessor(d=>d.wma),underlyingAlgorithm=function(){let options=WMA;function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath}=options,weight=windowSize*(windowSize+1)/2;return Object(slidingWindow.a)().windowSize(windowSize).sourcePath(sourcePath).accumulator(values=>{return Object(sum.a)(values,(v,i)=>(i+1)*v)/weight})(data)}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},WMA),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.wma=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to WMA before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"undefinedLength"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_tma=function(){const base=baseIndicator().type("TMA").accessor(d=>d.tma),underlyingAlgorithm=function(){let options=TMA;function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath}=options,n=Math.floor(windowSize/2),weight=windowSize%2==0?n*(n+1):(n+1)*(n+1);return Object(slidingWindow.a)().windowSize(windowSize).sourcePath(sourcePath).accumulator(values=>{return Object(sum.a)(values,(v,i)=>i<n?(i+1)*v:(windowSize-i)*v)/weight})(data)}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},TMA),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.tma=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to TMA before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"undefinedLength"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator},deviation=__webpack_require__(583),zipper=__webpack_require__(115);var bollingerBand=function(){const base=baseIndicator().type("BollingerBand"),underlyingAlgorithm=function(){let options=BollingerBand;function calculator(data){const{windowSize:windowSize,multiplier:multiplier,movingAverageType:movingAverageType,sourcePath:sourcePath}=options,source=Object(utils.path)(sourcePath),meanAlgorithm="ema"===movingAverageType?ema().options({windowSize:windowSize,sourcePath:sourcePath}):Object(slidingWindow.a)().windowSize(windowSize).accumulator(values=>Object(mean.a)(values)).sourcePath(sourcePath);return Object(slidingWindow.a)().windowSize(windowSize).accumulator(values=>{const avg=Object(utils.last)(values).mean,stdDev=Object(deviation.a)(values,each=>source(each.datum));if(void 0!==stdDev)return{top:avg+multiplier*stdDev,middle:avg,bottom:avg-multiplier*stdDev}})(Object(zipper.a)().combine((datum,meanValue)=>({datum:datum,meanValue:meanValue}))(data,meanAlgorithm(data)))}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},BollingerBand),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.bollingerBand=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to BollingerBand before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator},identity=__webpack_require__(22),mappedSlidingWindow=__webpack_require__(255);var indicator_heikinAshi=function(){const base=baseIndicator().type("HeikinAshi").accessor(d=>d.ha),underlyingAlgorithm=function(){let source=identity.a;function calculator(data){return Object(mappedSlidingWindow.a)().windowSize(2).undefinedValue(({open:open,high:high,low:low,close:close})=>({open:open,high:high,low:low,close:close=(open+high+low+close)/4})).accumulator(([prev,now])=>{const{date:date,volume:volume}=now,close=(now.open+now.high+now.low+now.close)/4,open=(prev.open+prev.close)/2;return{date:date,open:open,high:Math.max(open,now.high,close),low:Math.min(open,now.low,close),close:close,volume:volume}})(data)}return calculator.source=function(x){return arguments.length?(source=x,calculator):source},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>Object.assign(Object.assign({},datum),i)),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to HeikinAshi before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,mergedAlgorithm,"merge"),indicator},calculator_atr=function(){let options=ATR,source=d=>({open:d.open,high:d.high,low:d.low,close:d.close});function calculator(data){const{windowSize:windowSize}=options,trueRangeAlgorithm=Object(slidingWindow.a)().windowSize(2).source(source).undefinedValue(d=>d.high-d.low).accumulator(values=>{const prev=values[0],d=values[1];return Math.max(d.high-d.low,d.high-prev.close,d.low-prev.close)});let prevATR;return Object(slidingWindow.a)().skipInitial(1).windowSize(windowSize).accumulator(values=>{const tr=Object(utils.last)(values),atr=Object(utils.isDefined)(prevATR)?(prevATR*(windowSize-1)+tr)/windowSize:Object(sum.a)(values)/windowSize;return prevATR=atr,atr})(trueRangeAlgorithm(data))}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},ATR),x),calculator):options},calculator.source=function(x){return arguments.length?(source=x,calculator):source},calculator};var indicator_kagi=function(){const base=baseIndicator().type("Kagi"),underlyingAlgorithm=function(){let options=Kagi,dateAccessor=d=>d.date,dateMutator=(d,date)=>{d.date=date};function calculator(data){const{reversalType:reversalType,windowSize:windowSize,reversal:reversal,sourcePath:sourcePath}=options,source=Object(utils.path)(sourcePath);let reversalThreshold;if("ATR"===reversalType){const atrAlgorithm=calculator_atr().options({windowSize:windowSize});Object(merge.a)().algorithm(atrAlgorithm).merge((d,c)=>{d["atr"+windowSize]=c})(data),reversalThreshold=d=>d["atr"+windowSize]}else reversalThreshold=Object(utils.functor)(reversal);const kagiData=[];let prevPeak,prevTrough,direction,line={};return data.forEach((function(d){Object(utils.isNotDefined)(line.from)&&(dateMutator(line,dateAccessor(d)),line.from=dateAccessor(d),line.open||(line.open=d.open),line.high=d.high,line.low=d.low,line.close||(line.close=source(d)),line.startOfYear=d.startOfYear,line.startOfQuarter=d.startOfQuarter,line.startOfMonth=d.startOfMonth,line.startOfWeek=d.startOfWeek),line.startOfYear||(line.startOfYear=d.startOfYear,line.startOfYear&&(line.date=d.date)),line.startOfQuarter||(line.startOfQuarter=d.startOfQuarter,line.startOfQuarter&&!line.startOfYear&&(line.date=d.date)),line.startOfMonth||(line.startOfMonth=d.startOfMonth,line.startOfMonth&&!line.startOfQuarter&&(line.date=d.date)),line.startOfWeek||(line.startOfWeek=d.startOfWeek,line.startOfWeek&&!line.startOfMonth&&(line.date=d.date)),line.volume=(line.volume||0)+d.volume,line.high=Math.max(line.high,d.high),line.low=Math.min(line.low,d.low),line.to=dateAccessor(d);const priceMovement=source(d)-line.close;if(line.close>=line.open&&priceMovement>0||line.close<line.open&&priceMovement<0)line.close=source(d),prevTrough&&line.close<prevTrough&&(line.changePoint=prevTrough,"yin"!==line.startAs&&(line.changeTo="yin")),prevPeak&&line.close>prevPeak&&(line.changePoint=prevPeak,"yang"!==line.startAs&&(line.changeTo="yang"));else if(line.close>=line.open&&priceMovement<0&&Math.abs(priceMovement)>reversalThreshold(d)||line.close<line.open&&priceMovement>0&&Math.abs(priceMovement)>reversalThreshold(d)){const nextLineOpen=line.close;let nextChangePoint,nextChangeTo;(direction=(line.close-line.open)/Math.abs(line.close-line.open))<0?(Object(utils.isNotDefined)(prevPeak)&&(prevPeak=line.open),prevTrough=line.close,source(d)>prevPeak&&(nextChangePoint=prevPeak,nextChangeTo="yang")):(Object(utils.isNotDefined)(prevTrough)&&(prevTrough=line.open),prevPeak=line.close,source(d)<prevTrough&&(nextChangePoint=prevTrough,nextChangeTo="yin")),Object(utils.isNotDefined)(line.startAs)&&(line.startAs=direction>0?"yang":"yin");const startAs=line.changeTo||line.startAs;line.added=!0,kagiData.push(line),direction*=-1,(line=Object.assign({},line)).open=nextLineOpen,line.close=source(d),line.startAs=startAs,line.changePoint=nextChangePoint,line.changeTo=nextChangeTo,line.added=!1,line.from=void 0,line.volume=0}line.current=source(d);let dir=line.close-line.open;dir=0===dir?1:dir/Math.abs(dir),line.reverseAt=dir>0?line.close-reversalThreshold(d):line.open-reversalThreshold(d)})),line.added||kagiData.push(line),kagiData}return calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},Kagi),x),calculator):options},calculator.dateMutator=function(x){return arguments.length?(dateMutator=x,calculator):dateMutator},calculator.dateAccessor=function(x){return arguments.length?(dateAccessor=x,calculator):dateAccessor},calculator}(),indicator=underlyingAlgorithm;return Object(rebind.a)(indicator,base,"id","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"dateAccessor","dateMutator"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),indicator};function createBox(d,dateAccessor,dateMutator){const box={open:d.open,fromDate:dateAccessor(d),toDate:dateAccessor(d),startOfYear:d.startOfYear,startOfQuarter:d.startOfQuarter,startOfMonth:d.startOfMonth,startOfWeek:d.startOfWeek};return dateMutator(box,dateAccessor(d)),box}var pointAndFigure=function(){let options=PointAndFigure,dateAccessor=d=>d.date,dateMutator=(d,date)=>{d.date=date};function calculator(rawData){const{reversal:reversal,boxSize:boxSize,sourcePath:sourcePath}=options,pricingMethod="high/low"===sourcePath?d=>({high:d.high,low:d.low}):d=>({high:d.close,low:d.close}),columnData=[];let column={boxes:[],open:rawData[0].open},box=createBox(rawData[0],dateAccessor,dateMutator);return columnData.push(column),rawData.forEach((function(d){if(column.volume=(column.volume||0)+d.volume,box.startOfYear||(box.startOfYear=d.startOfYear,box.startOfYear&&dateMutator(box,dateAccessor(d))),box.startOfYear||box.startOfQuarter||(box.startOfQuarter=d.startOfQuarter,box.startOfQuarter&&!box.startOfYear&&dateMutator(box,dateAccessor(d))),box.startOfQuarter||box.startOfMonth||(box.startOfMonth=d.startOfMonth,box.startOfMonth&&!box.startOfQuarter&&dateMutator(box,dateAccessor(d))),box.startOfMonth||box.startOfWeek||(box.startOfWeek=d.startOfWeek,box.startOfWeek&&!box.startOfMonth&&dateMutator(box,dateAccessor(d))),1===columnData.length&&0===column.boxes.length){const upwardMovement=Math.max(pricingMethod(d).high-column.open,0),downwardMovement=Math.abs(Math.min(column.open-pricingMethod(d).low,0));if(column.direction=upwardMovement>downwardMovement?1:-1,boxSize*reversal<upwardMovement||boxSize*reversal<downwardMovement){box.toDate=dateAccessor(d),box.open=column.open;const noOfBoxes=column.direction>0?Math.floor(upwardMovement/boxSize):Math.floor(downwardMovement/boxSize);for(let i=0;i<noOfBoxes;i++){box.close=box.open+column.direction*boxSize;const prevBoxClose=box.close;column.boxes.push(box),(box=createBox(box,dateAccessor,dateMutator)).open=prevBoxClose}box.fromDate=dateAccessor(d),box.date=dateAccessor(d)}}else{const upwardMovement=Math.max(pricingMethod(d).high-box.open,0),downwardMovement=Math.abs(Math.min(pricingMethod(d).low-box.open,0));if(column.direction>0&&upwardMovement>boxSize||column.direction<0&&downwardMovement>boxSize){box.close=box.open+column.direction*boxSize,box.toDate=dateAccessor(d);const prevBoxClose=box.close;column.boxes.push(box),(box=createBox(d,dateAccessor,dateMutator)).open=prevBoxClose,box.fromDate=dateAccessor(d),dateMutator(box,dateAccessor(d))}else if(column.direction>0&&downwardMovement>boxSize*reversal||column.direction<0&&upwardMovement>boxSize*reversal){box.open=box.open+-1*column.direction*boxSize,box.toDate=dateAccessor(d),dateMutator(box,dateAccessor(d));const noOfBoxes=(column={boxes:[],volume:0,direction:-1*column.direction}).direction>0?Math.floor(upwardMovement/boxSize):Math.floor(downwardMovement/boxSize);for(let i=0;i<noOfBoxes;i++){box.close=box.open+column.direction*boxSize;const prevBoxClose=box.close;column.boxes.push(box),(box=createBox(d,dateAccessor,dateMutator)).open=prevBoxClose}columnData.push(column)}}})),function updateColumns(columnData,dateAccessor,dateMutator){return columnData.forEach((function(d){d.startOfYear=!1,d.startOfQuarter=!1,d.startOfMonth=!1,d.startOfWeek=!1,d.boxes.forEach((function(eachBox){Object(utils.isNotDefined)(d.open)&&(d.open=eachBox.open),d.close=eachBox.close,d.high=Math.max(d.open,d.close),d.low=Math.min(d.open,d.close),Object(utils.isNotDefined)(d.fromDate)&&(d.fromDate=eachBox.fromDate),Object(utils.isNotDefined)(d.date)&&(d.date=eachBox.date),d.toDate=eachBox.toDate,eachBox.startOfYear&&(d.startOfYear=d.startOfYear||eachBox.startOfYear,d.startOfQuarter=eachBox.startOfQuarter,d.startOfMonth=eachBox.startOfMonth,d.startOfWeek=eachBox.startOfWeek,dateMutator(d,dateAccessor(eachBox))),!0!==d.startOfQuarter&&eachBox.startOfQuarter&&(d.startOfQuarter=eachBox.startOfQuarter,d.startOfMonth=eachBox.startOfMonth,d.startOfWeek=eachBox.startOfWeek,dateMutator(d,dateAccessor(eachBox))),!0!==d.startOfMonth&&eachBox.startOfMonth&&(d.startOfMonth=eachBox.startOfMonth,d.startOfWeek=eachBox.startOfWeek,dateMutator(d,dateAccessor(eachBox))),!0!==d.startOfWeek&&eachBox.startOfWeek&&(d.startOfWeek=eachBox.startOfWeek,dateMutator(d,dateAccessor(eachBox)))}))})),columnData}(columnData,dateAccessor,dateMutator),columnData}return calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},PointAndFigure),x),calculator):options},calculator.dateMutator=function(x){return arguments.length?(dateMutator=x,calculator):dateMutator},calculator.dateAccessor=function(x){return arguments.length?(dateAccessor=x,calculator):dateAccessor},calculator};var indicator_pointAndFigure=function(){const base=baseIndicator().type("PointAndFigure"),underlyingAlgorithm=pointAndFigure(),indicator=underlyingAlgorithm;return Object(rebind.a)(indicator,base,"id","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"dateAccessor","dateMutator"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),indicator};var indicator_renko=function(){const base=baseIndicator().type("Renko"),underlyingAlgorithm=function(){let options=Renko,dateAccessor=d=>d.date,dateMutator=(d,date)=>{d.date=date};function calculator(rawData){const{reversalType:reversalType,fixedBrickSize:fixedBrickSize,sourcePath:sourcePath,windowSize:windowSize}=options,pricingMethod="high/low"===sourcePath?d=>({high:d.high,low:d.low}):d=>({high:d.close,low:d.close});let brickSize;if("ATR"===reversalType){const atrAlgorithm=calculator_atr().options({windowSize:windowSize});Object(merge.a)().algorithm(atrAlgorithm).merge((d,c)=>{d["atr"+windowSize]=c})(rawData),brickSize=d=>d["atr"+windowSize]}else brickSize=Object(utils.functor)(fixedBrickSize);const renkoData=[];let index=0,prevBrickClose=rawData[index].open,prevBrickOpen=rawData[index].open,brick={},direction=0;return rawData.forEach((function(d,idx){Object(utils.isNotDefined)(brick.from)&&(brick.high=d.high,brick.low=d.low,brick.startOfYear=d.startOfYear,brick.startOfQuarter=d.startOfQuarter,brick.startOfMonth=d.startOfMonth,brick.startOfWeek=d.startOfWeek,brick.from=idx,brick.fromDate=dateAccessor(d),dateMutator(brick,dateAccessor(d))),brick.volume=(brick.volume||0)+d.volume;const prevCloseToHigh=prevBrickClose-pricingMethod(d).high,prevCloseToLow=prevBrickClose-pricingMethod(d).low,prevOpenToHigh=prevBrickOpen-pricingMethod(d).high,prevOpenToLow=prevBrickOpen-pricingMethod(d).low,priceMovement=Math.min(Math.abs(prevCloseToHigh),Math.abs(prevCloseToLow),Math.abs(prevOpenToHigh),Math.abs(prevOpenToLow));if(brick.high=Math.max(brick.high,d.high),brick.low=Math.min(brick.low,d.low),brick.startOfYear||(brick.startOfYear=d.startOfYear,brick.startOfYear&&dateMutator(brick,dateAccessor(d))),brick.startOfQuarter||(brick.startOfQuarter=d.startOfQuarter,brick.startOfQuarter&&!brick.startOfYear&&dateMutator(brick,dateAccessor(d))),brick.startOfMonth||(brick.startOfMonth=d.startOfMonth,brick.startOfMonth&&!brick.startOfQuarter&&dateMutator(brick,dateAccessor(d))),brick.startOfWeek||(brick.startOfWeek=d.startOfWeek,brick.startOfWeek&&!brick.startOfMonth&&dateMutator(brick,dateAccessor(d))),brickSize(d)){const noOfBricks=Math.floor(priceMovement/brickSize(d));if(brick.open=Math.abs(prevCloseToHigh)<Math.abs(prevOpenToHigh)||Math.abs(prevCloseToLow)<Math.abs(prevOpenToLow)?prevBrickClose:prevBrickOpen,noOfBricks>=1){let j=0;for(j=0;j<noOfBricks;j++){brick.close=brick.open<pricingMethod(d).high?brick.open+brickSize(d):brick.open-brickSize(d),direction=brick.close>brick.open?1:-1,brick.direction=direction,brick.to=idx,brick.toDate=dateAccessor(d),brick.fullyFormed=!0,renkoData.push(brick),prevBrickClose=brick.close,prevBrickOpen=brick.open;const newBrick={high:brick.high,low:brick.low,open:brick.close,startOfYear:!1,startOfMonth:!1,startOfQuarter:!1,startOfWeek:!1};(brick=newBrick).from=idx,brick.fromDate=dateAccessor(d),dateMutator(brick,dateAccessor(d)),brick.volume=(brick.volume||0)+d.volume}index=index+j-1,brick={}}else idx===rawData.length-1&&(brick.close=direction>0?pricingMethod(d).high:pricingMethod(d).low,brick.to=idx,brick.toDate=dateAccessor(d),dateMutator(brick,dateAccessor(d)),brick.fullyFormed=!1,renkoData.push(brick))}})),renkoData}return calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},Renko),x),calculator):options},calculator.dateMutator=function(x){return arguments.length?(dateMutator=x,calculator):dateMutator},calculator.dateAccessor=function(x){return arguments.length?(dateAccessor=x,calculator):dateAccessor},calculator}(),indicator=underlyingAlgorithm;return Object(rebind.a)(indicator,base,"id","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"dateAccessor","dateMutator"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),indicator};const themes={light:{BollingerBand:{stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#4682B4"},stroke:{macd:"#FF0000",signal:"#00F300"}},FullStochasticOscillator:{stroke:{top:"#37a600",middle:"#b8ab00",bottom:"#37a600",dLine:"#17becf",kLine:"#ff7f0e"}}},dark:{BollingerBand:{stroke:{top:"#964B00",middle:"#FF6600",bottom:"#964B00"},fill:"#4682B4"},ElderImpulse:{stroke:{up:"#6BA583",down:"#FF0000",neutral:"#0000FF"}},MACD:{fill:{divergence:"#FF6600"},stroke:{macd:"#ea2bff",signal:"#74d400"}},FullStochasticOscillator:{stroke:{top:"#37a600",middle:"#b8ab00",bottom:"#37a600",dLine:"#ea2bff",kLine:"#74d400"}}}},defaultOptionsForAppearance_BollingerBand=themes.light.BollingerBand,defaultOptionsForAppearance_ElderImpulse=themes.light.ElderImpulse,defaultOptionsForAppearance_MACD=themes.light.MACD,defaultOptionsForAppearance_FullStochasticOscillator=themes.light.FullStochasticOscillator;var indicator_macd=function(){const base=baseIndicator().type("MACD").fill(defaultOptionsForAppearance_MACD.fill).stroke(defaultOptionsForAppearance_MACD.stroke).accessor(d=>d.macd),underlyingAlgorithm=function(){let options=MACD;function calculator(data){const{fast:fast,slow:slow,signal:signal,sourcePath:sourcePath}=options,fastEMA=ema().options({windowSize:fast,sourcePath:sourcePath}),slowEMA=ema().options({windowSize:slow,sourcePath:sourcePath}),signalEMA=ema().options({windowSize:signal,sourcePath:void 0}),macdArray=Object(zipper.a)().combine((fastEMAValue,slowEMAValue)=>Object(utils.isDefined)(fastEMAValue)&&Object(utils.isDefined)(slowEMAValue)?fastEMAValue-slowEMAValue:void 0)(fastEMA(data),slowEMA(data)),signalArray=new Array(slow).concat(signalEMA(macdArray.slice(slow)));return Object(zipper.a)().combine((macdValue,signalValue)=>({macdValue:macdValue,signalValue:signalValue,divergence:Object(utils.isDefined)(macdValue)&&Object(utils.isDefined)(signalValue)?macdValue-signalValue:void 0}))(macdArray,signalArray)}return calculator.undefinedLength=function(){const{slow:slow,signal:signal}=options;return slow+signal-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},MACD),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.macd=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to MACD before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options","undefinedLength"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_rsi=function(){const base=baseIndicator().type("RSI").accessor(d=>d.rsi),underlyingAlgorithm=function(){let options=RSI;function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath}=options,source=Object(utils.path)(sourcePath);let prevAvgGain,prevAvgLoss;return Object(slidingWindow.a)().windowSize(windowSize).accumulator(values=>{const avgGain=Object(utils.isDefined)(prevAvgGain)?(prevAvgGain*(windowSize-1)+Object(utils.last)(values).gain)/windowSize:Object(mean.a)(values,each=>each.gain);if(void 0===avgGain)return;const avgLoss=Object(utils.isDefined)(prevAvgLoss)?(prevAvgLoss*(windowSize-1)+Object(utils.last)(values).loss)/windowSize:Object(mean.a)(values,each=>each.loss);return void 0!==avgLoss?(prevAvgGain=avgGain,prevAvgLoss=avgLoss,100-100/(1+avgGain/avgLoss)):void 0})(Object(slidingWindow.a)().windowSize(2).undefinedValue(()=>[0,0]).accumulator(tuple=>{const prev=tuple[0],now=tuple[1],change=source(now)-source(prev);return{gain:Math.max(change,0),loss:Math.abs(Math.min(change,0))}})(data))}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},RSI),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.rsi=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to RSI before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options","undefinedLength"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_atr=function(){const base=baseIndicator().type("ATR"),underlyingAlgorithm=calculator_atr(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.atr=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to ATR before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator},max=__webpack_require__(574),min=__webpack_require__(162),sto=function(){let options=FullStochasticOscillator,source=d=>({open:d.open,high:d.high,low:d.low,close:d.close});function calculator(data){const{windowSize:windowSize,kWindowSize:kWindowSize,dWindowSize:dWindowSize}=options,high=d=>source(d).high,low=d=>source(d).low,kWindow=Object(slidingWindow.a)().windowSize(windowSize).accumulator(values=>{const highestHigh=Object(max.a)(values,high);if(void 0===highestHigh)return;const lowestLow=Object(min.a)(values,low);return void 0!==lowestLow?((d=>source(d).close)(Object(utils.last)(values))-lowestLow)/(highestHigh-lowestLow)*100:void 0}),kSmoothed=Object(slidingWindow.a)().skipInitial(windowSize-1).windowSize(kWindowSize).accumulator(values=>Object(mean.a)(values)),dWindow=Object(slidingWindow.a)().skipInitial(windowSize-1+kWindowSize-1).windowSize(dWindowSize).accumulator(values=>Object(mean.a)(values)),stoAlgorithm=Object(zipper.a)().combine((K,D)=>({K:K,D:D})),kData=kSmoothed(kWindow(data));return stoAlgorithm(kData,dWindow(kData))}return calculator.undefinedLength=function(){const{windowSize:windowSize,kWindowSize:kWindowSize,dWindowSize:dWindowSize}=options;return windowSize+kWindowSize+dWindowSize},calculator.source=function(x){return arguments.length?(source=x,calculator):source},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},FullStochasticOscillator),x),calculator):options},calculator};var stochasticOscillator=function(){const base=baseIndicator().type("STO"),underlyingAlgorithm=sto(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.sto=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to STO before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options","undefinedLength"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_forceIndex=function(){const base=baseIndicator().type("ForceIndex").accessor(d=>d.forceIndex),underlyingAlgorithm=function(){let options=ForceIndex;function calculator(data){const{sourcePath:sourcePath,volumePath:volumePath}=options,source=Object(utils.path)(sourcePath),volume=Object(utils.path)(volumePath);return Object(slidingWindow.a)().windowSize(2).accumulator(([prev,curr])=>(source(curr)-source(prev))*volume(curr))(data)}return calculator.undefinedLength=function(){return 2},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},ForceIndex),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.forceIndex=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to ForceIndex before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var sar=function(){let options=SAR;function calculator(data){const{accelerationFactor:accelerationFactor,maxAccelerationFactor:maxAccelerationFactor}=options;return Object(mappedSlidingWindow.a)().windowSize(2).undefinedValue(({high:high,low:low})=>({risingSar:low,risingEp:high,fallingSar:high,fallingEp:low,af:accelerationFactor})).accumulator(([prev,now])=>{const{risingSar:risingSar,fallingSar:fallingSar,risingEp:risingEp,fallingEp:fallingEp}=function calc(prev,now){return{risingSar:prev.risingSar+prev.af*(prev.risingEp-prev.risingSar),fallingSar:prev.fallingSar-prev.af*(prev.fallingSar-prev.fallingEp),risingEp:Math.max(prev.risingEp,now.high),fallingEp:Math.min(prev.fallingEp,now.low)}}(prev,now);if(Object(utils.isNotDefined)(prev.use)&&risingSar>now.low&&fallingSar<now.high)return{risingSar:risingSar,fallingSar:fallingSar,risingEp:risingEp,fallingEp:fallingEp};const use=Object(utils.isDefined)(prev.use)?"rising"===prev.use?risingSar>now.low?"falling":"rising":fallingSar<now.high?"rising":"falling":risingSar>now.low?"falling":"rising",current=prev.use===use?{af:Math.min(maxAccelerationFactor,prev.af+accelerationFactor),fallingEp:fallingEp,risingEp:risingEp,fallingSar:fallingSar,risingSar:risingSar}:{af:accelerationFactor,fallingEp:now.low,risingEp:now.high,fallingSar:Math.max(prev.risingEp,now.high),risingSar:Math.min(prev.fallingEp,now.low)},{date:date,high:high,low:low}=now;return Object.assign(Object.assign({date:date,high:high,low:low},current),{use:use,sar:"falling"===use?current.fallingSar:current.risingSar})})(data).map(d=>d.sar)}return calculator.undefinedLength=function(){return 1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},SAR),x),calculator):options},calculator};var indicator_sar=function(){const base=baseIndicator().type("SMA").accessor(d=>d.sar),underlyingAlgorithm=sar(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.sar=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to SMA before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"undefinedLength"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge"),indicator};var indicator_elderRay=function(){const base=baseIndicator().type("ElderRay").accessor(d=>d.elderRay),underlyingAlgorithm=function(){let options=ElderRay,ohlc=d=>({open:d.open,high:d.high,low:d.low,close:d.close});function calculator(data){const{windowSize:windowSize,sourcePath:sourcePath,movingAverageType:movingAverageType}=options,meanAlgorithm="ema"===movingAverageType?ema().options({windowSize:windowSize,sourcePath:sourcePath}):Object(slidingWindow.a)().windowSize(windowSize).accumulator(values=>Object(mean.a)(values)).sourcePath(sourcePath);return Object(zipper.a)().combine((datum,meanValue)=>{return{bullPower:Object(utils.isDefined)(meanValue)?ohlc(datum).high-meanValue:void 0,bearPower:Object(utils.isDefined)(meanValue)?ohlc(datum).low-meanValue:void 0}})(data,meanAlgorithm(data))}return calculator.undefinedLength=function(){const{windowSize:windowSize}=options;return windowSize-1},calculator.ohlc=function(x){return arguments.length?(ohlc=x,calculator):ohlc},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},ElderRay),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.elderRay=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to ElderRay before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_change=function(){const base=baseIndicator().type("Change"),underlyingAlgorithm=function(){let options=Change;function calculator(data){const{sourcePath:sourcePath}=options;return Object(slidingWindow.a)().windowSize(2).sourcePath(sourcePath).accumulator(([prev,curr])=>{const absoluteChange=curr-prev;return{absoluteChange:absoluteChange,percentChange:100*absoluteChange/prev}})(data)}return calculator.undefinedLength=function(){return 1},calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},Change),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.absoluteChange=i.absoluteChange,datum.percentChange=i.percentChange}),indicator=function(data,options={merge:!0}){return options.merge?mergedAlgorithm(data):underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var elderImpulse=function(){let macdSource,emaSource;const base=baseIndicator().type("ElderImpulse").stroke(defaultOptionsForAppearance_ElderImpulse.stroke).fill(void 0),underlyingAlgorithm=Object(slidingWindow.a)().windowSize(2).undefinedValue("neutral").accumulator(([prev,curr])=>{if(Object(utils.isNotDefined)(macdSource))throw new Error("macdSource not defined for ElderImpulse calculator");if(Object(utils.isNotDefined)(emaSource))throw new Error("emaSource not defined for ElderImpulse calculator");if(Object(utils.isDefined)(macdSource(prev))&&Object(utils.isDefined)(emaSource(prev))){const prevMACDDivergence=macdSource(prev).divergence,currMACDDivergence=macdSource(curr).divergence,prevEMA=emaSource(prev),currEMA=emaSource(curr);if(currMACDDivergence>=prevMACDDivergence&&currEMA>=prevEMA)return"up";if(currMACDDivergence<=prevMACDDivergence&&currEMA<=prevEMA)return"down"}return"neutral"}),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.elderImpulse=i}),indicator=function(data,options={merge:!0}){return options.merge?mergedAlgorithm(data):underlyingAlgorithm(data)};return indicator.macdSource=function(x){return arguments.length?(macdSource=x,indicator):macdSource},indicator.emaSource=function(x){return arguments.length?(emaSource=x,indicator):emaSource},Object(rebind.a)(indicator,base,"id","echo","type","stroke"),Object(rebind.a)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator};var indicator_compare=function(){const base=baseIndicator().type("Compare").accessor(d=>d.compare),underlyingAlgorithm=function(){let options=Change;function calculator(data){const{basePath:basePath,mainKeys:mainKeys,compareKeys:compareKeys}=options,b=Object(utils.path)(basePath)(Object(utils.head)(data)),firsts={};return data.map(d=>{const result={};return mainKeys.forEach(key=>{"object"==typeof d[key]?(result[key]={},Object.keys(d[key]).forEach(subkey=>{result[key][subkey]=(d[key][subkey]-b)/b})):result[key]=(d[key]-b)/b}),compareKeys.forEach(key=>{Object(utils.isDefined)(d[key])&&Object(utils.isNotDefined)(firsts[key])&&(firsts[key]=d[key]),Object(utils.isDefined)(d[key])&&Object(utils.isDefined)(firsts[key])&&(result[key]=(d[key]-firsts[key])/firsts[key])}),result})}return calculator.options=function(x){return arguments.length?(options=Object.assign(Object.assign({},Change),x),calculator):options},calculator}(),mergedAlgorithm=Object(merge.a)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.compare=i}),indicator=function(data,options={merge:!0}){if(options.merge){if(!base.accessor())throw new Error("Set an accessor to Compare before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return Object(rebind.a)(indicator,base,"id","accessor","stroke","fill","echo","type"),Object(rebind.a)(indicator,underlyingAlgorithm,"options"),Object(rebind.a)(indicator,mergedAlgorithm,"merge"),indicator};__webpack_require__.d(__webpack_exports__,"ema",(function(){return indicator_ema})),__webpack_require__.d(__webpack_exports__,"sma",(function(){return indicator_sma})),__webpack_require__.d(__webpack_exports__,"wma",(function(){return indicator_wma})),__webpack_require__.d(__webpack_exports__,"tma",(function(){return indicator_tma})),__webpack_require__.d(__webpack_exports__,"bollingerBand",(function(){return bollingerBand})),__webpack_require__.d(__webpack_exports__,"heikinAshi",(function(){return indicator_heikinAshi})),__webpack_require__.d(__webpack_exports__,"kagi",(function(){return indicator_kagi})),__webpack_require__.d(__webpack_exports__,"pointAndFigure",(function(){return indicator_pointAndFigure})),__webpack_require__.d(__webpack_exports__,"renko",(function(){return indicator_renko})),__webpack_require__.d(__webpack_exports__,"macd",(function(){return indicator_macd})),__webpack_require__.d(__webpack_exports__,"rsi",(function(){return indicator_rsi})),__webpack_require__.d(__webpack_exports__,"atr",(function(){return indicator_atr})),__webpack_require__.d(__webpack_exports__,"stochasticOscillator",(function(){return stochasticOscillator})),__webpack_require__.d(__webpack_exports__,"forceIndex",(function(){return indicator_forceIndex})),__webpack_require__.d(__webpack_exports__,"sar",(function(){return indicator_sar})),__webpack_require__.d(__webpack_exports__,"elderRay",(function(){return indicator_elderRay})),__webpack_require__.d(__webpack_exports__,"change",(function(){return indicator_change})),__webpack_require__.d(__webpack_exports__,"elderImpulse",(function(){return elderImpulse})),__webpack_require__.d(__webpack_exports__,"compare",(function(){return indicator_compare})),__webpack_require__.d(__webpack_exports__,"defaultOptionsForComputation",(function(){return defaultOptionsForComputation_namespaceObject})),__webpack_require__.d(__webpack_exports__,"defaultOptionsForAppearance",(function(){return defaultOptionsForAppearance_namespaceObject}))},115:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return zipper}));var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(162),_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22);function zipper(){let combine=_identity__WEBPACK_IMPORTED_MODULE_1__.a;function zip(){const n=arguments.length;if(!n)return[];const m=Object(d3_array__WEBPACK_IMPORTED_MODULE_0__.a)(arguments,d3_zipLength);let i;const zips=new Array(m);for(i=-1;++i<m;){for(let j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];zips[i]=combine.apply(this,zips[i])}return zips}function d3_zipLength(d){return d.length}return zip.combine=function(x){return arguments.length?(combine=x,zip):combine},zip}},16:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=()=>{}},22:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=d=>d},252:function(module,__webpack_exports__,__webpack_require__){"use strict";function createReboundMethod(target,source,name){const method=source[name];if("function"!=typeof method)throw new Error(`Attempt to rebind ${name} which isn't a function on the source object`);return(...args)=>{const value=method.apply(source,args);return value===source?target:value}}function rebind(target,source,...names){for(const name of names)target[name]=createReboundMethod(target,source,name);return target}__webpack_require__.d(__webpack_exports__,"a",(function(){return rebind}))},253:function(module,__webpack_exports__,__webpack_require__){"use strict";var _identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_noop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),_zipper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(115),_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);__webpack_exports__.a=function(){let algorithm=_identity__WEBPACK_IMPORTED_MODULE_0__.a,skipUndefined=!0,merge=_noop__WEBPACK_IMPORTED_MODULE_1__.a;function mergeCompute(data){return Object(_zipper__WEBPACK_IMPORTED_MODULE_2__.a)().combine((datum,indicator)=>{const result=skipUndefined&&Object(_index__WEBPACK_IMPORTED_MODULE_3__.isNotDefined)(indicator)?datum:merge(datum,indicator);return Object(_index__WEBPACK_IMPORTED_MODULE_3__.isNotDefined)(result)?datum:result})(data,algorithm(data))}return mergeCompute.algorithm=function(x){return arguments.length?(algorithm=x,mergeCompute):algorithm},mergeCompute.merge=function(x){return arguments.length?(merge=x,mergeCompute):merge},mergeCompute.skipUndefined=function(x){return arguments.length?(skipUndefined=x,mergeCompute):skipUndefined},mergeCompute}},254:function(module,__webpack_exports__,__webpack_require__){"use strict";var _index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_noop__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16);__webpack_exports__.a=function(){let undefinedValue,sourcePath,source,misc,windowSize=10,accumulator=_noop__WEBPACK_IMPORTED_MODULE_1__.a,skipInitial=0;const slidingWindow=function(data){const sourceFunction=source||Object(_index__WEBPACK_IMPORTED_MODULE_0__.path)(sourcePath),size=Object(_index__WEBPACK_IMPORTED_MODULE_0__.functor)(windowSize).apply(this,arguments),windowData=data.slice(skipInitial,size+skipInitial).map(sourceFunction);let accumulatorIdx=0;const undef=Object(_index__WEBPACK_IMPORTED_MODULE_0__.functor)(undefinedValue);return data.map((function(d,i){return i<skipInitial+size-1?undef(sourceFunction(d),i,misc):(i>=skipInitial+size&&(windowData.shift(),windowData.push(sourceFunction(d,i))),accumulator(windowData,i,accumulatorIdx++,misc))}))};return slidingWindow.undefinedValue=function(x){return arguments.length?(undefinedValue=x,slidingWindow):undefinedValue},slidingWindow.windowSize=function(x){return arguments.length?(windowSize=x,slidingWindow):windowSize},slidingWindow.misc=function(x){return arguments.length?(misc=x,slidingWindow):misc},slidingWindow.accumulator=function(x){return arguments.length?(accumulator=x,slidingWindow):accumulator},slidingWindow.skipInitial=function(x){return arguments.length?(skipInitial=x,slidingWindow):skipInitial},slidingWindow.sourcePath=function(x){return arguments.length?(sourcePath=x,slidingWindow):sourcePath},slidingWindow.source=function(x){return arguments.length?(source=x,slidingWindow):source},slidingWindow}},255:function(module,__webpack_exports__,__webpack_require__){"use strict";var _identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_noop__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16);__webpack_exports__.a=function(){let undefinedValue,windowSize=10,accumulator=_noop__WEBPACK_IMPORTED_MODULE_2__.a,source=_identity__WEBPACK_IMPORTED_MODULE_0__.a,skipInitial=0;const mappedSlidingWindow=function(data){const size=Object(_index__WEBPACK_IMPORTED_MODULE_1__.functor)(windowSize).apply(this,arguments),windowData=[];let accumulatorIdx=0;const undef=Object(_index__WEBPACK_IMPORTED_MODULE_1__.functor)(undefinedValue),result=[];return data.forEach((function(d,i){let mapped;if(i<skipInitial+size-1)return mapped=undef(d,i),result.push(mapped),void windowData.push(mapped);i>=skipInitial+size&&windowData.shift(),windowData.push(source(d,i)),mapped=accumulator(windowData,i,accumulatorIdx++),result.push(mapped),windowData.pop(),windowData.push(mapped)})),result};return mappedSlidingWindow.undefinedValue=function(x){return arguments.length?(undefinedValue=x,mappedSlidingWindow):undefinedValue},mappedSlidingWindow.windowSize=function(x){return arguments.length?(windowSize=x,mappedSlidingWindow):windowSize},mappedSlidingWindow.accumulator=function(x){return arguments.length?(accumulator=x,mappedSlidingWindow):accumulator},mappedSlidingWindow.skipInitial=function(x){return arguments.length?(skipInitial=x,mappedSlidingWindow):skipInitial},mappedSlidingWindow.source=function(x){return arguments.length?(source=x,mappedSlidingWindow):source},mappedSlidingWindow}},256:function(module,__webpack_exports__,__webpack_require__){"use strict";var _identity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_noop__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16);__webpack_exports__.a=function(){let accumulateTill=Object(_index__WEBPACK_IMPORTED_MODULE_1__.functor)(!1),accumulator=_noop__WEBPACK_IMPORTED_MODULE_2__.a,value=_identity__WEBPACK_IMPORTED_MODULE_0__.a,discardTillStart=!1,discardTillEnd=!1;const accumulatingWindow=function(data){let accumulatedWindow=discardTillStart?void 0:[];const response=[];let accumulatorIdx=0,i=0;for(i=0;i<data.length;i++){const d=data[i];accumulateTill(d,i,accumulatedWindow||[])?(accumulatedWindow&&accumulatedWindow.length>0&&response.push(accumulator(accumulatedWindow,i,accumulatorIdx++)),accumulatedWindow=[value(d)]):accumulatedWindow&&accumulatedWindow.push(value(d))}return discardTillEnd||response.push(accumulator(accumulatedWindow,i,accumulatorIdx)),response};return accumulatingWindow.accumulateTill=function(x){return arguments.length?(accumulateTill=Object(_index__WEBPACK_IMPORTED_MODULE_1__.functor)(x),accumulatingWindow):accumulateTill},accumulatingWindow.accumulator=function(x){return arguments.length?(accumulator=x,accumulatingWindow):accumulator},accumulatingWindow.value=function(x){return arguments.length?(value=x,accumulatingWindow):value},accumulatingWindow.discardTillStart=function(x){return arguments.length?(discardTillStart=x,accumulatingWindow):discardTillStart},accumulatingWindow.discardTillEnd=function(x){return arguments.length?(discardTillEnd=x,accumulatingWindow):discardTillEnd},accumulatingWindow}},257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return plotDataLengthBarWidth})),__webpack_require__.d(__webpack_exports__,"b",(function(){return timeIntervalBarWidth}));var ___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const plotDataLengthBarWidth=(props,moreProps)=>{const{widthRatio:widthRatio}=props,{xScale:xScale}=moreProps,[l,r]=xScale.range(),totalWidth=Math.abs(r-l);if(null!=xScale.invert){const[dl,dr]=xScale.domain();return totalWidth/Math.abs(dl-dr)*widthRatio}return totalWidth/xScale.domain().length*widthRatio},timeIntervalBarWidth=interval=>(function(props,moreProps){const{widthRatio:widthRatio}=props,{xScale:xScale,xAccessor:xAccessor,plotData:plotData}=moreProps,first=xAccessor(Object(___WEBPACK_IMPORTED_MODULE_0__.head)(plotData));return Math.abs(xScale(interval.offset(first,1))-xScale(first))*widthRatio})},258:function(module,__webpack_exports__,__webpack_require__){"use strict";function getStrokeDasharrayCanvas(type){const a=getStrokeDasharray(type).split(",");return 1===a.length?[]:a.map(d=>Number(d))}__webpack_require__.d(__webpack_exports__,"b",(function(){return getStrokeDasharrayCanvas})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getStrokeDasharray}));const getStrokeDasharray=type=>{switch(type){default:case"Solid":return"none";case"ShortDash":return"6, 2";case"ShortDash2":return"6, 3";case"ShortDot":return"2, 2";case"ShortDashDot":return"6, 2, 2, 2";case"ShortDashDotDot":return"6, 2, 2, 2, 2, 2";case"Dot":return"2, 6";case"Dash":return"4, 6";case"LongDash":return"16, 6";case"DashDot":return"8, 6, 2, 6";case"LongDashDot":return"16, 6, 2, 6";case"LongDashDotDot":return"16, 6, 2, 6, 2, 6"}}},260:function(module,__webpack_exports__,__webpack_require__){"use strict";const colorPresets={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};__webpack_require__.d(__webpack_exports__,"a",(function(){return colorToRGBA})),__webpack_require__.d(__webpack_exports__,"b",(function(){return presetToRGB})),__webpack_require__.d(__webpack_exports__,"c",(function(){return rgbToRGBA}));const colorToRGBA=(inputColor,opacity=1)=>"#"===inputColor.charAt(0)?hexToRGBA(inputColor.trim(),opacity):-1!==inputColor.indexOf("rgb(")||-1!==inputColor.indexOf("rgba(")?rgbToRGBA(inputColor.trim(),opacity):/^\w+$/.exec(inputColor)?presetToRGB(inputColor.trim(),opacity):inputColor,presetToRGB=(inputPreset,opacity=1)=>{if(!colorPresets.hasOwnProperty(inputPreset.toLowerCase()))throw new Error(`preset color does not exist: ${inputPreset}`);return hexToRGBA(colorPresets[inputPreset],opacity)},rgbToRGBA=(inputRGB,opacity=1)=>{const res=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i.exec(inputRGB);if(!res)throw new Error(`invalid inputRGB: ${inputRGB}`);const[,r,g,b]=res;return`rgba(${r}, ${g}, ${b}, ${opacity})`},hexToRGBA=(inputHex,opacity)=>{const hex=inputHex.replace("#","");if(inputHex.indexOf("#")>-1&&(3===hex.length||6===hex.length)){const multiplier=3===hex.length?1:2;return`rgba(${parseInt(hex.substring(0,1*multiplier),16)}, ${parseInt(hex.substring(1*multiplier,2*multiplier),16)}, ${parseInt(hex.substring(2*multiplier,3*multiplier),16)}, ${opacity})`}return inputHex}},267:function(module,exports,__webpack_require__){__webpack_require__(268),__webpack_require__(379),module.exports=__webpack_require__(380)},290:function(module,exports){},3:function(module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_GenericComponent__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0);const ALWAYS_TRUE_TYPES=["drag","dragend"];class GenericChartComponent extends _GenericComponent__WEBPACK_IMPORTED_MODULE_1__.a{constructor(props,context){super(props,context),this.preCanvasDraw=this.preCanvasDraw.bind(this),this.postCanvasDraw=this.postCanvasDraw.bind(this),this.shouldTypeProceed=this.shouldTypeProceed.bind(this),this.preEvaluate=this.preEvaluate.bind(this)}preCanvasDraw(ctx,moreProps){super.preCanvasDraw(ctx,moreProps),ctx.save();const{margin:margin,ratio:ratio}=this.context,{chartConfig:chartConfig}=moreProps,canvasOriginX=.5*ratio+chartConfig.origin[0]+margin.left,canvasOriginY=.5*ratio+chartConfig.origin[1]+margin.top,{chartConfig:{width:width,height:height}}=moreProps,{clip:clip,edgeClip:edgeClip}=this.props;ctx.setTransform(1,0,0,1,0,0),ctx.scale(ratio,ratio),edgeClip&&(ctx.beginPath(),ctx.rect(-1,canvasOriginY-10,width+margin.left+margin.right+1,height+20),ctx.clip()),ctx.translate(canvasOriginX,canvasOriginY),clip&&(ctx.beginPath(),ctx.rect(-1,-1,width+1,height+1),ctx.clip())}postCanvasDraw(ctx,moreProps){super.postCanvasDraw(ctx,moreProps),ctx.restore()}updateMoreProps(moreProps){super.updateMoreProps(moreProps);const{chartConfig:chartConfigList}=moreProps;if(chartConfigList&&Array.isArray(chartConfigList)){const{chartId:chartId}=this.context,chartConfig=Object(_utils__WEBPACK_IMPORTED_MODULE_2__.find)(chartConfigList,each=>each.id===chartId);this.moreProps.chartConfig=chartConfig}if(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(this.moreProps.chartConfig)){const{origin:[ox,oy]}=this.moreProps.chartConfig;if(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(moreProps.mouseXY)){const{mouseXY:[x,y]}=moreProps;this.moreProps.mouseXY=[x-ox,y-oy]}if(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(moreProps.startPos)){const{startPos:[x,y]}=moreProps;this.moreProps.startPos=[x-ox,y-oy]}}}preEvaluate(){}shouldTypeProceed(type,moreProps){return!("mousemove"!==type&&"click"!==type||!this.props.disablePan)||(-1!==ALWAYS_TRUE_TYPES.indexOf(type)||!Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(moreProps)||!Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(moreProps.currentCharts)||moreProps.currentCharts.indexOf(this.context.chartId)>-1)}}GenericChartComponent.defaultProps=_GenericComponent__WEBPACK_IMPORTED_MODULE_1__.a.defaultProps,GenericChartComponent.contextTypes={width:prop_types__WEBPACK_IMPORTED_MODULE_0__.number.isRequired,height:prop_types__WEBPACK_IMPORTED_MODULE_0__.number.isRequired,margin:prop_types__WEBPACK_IMPORTED_MODULE_0__.object.isRequired,chartId:prop_types__WEBPACK_IMPORTED_MODULE_0__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0__.number,prop_types__WEBPACK_IMPORTED_MODULE_0__.string]),getCanvasContexts:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,chartCanvasType:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,xScale:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,xAccessor:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,displayXAccessor:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,plotData:prop_types__WEBPACK_IMPORTED_MODULE_0__.array.isRequired,fullData:prop_types__WEBPACK_IMPORTED_MODULE_0__.array.isRequired,chartConfig:prop_types__WEBPACK_IMPORTED_MODULE_0__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0__.array,prop_types__WEBPACK_IMPORTED_MODULE_0__.object]).isRequired,morePropsDecorator:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,generateSubscriptionId:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,getMutableState:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,amIOnTop:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,subscribe:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,unsubscribe:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,setCursorClass:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,canvasOriginX:prop_types__WEBPACK_IMPORTED_MODULE_0__.number,canvasOriginY:prop_types__WEBPACK_IMPORTED_MODULE_0__.number,ratio:prop_types__WEBPACK_IMPORTED_MODULE_0__.number.isRequired},__webpack_exports__.a=GenericChartComponent},36:function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(549)),__export(__webpack_require__(550))},37:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(1),src=__webpack_require__(27),GenericChartComponent=__webpack_require__(3),GenericComponent=__webpack_require__(4),utils=__webpack_require__(0),colors=__webpack_require__(260);class AreaOnlySeries_AreaOnlySeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{yAccessor:yAccessor,defined:defined,base:base,style:style}=this.props,{stroke:stroke,fill:fill=AreaOnlySeries_AreaOnlySeries.defaultProps.fill,className:className="line",opacity:opacity,interpolation:interpolation}=this.props,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData,xAccessor:xAccessor}=moreProps,newBase=Object(utils.functor)(base),areaSeries=Object(src.a)().defined(d=>defined(yAccessor(d))).x(d=>Math.round(xScale(xAccessor(d)))).y0(d=>newBase(yScale,d,moreProps)).y1(d=>Math.round(yScale(yAccessor(d))));Object(utils.isDefined)(interpolation)&&areaSeries.curve(interpolation);const data=areaSeries(plotData);if(null===data)return null;const newClassName=className.concat(Object(utils.isDefined)(stroke)?"":" line-stroke");return react.createElement("path",{style:style,d:data,stroke:stroke,fill:Object(colors.a)(fill,opacity),className:newClassName})},this.drawOnCanvas=(ctx,moreProps)=>{const{yAccessor:yAccessor,defined:defined,base:base,canvasGradient:canvasGradient}=this.props,{fill:fill=AreaOnlySeries_AreaOnlySeries.defaultProps.fill,stroke:stroke,opacity:opacity,interpolation:interpolation,canvasClip:canvasClip}=this.props,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData,xAccessor:xAccessor}=moreProps;canvasClip&&(ctx.save(),canvasClip(ctx,moreProps)),ctx.fillStyle=null!=canvasGradient?canvasGradient(moreProps,ctx):Object(colors.a)(fill,opacity),ctx.strokeStyle=stroke,ctx.beginPath();const newBase=Object(utils.functor)(base),areaSeries=Object(src.a)().defined(d=>defined(yAccessor(d))).x(d=>Math.round(xScale(xAccessor(d)))).y0(d=>newBase(yScale,d,moreProps)).y1(d=>Math.round(yScale(yAccessor(d)))).context(ctx);Object(utils.isDefined)(interpolation)&&areaSeries.curve(interpolation),areaSeries(plotData),ctx.fill(),canvasClip&&ctx.restore()}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}AreaOnlySeries_AreaOnlySeries.defaultProps={className:"line",fill:"none",opacity:1,defined:d=>!isNaN(d),base:yScale=>Object(utils.first)(yScale.range())};var utils_strokeDasharray=__webpack_require__(258);class LineSeries_LineSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{yAccessor:yAccessor,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth,hoverStrokeWidth:hoverStrokeWidth,defined:defined,strokeDasharray:strokeDasharray}=this.props,{connectNulls:connectNulls}=this.props,{interpolation:interpolation,style:style}=this.props,{xAccessor:xAccessor,chartConfig:chartConfig}=moreProps,{xScale:xScale,plotData:plotData,hovering:hovering}=moreProps,{yScale:yScale}=chartConfig,dataSeries=Object(src.c)().x(d=>Math.round(xScale(xAccessor(d)))).y(d=>Math.round(yScale(yAccessor(d))));Object(utils.isDefined)(interpolation)&&dataSeries.curve(interpolation),connectNulls||dataSeries.defined(d=>defined(yAccessor(d)));const data=dataSeries(plotData);if(null===data)return null;const{fill:fill,className:className}=this.props;return react.createElement("path",{style:style,className:`${className} ${stroke?"":" line-stroke"}`,d:data,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:hovering?hoverStrokeWidth:strokeWidth,strokeDasharray:Object(utils_strokeDasharray.a)(strokeDasharray),fill:fill})},this.drawOnCanvas=(ctx,moreProps)=>{const{yAccessor:yAccessor,stroke:stroke=LineSeries_LineSeries.defaultProps.stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth,hoverStrokeWidth:hoverStrokeWidth,defined:defined,strokeDasharray:strokeDasharray,interpolation:interpolation,canvasClip:canvasClip}=this.props,{connectNulls:connectNulls}=this.props,{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData,hovering:hovering}=moreProps;canvasClip&&(ctx.save(),canvasClip(ctx,moreProps)),ctx.lineWidth=hovering?hoverStrokeWidth:strokeWidth,ctx.strokeStyle=Object(colors.a)(stroke,strokeOpacity),ctx.setLineDash(Object(utils_strokeDasharray.a)(strokeDasharray).split(","));const dataSeries=Object(src.c)().x(d=>Math.round(xScale(xAccessor(d)))).y(d=>Math.round(yScale(yAccessor(d))));Object(utils.isDefined)(interpolation)&&dataSeries.curve(interpolation),connectNulls||dataSeries.defined(d=>defined(yAccessor(d))),ctx.beginPath(),dataSeries.context(ctx)(plotData),ctx.stroke(),canvasClip&&ctx.restore()},this.isHover=moreProps=>{const{highlightOnHover:highlightOnHover,yAccessor:yAccessor,hoverTolerance:hoverTolerance=LineSeries_LineSeries.defaultProps.hoverTolerance}=this.props;if(!highlightOnHover)return!1;const{mouseXY:mouseXY,currentItem:currentItem,xScale:xScale,plotData:plotData}=moreProps,{chartConfig:{yScale:yScale,origin:origin}}=moreProps,{xAccessor:xAccessor}=moreProps,[x,y]=mouseXY,radius=hoverTolerance,{left:left,right:right}=Object(utils.getClosestItemIndexes)(plotData,xScale.invert(x),xAccessor);if(left===right){const cy=yScale(yAccessor(currentItem))+origin[1],cx=xScale(xAccessor(currentItem))+origin[0];return Math.pow(x-cx,2)+Math.pow(y-cy,2)<Math.pow(radius,2)}{const l=plotData[left],r=plotData[right],x1=xScale(xAccessor(l))+origin[0],y1=yScale(yAccessor(l))+origin[1],x2=xScale(xAccessor(r))+origin[0],m=(yScale(yAccessor(r))+origin[1]-y1)/(x2-x1),b=-1*m*x1+y1,desiredY=Math.round(m*x+b);return y>=desiredY-radius&&y<=desiredY+radius}}}render(){const{highlightOnHover:highlightOnHover,onHover:onHover,onUnHover:onUnHover}=this.props,hoverProps=highlightOnHover||onHover||onUnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:GenericComponent.c}:{drawOn:["pan"],canvasToDraw:GenericComponent.b};return react.createElement(GenericChartComponent.a,Object.assign({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu,onHover:this.props.onHover,onUnHover:this.props.onUnHover},hoverProps))}}LineSeries_LineSeries.defaultProps={className:"line",strokeWidth:3,strokeOpacity:1,hoverStrokeWidth:4,fill:"none",stroke:"#2196f3",strokeDasharray:"Solid",defined:d=>!isNaN(d),hoverTolerance:6,highlightOnHover:!1,connectNulls:!1};class AreaSeries_AreaSeries extends react.Component{render(){const{baseAt:baseAt,className:className,opacity:opacity,stroke:stroke,strokeWidth:strokeWidth,strokeOpacity:strokeOpacity,strokeDasharray:strokeDasharray,canvasGradient:canvasGradient,fill:fill,interpolation:interpolation,style:style,canvasClip:canvasClip,yAccessor:yAccessor}=this.props;return react.createElement("g",{className:className},react.createElement(AreaOnlySeries_AreaOnlySeries,{yAccessor:yAccessor,interpolation:interpolation,base:baseAt,canvasGradient:canvasGradient,fill:fill,opacity:opacity,style:style,canvasClip:canvasClip,stroke:"none"}),react.createElement(LineSeries_LineSeries,{yAccessor:yAccessor,stroke:stroke,strokeWidth:strokeWidth,strokeOpacity:strokeOpacity,strokeDasharray:strokeDasharray,interpolation:interpolation,style:style,canvasClip:canvasClip,fill:"none",highlightOnHover:!1}))}}AreaSeries_AreaSeries.defaultProps={stroke:"#2196f3",strokeWidth:3,strokeOpacity:1,strokeDasharray:"Solid",opacity:.1,fill:"#2196f3",className:"react-financial-charts-area"};class SVGComponent_SVGComponent extends react.Component{render(){const{children:children}=this.props;return react.createElement(GenericChartComponent.a,{drawOn:[],svgDraw:children})}}class AlternatingFillAreaSeries_AlternatingFillAreaSeries extends react.Component{constructor(){super(...arguments),this.clipPathId1=`alternating-area-clip-${String(Math.round(1e4*Math.random()*1e4))}`,this.clipPathId2=`alternating-area-clip-${String(Math.round(1e4*Math.random()*1e4))}`,this.baseAt=yScale=>yScale(this.props.baseAt),this.renderClip=moreProps=>{const{chartConfig:chartConfig}=moreProps,{baseAt:baseAt}=this.props,{yScale:yScale,width:width,height:height}=chartConfig;return react.createElement("defs",null,react.createElement("clipPath",{id:this.clipPathId1},react.createElement("rect",{x:0,y:0,width:width,height:yScale(baseAt)})),react.createElement("clipPath",{id:this.clipPathId2},react.createElement("rect",{x:0,y:yScale(baseAt),width:width,height:height-yScale(baseAt)})))},this.bottomClip=(ctx,moreProps)=>{const{chartConfig:chartConfig}=moreProps,{baseAt:baseAt}=this.props,{yScale:yScale,width:width,height:height}=chartConfig;ctx.beginPath(),ctx.rect(0,yScale(baseAt),width,height-yScale(baseAt)),ctx.clip()},this.topClip=(ctx,moreProps)=>{const{chartConfig:chartConfig}=moreProps,{baseAt:baseAt}=this.props,{yScale:yScale,width:width}=chartConfig;ctx.beginPath(),ctx.rect(0,0,width,yScale(baseAt)),ctx.clip()}}render(){const{className:className,yAccessor:yAccessor,interpolation:interpolation,stroke:stroke=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.stroke,strokeWidth:strokeWidth=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.strokeWidth,strokeOpacity:strokeOpacity=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.strokeOpacity,strokeDasharray:strokeDasharray=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.strokeDasharray,fill:fill=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.fill,fillOpacity:fillOpacity=AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps.fillOpacity}=this.props,style1={clipPath:`url(#${this.clipPathId1})`},style2={clipPath:`url(#${this.clipPathId2})`};return react.createElement("g",{className:className},react.createElement(SVGComponent_SVGComponent,null,this.renderClip),react.createElement(AreaSeries_AreaSeries,{style:style1,canvasClip:this.topClip,yAccessor:yAccessor,interpolation:interpolation,baseAt:this.baseAt,fill:fill.top,opacity:fillOpacity.top,stroke:stroke.top,strokeOpacity:strokeOpacity.top,strokeDasharray:strokeDasharray.top,strokeWidth:strokeWidth.top}),react.createElement(AreaSeries_AreaSeries,{style:style2,canvasClip:this.bottomClip,yAccessor:yAccessor,interpolation:interpolation,baseAt:this.baseAt,fill:fill.bottom,opacity:fillOpacity.bottom,stroke:stroke.bottom,strokeOpacity:strokeOpacity.bottom,strokeDasharray:strokeDasharray.bottom,strokeWidth:strokeWidth.bottom}))}}AlternatingFillAreaSeries_AlternatingFillAreaSeries.defaultProps={stroke:{top:"#26a69a",bottom:"#ef5350"},strokeWidth:{top:2,bottom:2},strokeOpacity:{top:1,bottom:1},fill:{top:"#26a69a",bottom:"#ef5350"},fillOpacity:{top:.1,bottom:.1},strokeDasharray:{top:"Solid",bottom:"Solid"},className:"react-financial-charts-alternating-area"};class CircleMarker_Circle extends react.Component{render(){const{className:className,stroke:stroke,strokeWidth:strokeWidth,opacity:opacity,fill:fill,point:point,r:r}=this.props,radius=Object(utils.functor)(r)(point.datum);return react.createElement("circle",{className:className,cx:point.x,cy:point.y,stroke:stroke,strokeWidth:strokeWidth,fillOpacity:opacity,fill:fill,r:radius})}}CircleMarker_Circle.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-financial-charts-marker-circle"},CircleMarker_Circle.drawOnCanvas=(props,point,ctx)=>{const{stroke:stroke,fill:fill,opacity:opacity,strokeWidth:strokeWidth}=props;ctx.strokeStyle=stroke,ctx.lineWidth=strokeWidth,"none"!==fill&&(ctx.fillStyle=Object(colors.a)(fill,opacity)),CircleMarker_Circle.drawOnCanvasWithNoStateChange(props,point,ctx)},CircleMarker_Circle.drawOnCanvasWithNoStateChange=(props,point,ctx)=>{const{r:r}=props,radius=Object(utils.functor)(r)(point.datum);ctx.moveTo(point.x,point.y),ctx.beginPath(),ctx.arc(point.x,point.y,radius,0,2*Math.PI,!1),ctx.stroke(),ctx.fill()};class TriangleMarker_Triangle extends react.Component{render(){const{className:className,strokeWidth:strokeWidth,opacity:opacity,point:point,width:width}=this.props,rotation=getRotationInDegrees(this.props,point);if(null==rotation)return null;const fillColor=function getFillColor(props){const{fill:fill,point:point}=props;return fill instanceof Function?fill(point.datum):fill}(this.props),strokeColor=function getStrokeColor(props){const{stroke:stroke,point:point}=props;return stroke instanceof Function?stroke(point.datum):stroke}(this.props),w=Object(utils.functor)(width)(point.datum),{x:x,y:y}=point,{innerOpposite:innerOpposite,innerHypotenuse:innerHypotenuse}=getTrianglePoints(w),points=`\n\t\t${x} ${y-innerHypotenuse},\n\t\t${x+w/2} ${y+innerOpposite},\n\t\t${x-w/2} ${y+innerOpposite}\n\t    `;return react.createElement("polygon",{className:className,points:points,stroke:strokeColor,strokeWidth:strokeWidth,fillOpacity:opacity,fill:fillColor,transform:0!==rotation?`rotate(${rotation}, ${x}, ${y})`:void 0})}}function getTrianglePoints(width){const innerHypotenuse=width/2*(1/Math.cos(30*Math.PI/180));return{innerOpposite:width/2*(1/Math.tan(60*Math.PI/180)),innerHypotenuse:innerHypotenuse}}function getRotationInDegrees(props,point){const{direction:direction}=props,directionVal=direction instanceof Function?direction(point.datum):direction;if("hide"===directionVal)return null;let rotate=0;switch(directionVal){case"bottom":rotate=180;break;case"left":rotate=-90;break;case"right":rotate=90}return rotate}TriangleMarker_Triangle.defaultProps={direction:"top",stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-financial-charts-marker-triangle"},TriangleMarker_Triangle.drawOnCanvas=(props,point,ctx)=>{const{stroke:stroke,fill:fill,opacity:opacity,strokeWidth:strokeWidth}=props;ctx.strokeStyle=stroke,ctx.lineWidth=strokeWidth,"none"!==fill&&(ctx.fillStyle=Object(colors.a)(fill,opacity)),TriangleMarker_Triangle.drawOnCanvasWithNoStateChange(props,point,ctx)},TriangleMarker_Triangle.drawOnCanvasWithNoStateChange=(props,point,ctx)=>{const{width:width}=props,w=Object(utils.functor)(width)(point.datum),{x:x,y:y}=point,{innerOpposite:innerOpposite,innerHypotenuse:innerHypotenuse}=getTrianglePoints(w),rotationDeg=getRotationInDegrees(props,point);ctx.beginPath(),ctx.moveTo(x,y-innerHypotenuse),ctx.lineTo(x+w/2,y+innerOpposite),ctx.lineTo(x-w/2,y+innerOpposite),ctx.stroke(),null!==rotationDeg&&0!==rotationDeg&&(ctx.save(),ctx.translate(x,y),ctx.rotate(rotationDeg*Math.PI/180),ctx.fill(),ctx.restore()),ctx.fill()};class SquareMarker_Square extends react.Component{render(){const{className:className,stroke:stroke,strokeWidth:strokeWidth,opacity:opacity,fill:fill,point:point,width:width}=this.props,w=Object(utils.functor)(width)(point.datum),x=point.x-w/2,y=point.y-w/2;return react.createElement("rect",{className:className,x:x,y:y,stroke:stroke,strokeWidth:strokeWidth,fillOpacity:opacity,fill:fill,width:w,height:w})}}SquareMarker_Square.defaultProps={stroke:"#4682B4",strokeWidth:1,opacity:.5,fill:"#4682B4",className:"react-financial-charts-marker-rect"},SquareMarker_Square.drawOnCanvas=(props,point,ctx)=>{const{stroke:stroke,fill:fill,opacity:opacity,strokeWidth:strokeWidth}=props;ctx.strokeStyle=stroke,ctx.lineWidth=strokeWidth,"none"!==fill&&(ctx.fillStyle=Object(colors.a)(fill,opacity)),SquareMarker_Square.drawOnCanvasWithNoStateChange(props,point,ctx)},SquareMarker_Square.drawOnCanvasWithNoStateChange=(props,point,ctx)=>{const{width:width}=props,w=Object(utils.functor)(width)(point.datum),x=point.x-w/2,y=point.y-w/2;ctx.beginPath(),ctx.rect(x,y,w,w),ctx.stroke(),ctx.fill()};var d3_collection_src=__webpack_require__(34),utils_barWidth=__webpack_require__(257);class CandlestickSeries_CandlestickSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{!function drawOnCanvas(ctx,props,moreProps){const{opacity:opacity,candleStrokeWidth:candleStrokeWidth}=props,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData,xAccessor:xAccessor}=moreProps,candleData=getCandleData(props,xAccessor,xScale,yScale,plotData);Object(d3_collection_src.a)().key(d=>d.wick.stroke).entries(candleData).forEach(outer=>{const{key:key,values:values}=outer;ctx.strokeStyle=key,ctx.fillStyle=key,values.forEach(each=>{const d=each.wick;ctx.fillRect(d.x-.5,d.y1,1,d.y2-d.y1),ctx.fillRect(d.x-.5,d.y3,1,d.y4-d.y3)})}),Object(d3_collection_src.a)().key(d=>d.stroke).key(d=>d.fill).entries(candleData).forEach(outer=>{const{key:strokeKey,values:strokeValues}=outer;"none"!==strokeKey&&(ctx.strokeStyle=strokeKey,ctx.lineWidth=candleStrokeWidth),strokeValues.forEach(inner=>{const{key:key,values:values}=inner,fillStyle=Object(utils.head)(values).width<=1?key:Object(colors.a)(key,opacity);ctx.fillStyle=fillStyle,values.forEach(d=>{d.width<=1?ctx.fillRect(d.x-.5,d.y,1,d.height):0===d.height?ctx.fillRect(d.x,d.y-.5,d.width,1):(ctx.fillRect(d.x,d.y,d.width,d.height),"none"!==strokeKey&&ctx.strokeRect(d.x,d.y,d.width,d.height))})})})}(ctx,this.props,moreProps)},this.renderSVG=moreProps=>{const{className:className,wickClassName:wickClassName,candleClassName:candleClassName}=this.props,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData,xAccessor:xAccessor}=moreProps,candleData=getCandleData(this.props,xAccessor,xScale,yScale,plotData);return react.createElement("g",{className:className},react.createElement("g",{className:wickClassName,key:"wicks"},function getWicksSVG(candleData){return candleData.map((each,idx)=>{const d=each.wick;return react.createElement("path",{key:idx,className:each.className,stroke:d.stroke,d:`M${d.x},${d.y1} L${d.x},${d.y2} M${d.x},${d.y3} L${d.x},${d.y4}`})})}(candleData)),react.createElement("g",{className:candleClassName,key:"candles"},function getCandlesSVG(props,candleData){const{opacity:opacity,candleStrokeWidth:candleStrokeWidth}=props;return candleData.map((d,idx)=>d.width<=1?react.createElement("line",{className:d.className,key:idx,x1:d.x,y1:d.y,x2:d.x,y2:d.y+d.height,stroke:d.fill}):0===d.height?react.createElement("line",{key:idx,x1:d.x,y1:d.y,x2:d.x+d.width,y2:d.y+d.height,stroke:d.fill}):react.createElement("rect",{key:idx,className:d.className,fillOpacity:opacity,x:d.x,y:d.y,width:d.width,height:d.height,fill:d.fill,stroke:d.stroke,strokeWidth:candleStrokeWidth}))}(this.props,candleData)))}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{clip:clip,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}function getCandleData(props,xAccessor,xScale,yScale,plotData){const{wickStroke:wickStrokeProp}=props,wickStroke=Object(utils.functor)(wickStrokeProp),{classNames:classNames,fill:fillProp,stroke:strokeProp,yAccessor:yAccessor}=props,className=Object(utils.functor)(classNames),fill=Object(utils.functor)(fillProp),stroke=Object(utils.functor)(strokeProp),trueOffset=.5*Object(utils.functor)(props.width)(props,{xScale:xScale,xAccessor:xAccessor,plotData:plotData}),offset=trueOffset>.7?Math.round(trueOffset):Math.floor(trueOffset),candles=[];for(let i=0;i<plotData.length;i++){const d=plotData[i];if(Object(utils.isDefined)(yAccessor(d).close)){const x=Math.round(xScale(xAccessor(d))),ohlc=yAccessor(d),y=Math.round(yScale(Math.max(ohlc.open,ohlc.close))),height=Math.max(1,Math.round(Math.abs(yScale(ohlc.open)-yScale(ohlc.close))));candles.push({x:x-offset,y:y,wick:{stroke:wickStroke(ohlc),x:x,y1:Math.round(yScale(ohlc.high)),y2:y,y3:y+height,y4:Math.round(yScale(ohlc.low))},height:height,width:2*offset,className:className(ohlc),fill:fill(ohlc),stroke:stroke(ohlc),direction:ohlc.close-ohlc.open})}}return candles}CandlestickSeries_CandlestickSeries.defaultProps={className:"react-financial-charts-candlestick",wickClassName:"react-financial-charts-candlestick-wick",candleClassName:"react-financial-charts-candlestick-candle",yAccessor:d=>({open:d.open,high:d.high,low:d.low,close:d.close}),classNames:d=>d.close>d.open?"up":"down",width:utils_barWidth.a,wickStroke:d=>d.close>d.open?"#26a69a":"#ef5350",fill:d=>d.close>d.open?"#26a69a":"#ef5350",stroke:d=>d.close>d.open?"#26a69a":"#ef5350",candleStrokeWidth:.5,widthRatio:.8,opacity:1,clip:!0};class OHLCSeries_OHLCSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{className:className,yAccessor:yAccessor}=this.props,{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,barData=getOHLCBars(this.props,xAccessor,yAccessor,xScale,yScale,plotData),{strokeWidth:strokeWidth,bars:bars}=barData;return react.createElement("g",{className:className},bars.map((d,idx)=>react.createElement("path",{key:idx,className:d.className,stroke:d.stroke,strokeWidth:strokeWidth,d:`M${d.openX1} ${d.openY} L${d.openX2} ${d.openY} M${d.x} ${d.y1} L${d.x} ${d.y2} M${d.closeX1} ${d.closeY} L${d.closeX2} ${d.closeY}`})))},this.drawOnCanvas=(ctx,moreProps)=>{const{yAccessor:yAccessor}=this.props,{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps;!function OHLCSeries_drawOnCanvas(ctx,barData){const{strokeWidth:strokeWidth,bars:bars}=barData,wickNest=Object(d3_collection_src.a)().key(d=>d.stroke).entries(bars);ctx.lineWidth=strokeWidth,wickNest.forEach(outer=>{const{key:key,values:values}=outer;ctx.strokeStyle=key,values.forEach(d=>{ctx.beginPath(),ctx.moveTo(d.x,d.y1),ctx.lineTo(d.x,d.y2),ctx.moveTo(d.openX1,d.openY),ctx.lineTo(d.openX2,d.openY),ctx.moveTo(d.closeX1,d.closeY),ctx.lineTo(d.closeX2,d.closeY),ctx.stroke()})})}(ctx,getOHLCBars(this.props,xAccessor,yAccessor,xScale,yScale,plotData))}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasToDraw:GenericComponent.b,canvasDraw:this.drawOnCanvas,clip:clip,drawOn:["pan"]})}}function getOHLCBars(props,xAccessor,yAccessor,xScale,yScale,plotData){const{classNames:classNamesProp,stroke:strokeProp}=props,strokeFunc=Object(utils.functor)(strokeProp),classNameFunc=Object(utils.functor)(classNamesProp),width=xScale(xAccessor(plotData[plotData.length-1]))-xScale(xAccessor(plotData[0])),barWidth=Math.max(1,Math.round(width/(plotData.length-1)/2)-1.5),strokeWidth=Math.min(barWidth,6),bars=plotData.filter(d=>Object(utils.isDefined)(yAccessor(d).close)).map(d=>{const ohlc=yAccessor(d),x=Math.round(xScale(xAccessor(d))),y1=yScale(ohlc.high),y2=yScale(ohlc.low),openX1=x-barWidth,openX2=x+strokeWidth/2,openY=yScale(ohlc.open),closeX1=x-strokeWidth/2,closeX2=x+barWidth,closeY=yScale(ohlc.close),className=classNameFunc(d);return{x:x,y1:y1,y2:y2,openX1:openX1,openX2:openX2,openY:openY,closeX1:closeX1,closeX2:closeX2,closeY:closeY,stroke:strokeFunc(d),className:className}});return{barWidth:barWidth,strokeWidth:strokeWidth,bars:bars}}OHLCSeries_OHLCSeries.defaultProps={className:"react-financial-charts-ohlc",yAccessor:d=>({open:d.open,high:d.high,low:d.low,close:d.close}),classNames:d=>Object(utils.isDefined)(d.absoluteChange)?d.absoluteChange>0?"up":"down":"firstbar",stroke:d=>Object(utils.isDefined)(d.absoluteChange)?d.absoluteChange>0?"#6BA583":"#FF0000":"#000000",clip:!0};var merge=__webpack_require__(576),identity=__webpack_require__(22);class StackedBarSeries_StackedBarSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps;drawOnCanvasHelper(ctx,this.props,moreProps,xAccessor,src.d)},this.renderSVG=moreProps=>{const{xAccessor:xAccessor}=moreProps;return react.createElement("g",null,svgHelper(this.props,moreProps,xAccessor,src.d))}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{clip:clip,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}function identityStack(){let keys=[];function stack(data){return keys.map((key,i)=>{const arrays=data.map(d=>{const array=[0,d[key]];return array.data=d,array});return arrays.key=key,arrays.index=i,arrays})}return stack.keys=function(x){return arguments.length?(keys=x,stack):keys},stack}function drawOnCanvasHelper(ctx,props,moreProps,xAccessor,stackFn,defaultPostAction=identity.a,postRotateAction=rotateXY){const{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps;drawOnCanvas2(props,ctx,doStuff(props,xAccessor,plotData,xScale,yScale,stackFn,postRotateAction,defaultPostAction))}function convertToArray(item){return Array.isArray(item)?item:[item]}function svgHelper(props,moreProps,xAccessor,stackFn,defaultPostAction=identity.a,postRotateAction=rotateXY){const{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps;return getBarsSVG2(props,doStuff(props,xAccessor,plotData,xScale,yScale,stackFn,postRotateAction,defaultPostAction))}function doStuff(props,xAccessor,plotData,xScale,yScale,stackFn,postRotateAction,defaultPostAction){const{yAccessor:yAccessor,swapScales:swapScales}=props;return function getBars(props,xAccessor,yAccessor,xScale,yScale,plotData,stack=identityStack,after=identity.a){const{baseAt:baseAt,className:className,fill:fill,stroke:stroke,spaceBetweenBar:spaceBetweenBar=0}=props,getClassName=Object(utils.functor)(className),getFill=Object(utils.functor)(fill),getBase=Object(utils.functor)(baseAt),width=Object(utils.functor)(props.width)(props,{xScale:xScale,xAccessor:xAccessor,plotData:plotData}),barWidth=Math.round(width),eachBarWidth=(barWidth-spaceBetweenBar*(yAccessor.length-1))/yAccessor.length,offset=1===barWidth?0:.5*width,ds=plotData.map(each=>{const d={appearance:{},x:xAccessor(each)};return yAccessor.forEach((eachYAccessor,i)=>{const key=`y${i}`;d[key]=eachYAccessor(each);const appearance={className:getClassName(each,i),stroke:stroke?getFill(each,i):"none",fill:getFill(each,i)};d.appearance[key]=appearance}),d}),keys=yAccessor.map((_,i)=>`y${i}`),newData=stack().keys(keys)(ds).map((each,i)=>{const key=each.key;return each.map(d=>{const array=[d[0],d[1]];return array.data={x:d.data.x,i:i,appearance:d.data.appearance[key]},array})}),bars=Object(merge.a)(newData).map(d=>{let y=yScale(d[1]),h=getBase(xScale,yScale,d.data)-yScale(d[1]-d[0]);return h<0&&(y+=h,h=-h),Object.assign(Object.assign({},d.data.appearance),{x:Math.round(xScale(d.data.x)-width/2),y:y,groupOffset:Math.round(offset-(d.data.i>0?(eachBarWidth+spaceBetweenBar)*d.data.i:0)),groupWidth:Math.round(eachBarWidth),offset:Math.round(offset),height:h,width:barWidth})}).filter(bar=>!isNaN(bar.y));return after(bars)}(props,swapScales?yAccessor:xAccessor,convertToArray(swapScales?props.xAccessor:yAccessor),swapScales?yScale:xScale,swapScales?xScale:yScale,plotData,stackFn,swapScales?postRotateAction:defaultPostAction)}StackedBarSeries_StackedBarSeries.defaultProps={baseAt:(xScale,yScale)=>Object(utils.head)(yScale.range()),direction:"up",className:"bar",stroke:!1,fill:"#4682B4",opacity:.5,width:utils_barWidth.a,widthRatio:.8,clip:!0,swapScales:!1};const rotateXY=array=>array.map(each=>Object.assign(Object.assign({},each),{x:each.y,y:each.x,height:each.width,width:each.height}));function getBarsSVG2(props,bars){const{opacity:opacity}=props;return bars.map((d,idx)=>d.width<=1?react.createElement("line",{key:idx,className:d.className,stroke:d.fill,x1:d.x,y1:d.y,x2:d.x,y2:d.y+d.height}):react.createElement("rect",{key:idx,className:d.className,stroke:d.stroke,fill:d.fill,x:d.x,y:d.y,width:d.width,fillOpacity:opacity,height:d.height}))}function drawOnCanvas2(props,ctx,bars){const{stroke:stroke}=props;Object(d3_collection_src.a)().key(d=>d.fill).entries(bars).forEach(outer=>{const{key:key,values:values}=outer;Object(utils.head)(values).width>1&&(ctx.strokeStyle=key);const fillStyle=Object(utils.head)(values).width<=1?key:Object(colors.a)(key,props.opacity);ctx.fillStyle=fillStyle,values.forEach(d=>{d.width<=1?ctx.fillRect(d.x-.5,d.y,1,d.height):(ctx.fillRect(d.x+.5,d.y+.5,d.width,d.height),stroke&&ctx.strokeRect(d.x,d.y,d.width,d.height))})})}class BarSeries_BarSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{if(this.props.swapScales){const{xAccessor:xAccessor}=moreProps;drawOnCanvasHelper(ctx,this.props,moreProps,xAccessor,identityStack)}else{const bars=BarSeries_getBars(this.props,moreProps);drawOnCanvas2(this.props,ctx,bars)}},this.renderSVG=moreProps=>{if(this.props.swapScales){const{xAccessor:xAccessor}=moreProps;return react.createElement("g",null,svgHelper(this.props,moreProps,xAccessor,identityStack))}{const bars=BarSeries_getBars(this.props,moreProps);return react.createElement("g",null,getBarsSVG2(this.props,bars))}}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{clip:clip,svgDraw:this.renderSVG,canvasToDraw:GenericComponent.b,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}function BarSeries_getBars(props,moreProps){const{baseAt:baseAt,fill:fill,stroke:stroke,yAccessor:yAccessor}=props,{xScale:xScale,xAccessor:xAccessor,plotData:plotData,chartConfig:{yScale:yScale}}=moreProps,getFill=Object(utils.functor)(fill),getBase=Object(utils.functor)(baseAt),width=Object(utils.functor)(props.width)(props,{xScale:xScale,xAccessor:xAccessor,plotData:plotData}),offset=Math.floor(.5*width);return plotData.filter(d=>Object(utils.isDefined)(yAccessor(d))).map(d=>{const yValue=yAccessor(d);let y=yScale(yValue);const x=Math.round(xScale(xAccessor(d)))-offset;let h=getBase(xScale,yScale,d)-yScale(yValue);return h<0&&(y+=h,h=-h),{x:x,y:Math.round(y),height:Math.round(h),width:2*offset,fill:getFill(d,0),stroke:stroke?getFill(d,0):"none"}})}BarSeries_BarSeries.defaultProps=StackedBarSeries_StackedBarSeries.defaultProps;class GroupedBarSeries_GroupedBarSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps;drawOnCanvasHelper(ctx,this.props,moreProps,xAccessor,identityStack,this.postProcessor)},this.renderSVG=moreProps=>{const{xAccessor:xAccessor}=moreProps;return react.createElement("g",{className:"react-financial-charts-grouped-bar-series"},svgHelper(this.props,moreProps,xAccessor,identityStack,this.postProcessor))},this.postProcessor=array=>array.map(each=>Object.assign(Object.assign({},each),{x:each.x+each.offset-each.groupOffset,width:each.groupWidth}))}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}GroupedBarSeries_GroupedBarSeries.defaultProps=Object.assign(Object.assign({},StackedBarSeries_StackedBarSeries.defaultProps),{widthRatio:.8,spaceBetweenBar:5});class KagiSeries_KagiSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{xAccessor:xAccessor,xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{className:className,stroke:stroke=KagiSeries_KagiSeries.defaultProps.stroke,fill:fill=KagiSeries_KagiSeries.defaultProps.fill,strokeWidth:strokeWidth}=this.props,paths=helper(plotData,xAccessor).map((each,i)=>{const data=Object(src.c)().x(item=>xScale(item[0])).y(item=>yScale(item[1])).curve(src.b)(each.plot);return null===data?null:react.createElement("path",{key:i,d:data,className:each.type,stroke:stroke[each.type],fill:fill[each.type],strokeWidth:strokeWidth})});return react.createElement("g",{className:className},paths)},this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps;!function KagiSeries_drawOnCanvas(ctx,props,moreProps,xAccessor){const{stroke:stroke,strokeWidth:strokeWidth,currentValueStroke:currentValueStroke}=props,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,paths=helper(plotData,xAccessor);let begin=!0;paths.forEach(each=>{let prevX;ctx.strokeStyle=stroke[each.type],ctx.lineWidth=strokeWidth,ctx.beginPath(),each.plot.forEach(d=>{const[x1,y]=[xScale(d[0]),yScale(d[1])];begin?(ctx.moveTo(x1,y),begin=!1):(Object(utils.isDefined)(prevX)&&ctx.lineTo(prevX,y),ctx.lineTo(x1,y)),prevX=x1}),ctx.stroke()});const lastPlot=paths[paths.length-1].plot,last=lastPlot[lastPlot.length-1];ctx.beginPath(),ctx.lineWidth=1;const[x,y1,y2]=[xScale(last[0]),yScale(last[2]),yScale(last[3])];ctx.moveTo(x,y1),ctx.lineTo(x+10,y1),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=currentValueStroke,ctx.moveTo(x-10,y2),ctx.lineTo(x,y2),ctx.stroke()}(ctx,this.props,moreProps,xAccessor)}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasToDraw:GenericComponent.b,canvasDraw:this.drawOnCanvas,drawOn:["pan"]})}}function helper(plotData,xAccessor){const kagiLine=[];let kagi={},d=plotData[0],idx=xAccessor(d);for(let i=0;i<plotData.length;i++)d=plotData[i],Object(utils.isNotDefined)(d.close)||(Object(utils.isNotDefined)(kagi.type)&&(kagi.type=d.startAs),Object(utils.isNotDefined)(kagi.plot)&&(kagi.plot=[]),idx=xAccessor(d),kagi.plot.push([idx,d.open]),Object(utils.isDefined)(d.changeTo)&&(kagi.plot.push([idx,d.changePoint]),kagi.added=!0,kagiLine.push(kagi),(kagi={type:d.changeTo,plot:[],added:!1}).plot.push([idx,d.changePoint])));return kagi.added||(kagi.plot.push([idx,d.close,d.current,d.reverseAt]),kagiLine.push(kagi)),kagiLine}KagiSeries_KagiSeries.defaultProps={className:"react-financial-charts-kagi",strokeWidth:2,stroke:{yang:"#26a69a",yin:"#ef5350"},fill:{yang:"none",yin:"none"},currentValueStroke:"#000000"};class PointAndFigureSeries_PointAndFigureSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{stroke:stroke=PointAndFigureSeries_PointAndFigureSeries.defaultProps.stroke,fill:fill=PointAndFigureSeries_PointAndFigureSeries.defaultProps.fill,strokeWidth:strokeWidth,className:className}=this.props,columns=getColumns(xScale,xAccessor,yScale,plotData);return react.createElement("g",{className:className},columns.map((col,idx)=>react.createElement("g",{key:idx,className:col.className,transform:`translate(${col.offset[0]}, ${col.offset[1]})`},col.boxes.map((box,i)=>col.direction>0?react.createElement("g",{key:`${idx}-${i}`},react.createElement("line",{className:"up",strokeWidth:strokeWidth,stroke:stroke.up,fill:fill.up,x1:0,y1:box.open,x2:box.columnWidth,y2:box.close}),react.createElement("line",{className:"up",strokeWidth:strokeWidth,stroke:stroke.up,fill:fill.up,x1:0,y1:box.close,x2:box.columnWidth,y2:box.open})):react.createElement("ellipse",{key:`${idx}-${i}`,className:"down",strokeWidth:strokeWidth,stroke:stroke.down,fill:fill.down,cx:box.columnWidth/2,cy:(box.open+box.close)/2,rx:box.columnWidth/2,ry:box.boxHeight/2})))))},this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,columns=getColumns(xScale,xAccessor,yScale,plotData);!function PointAndFigureSeries_drawOnCanvas(ctx,props,columns){const{stroke:stroke,fill:fill,strokeWidth:strokeWidth}=props;ctx.lineWidth=strokeWidth,columns.forEach(col=>{const[offsetX,offsetY]=col.offset;col.boxes.forEach(box=>{if(col.direction>0)ctx.fillStyle=fill.up,ctx.strokeStyle=stroke.up,ctx.beginPath(),ctx.moveTo(offsetX,offsetY+box.open),ctx.lineTo(offsetX+box.columnWidth,offsetY+box.close),ctx.moveTo(offsetX,offsetY+box.close),ctx.lineTo(offsetX+box.columnWidth,offsetY+box.open),ctx.stroke();else{ctx.fillStyle=fill.down,ctx.strokeStyle=stroke.down,ctx.beginPath();const[x,y]=[offsetX+box.columnWidth/2,offsetY+box.open+box.boxHeight/2],[rx,ry]=[box.columnWidth/2,box.boxHeight/2];ctx.ellipse(x,y,rx,ry,0,0,2*Math.PI),ctx.stroke()}})}),ctx.stroke()}(ctx,this.props,columns)}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{clip:clip,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}function getColumns(xScale,xAccessor,yScale,plotData){const columnWidth=(xScale(xAccessor(plotData[plotData.length-1]))-xScale(xAccessor(plotData[0])))/(plotData.length-1);let anyBox,j=0;for(;Object(utils.isNotDefined)(anyBox)&&Object(utils.isDefined)(plotData[j].close);)anyBox=plotData[j].boxes[0],j++;const boxHeight=Math.abs(yScale(anyBox.open)-yScale(anyBox.close));return plotData.filter(d=>Object(utils.isDefined)(d.close)).map(d=>{const boxes=d.boxes.map(box=>({columnWidth:columnWidth,boxHeight:boxHeight,open:yScale(box.open),close:yScale(box.close)})),xOffset=xScale(xAccessor(d))-columnWidth/2;return{boxes:boxes,direction:d.direction,offset:[xOffset,0]}})}PointAndFigureSeries_PointAndFigureSeries.defaultProps={className:"react-financial-charts-point-and-figure",strokeWidth:1,stroke:{up:"#6BA583",down:"#FF0000"},fill:{up:"none",down:"none"},clip:!0};class RenkoSeries_RenkoSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{yAccessor:yAccessor}=this.props,candles=getRenko(this.props,plotData,xScale,xAccessor,yScale,yAccessor).map((each,idx)=>react.createElement("rect",{key:idx,className:each.className,fill:each.fill,x:each.x,y:each.y,width:each.width,height:each.height}));return react.createElement("g",null,react.createElement("g",{className:"candle"},candles))},this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{yAccessor:yAccessor}=this.props;!function RenkoSeries_drawOnCanvas(ctx,renko){renko.forEach(d=>{ctx.beginPath(),ctx.strokeStyle=d.stroke,ctx.fillStyle=d.fill,ctx.rect(d.x,d.y,d.width,d.height),ctx.closePath(),ctx.fill()})}(ctx,getRenko(this.props,plotData,xScale,xAccessor,yScale,yAccessor))}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{clip:clip,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}function getRenko(props,plotData,xScale,xAccessor,yScale,yAccessor){const{classNames:classNames,fill:fill}=props,candleWidth=(xScale(xAccessor(plotData[plotData.length-1]))-xScale(xAccessor(plotData[0])))/(plotData.length-1);return plotData.filter(d=>Object(utils.isDefined)(yAccessor(d).close)).map(d=>{const ohlc=yAccessor(d),x=xScale(xAccessor(d))-.5*candleWidth,y=yScale(Math.max(ohlc.open,ohlc.close)),height=Math.abs(yScale(ohlc.open)-yScale(ohlc.close));return{className:ohlc.open<=ohlc.close?classNames.up:classNames.down,fill:d.fullyFormed?ohlc.open<=ohlc.close?fill.up:fill.down:fill.partial,x:x,y:y,height:height,width:candleWidth}})}RenkoSeries_RenkoSeries.defaultProps={classNames:{up:"up",down:"down"},stroke:{up:"none",down:"none"},fill:{up:"#26a69a",down:"#ef5350",partial:"#4682B4"},yAccessor:d=>({open:d.open,high:d.high,low:d.low,close:d.close}),clip:!0};class StraightLine_StraightLine extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{width:width,height:height}=moreProps,{xScale:xScale,chartConfig:{yScale:yScale}}=moreProps,{className:className}=this.props,{type:type,stroke:stroke,strokeWidth:strokeWidth,opacity:opacity,strokeDasharray:strokeDasharray}=this.props,{yValue:yValue,xValue:xValue}=this.props,lineCoordinates=this.getLineCoordinates(type,xScale,yScale,xValue,yValue,width,height);return react.createElement("line",Object.assign({className:className,strokeDasharray:Object(utils_strokeDasharray.a)(strokeDasharray),stroke:stroke,strokeWidth:strokeWidth,strokeOpacity:opacity},lineCoordinates))},this.drawOnCanvas=(ctx,moreProps)=>{const{type:type,stroke:stroke=StraightLine_StraightLine.defaultProps.stroke,strokeWidth:strokeWidth,opacity:opacity,strokeDasharray:strokeDasharray}=this.props,{yValue:yValue,xValue:xValue}=this.props,{xScale:xScale}=moreProps,{chartConfig:{yScale:yScale,width:width,height:height}}=moreProps;ctx.beginPath(),ctx.strokeStyle=Object(colors.a)(stroke,opacity),ctx.lineWidth=strokeWidth;const{x1:x1,y1:y1,x2:x2,y2:y2}=this.getLineCoordinates(type,xScale,yScale,xValue,yValue,width,height);ctx.setLineDash(Object(utils_strokeDasharray.a)(strokeDasharray).split(",")),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()},this.getLineCoordinates=(type,xScale,yScale,xValue,yValue,width,height)=>"horizontal"===type?{x1:0,y1:Math.round(yScale(yValue)),x2:width,y2:Math.round(yScale(yValue))}:{x1:Math.round(xScale(xValue)),y1:0,x2:Math.round(xScale(xValue)),y2:height}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}StraightLine_StraightLine.defaultProps={className:"line",type:"horizontal",stroke:"#000000",opacity:.5,strokeWidth:1,strokeDasharray:"Solid"};class MACDSeries_MACDSeries extends react.Component{constructor(){super(...arguments),this.yAccessorForDivergenceBase=(xScale,yScale)=>yScale(0),this.yAccessorForDivergence=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).divergence},this.yAccessorForSignal=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).signal},this.yAccessorForMACD=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).macd}}render(){const{className:className,opacity:opacity,divergenceStroke:divergenceStroke,widthRatio:widthRatio,width:width}=this.props,{stroke:stroke,fill:fill}=this.props,{clip:clip}=this.props,{zeroLineStroke:zeroLineStroke,zeroLineOpacity:zeroLineOpacity}=this.props;return react.createElement("g",{className:className},react.createElement(BarSeries_BarSeries,{baseAt:this.yAccessorForDivergenceBase,className:"macd-divergence",width:width,widthRatio:widthRatio,stroke:divergenceStroke,fill:fill.divergence,opacity:opacity,clip:clip,yAccessor:this.yAccessorForDivergence}),react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForMACD,stroke:stroke.macd,fill:"none"}),react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForSignal,stroke:stroke.signal,fill:"none"}),react.createElement(StraightLine_StraightLine,{stroke:zeroLineStroke,opacity:zeroLineOpacity,yValue:0}))}}MACDSeries_MACDSeries.defaultProps={className:"react-financial-charts-macd-series",zeroLineStroke:"#000000",zeroLineOpacity:.3,opacity:.6,divergenceStroke:!1,clip:!0,widthRatio:.5,width:BarSeries_BarSeries.defaultProps.width};class BollingerSeries_BollingerSeries extends react.Component{constructor(){super(...arguments),this.yAccessorForScalledBottom=(scale,d)=>{const{yAccessor:yAccessor}=this.props;return scale(yAccessor(d)&&yAccessor(d).bottom)},this.yAccessorForBottom=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).bottom},this.yAccessorForMiddle=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).middle},this.yAccessorForTop=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).top}}render(){const{areaClassName:areaClassName,className:className,opacity:opacity}=this.props,{stroke:stroke,fill:fill}=this.props;return react.createElement("g",{className:className},react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForTop,stroke:stroke.top,fill:"none"}),react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForMiddle,stroke:stroke.middle,fill:"none"}),react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForBottom,stroke:stroke.bottom,fill:"none"}),react.createElement(AreaOnlySeries_AreaOnlySeries,{className:areaClassName,yAccessor:this.yAccessorForTop,base:this.yAccessorForScalledBottom,stroke:"none",fill:fill,opacity:opacity}))}}BollingerSeries_BollingerSeries.defaultProps={className:"react-financial-charts-bollinger-band-series",areaClassName:"react-financial-charts-bollinger-band-series-area",opacity:.2};class RSISeries_RSISeries extends react.Component{constructor(props){super(props),this.renderClip=moreProps=>{const{chartConfig:chartConfig}=moreProps,{overSold:overSold,overBought:overBought}=this.props,{yScale:yScale,width:width,height:height}=chartConfig;return react.createElement("defs",null,react.createElement("clipPath",{id:this.clipPathId1},react.createElement("rect",{x:0,y:yScale(overSold),width:width,height:yScale(overBought)-yScale(overSold)})),react.createElement("clipPath",{id:this.clipPathId2},react.createElement("rect",{x:0,y:0,width:width,height:yScale(overSold)}),react.createElement("rect",{x:0,y:yScale(overBought),width:width,height:height-yScale(overBought)})))},this.mainClip=(ctx,moreProps)=>{const{chartConfig:chartConfig}=moreProps,{overSold:overSold,overBought:overBought}=this.props,{yScale:yScale,width:width,height:height}=chartConfig;ctx.beginPath(),ctx.rect(0,0,width,yScale(overSold)),ctx.rect(0,yScale(overBought),width,height-yScale(overBought)),ctx.clip()},this.topAndBottomClip=(ctx,moreProps)=>{const{chartConfig:chartConfig}=moreProps,{overSold:overSold,overBought:overBought}=this.props,{yScale:yScale,width:width}=chartConfig;ctx.beginPath(),ctx.rect(0,yScale(overSold),width,yScale(overBought)-yScale(overSold)),ctx.clip()};const id1=String(Math.round(1e4*Math.random()*1e4));this.clipPathId1=`rsi-clip-${id1}`;const id2=String(Math.round(1e4*Math.random()*1e4));this.clipPathId2=`rsi-clip-${id2}`}render(){const{className:className,stroke:stroke,opacity:opacity,strokeDasharray:strokeDasharray,strokeWidth:strokeWidth}=this.props,{yAccessor:yAccessor}=this.props,{overSold:overSold,middle:middle,overBought:overBought}=this.props,style1={clipPath:`url(#${this.clipPathId1})`},style2={clipPath:`url(#${this.clipPathId2})`};return react.createElement("g",{className:className},react.createElement(SVGComponent_SVGComponent,null,this.renderClip),react.createElement(StraightLine_StraightLine,{stroke:stroke.top,opacity:opacity.top,yValue:overSold,strokeDasharray:strokeDasharray.top,strokeWidth:strokeWidth.top}),react.createElement(StraightLine_StraightLine,{stroke:stroke.middle,opacity:opacity.middle,yValue:middle,strokeDasharray:strokeDasharray.middle,strokeWidth:strokeWidth.middle}),react.createElement(StraightLine_StraightLine,{stroke:stroke.bottom,opacity:opacity.bottom,yValue:overBought,strokeDasharray:strokeDasharray.bottom,strokeWidth:strokeWidth.bottom}),react.createElement(LineSeries_LineSeries,{style:style1,canvasClip:this.topAndBottomClip,className:className,yAccessor:yAccessor,stroke:stroke.insideThreshold||stroke.line,strokeWidth:strokeWidth.insideThreshold,strokeDasharray:strokeDasharray.line}),react.createElement(LineSeries_LineSeries,{style:style2,canvasClip:this.mainClip,className:className,yAccessor:yAccessor,stroke:stroke.outsideThreshold||stroke.line,strokeWidth:strokeWidth.outsideThreshold,strokeDasharray:strokeDasharray.line}))}}RSISeries_RSISeries.defaultProps={className:"react-financial-charts-rsi-series",stroke:{line:"#000000",top:"#B8C2CC",middle:"#8795A1",bottom:"#B8C2CC",outsideThreshold:"#b300b3",insideThreshold:"#ffccff"},opacity:{top:1,middle:1,bottom:1},strokeDasharray:{line:"Solid",top:"ShortDash",middle:"ShortDash",bottom:"ShortDash"},strokeWidth:{outsideThreshold:1,insideThreshold:1,top:1,middle:1,bottom:1},overSold:70,middle:50,overBought:30};class StochasticSeries_StochasticSeries extends react.Component{constructor(){super(...arguments),this.yAccessorForK=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).K},this.yAccessorForD=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).D}}render(){const{className:className,stroke:stroke,refLineOpacity:refLineOpacity}=this.props,{overSold:overSold,middle:middle,overBought:overBought}=this.props;return react.createElement("g",{className:className},react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForD,stroke:stroke.dLine,fill:"none"}),react.createElement(LineSeries_LineSeries,{yAccessor:this.yAccessorForK,stroke:stroke.kLine,fill:"none"}),react.createElement(StraightLine_StraightLine,{stroke:stroke.top,opacity:refLineOpacity,yValue:overSold}),react.createElement(StraightLine_StraightLine,{stroke:stroke.middle,opacity:refLineOpacity,yValue:middle}),react.createElement(StraightLine_StraightLine,{stroke:stroke.bottom,opacity:refLineOpacity,yValue:overBought}))}}StochasticSeries_StochasticSeries.defaultProps={className:"react-financial-charts-stochastic-series",stroke:{top:"#964B00",middle:"#000000",bottom:"#964B00",dLine:"#EA2BFF",kLine:"#74D400"},overSold:80,middle:50,overBought:20,refLineOpacity:.3};class OverlayBarSeries_OverlayBarSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{yAccessor:yAccessor}=this.props,bars=OverlayBarSeries_getBars(this.props,moreProps,yAccessor);return react.createElement("g",{className:"react-financial-charts-bar-series"},getBarsSVG2(this.props,bars))},this.drawOnCanvas=(ctx,moreProps)=>{const{yAccessor:yAccessor}=this.props,bars=OverlayBarSeries_getBars(this.props,moreProps,yAccessor);drawOnCanvas2(this.props,ctx,bars)}}render(){const{clip:clip}=this.props;return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasToDraw:GenericComponent.b,canvasDraw:this.drawOnCanvas,clip:clip,drawOn:["pan"]})}}function OverlayBarSeries_getBars(props,moreProps,yAccessor){const{xScale:xScale,xAccessor:xAccessor,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{baseAt:baseAt,className:className,fill:fill,stroke:stroke}=props,getClassName=Object(utils.functor)(className),getFill=Object(utils.functor)(fill),getBase=Object(utils.functor)(baseAt),width=Object(utils.functor)(props.width)(props,moreProps),offset=Math.floor(.5*width),bars=plotData.map(d=>{const innerBars=yAccessor.map((eachYAccessor,i)=>{const yValue=eachYAccessor(d);if(Object(utils.isNotDefined)(yValue))return;const xValue=xAccessor(d),x=Math.round(xScale(xValue))-offset,y=yScale(yValue);return{width:2*offset,x:x,y:y,className:getClassName(d,i),stroke:stroke?getFill(d,i):"none",fill:getFill(d,i),i:i}}).filter(yValue=>Object(utils.isDefined)(yValue));let h,b=getBase(xScale,yScale,d);for(let i=innerBars.length-1;i>=0;i--)(h=b-innerBars[i].y)<0&&(innerBars[i].y=b,h*=-1),innerBars[i].height=h,b=innerBars[i].y;return innerBars});return Object(merge.a)(bars)}OverlayBarSeries_OverlayBarSeries.defaultProps={baseAt:(xScale,yScale)=>Object(utils.first)(yScale.range()),direction:"up",className:"bar",stroke:!1,fill:"#4682B4",opacity:1,widthRatio:.5,width:utils_barWidth.a,clip:!0};var series_OverlayBarSeries=OverlayBarSeries_OverlayBarSeries;class ElderRaySeries_ElderRaySeries extends react.Component{constructor(){super(...arguments),this.yAccessorBullTop=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower>0?yAccessor(d).bullPower:void 0)},this.yAccessorBearTop=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bearPower>0?yAccessor(d).bearPower:void 0)},this.yAccessorBullBottom=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower<0?0:void 0)},this.yAccessorBearBottom=d=>{const{yAccessor:yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower<0||yAccessor(d).bullPower*yAccessor(d).bearPower<0?Math.min(0,yAccessor(d).bullPower):void 0)},this.yAccessorForBarBase=(xScale,yScale,d)=>{const{yAccessor:yAccessor}=this.props;return yScale(yAccessor(d)&&Math.min(yAccessor(d).bearPower,0))},this.fillForEachBar=(d,yAccessorNumber)=>{const{bullPowerFill:bullPowerFill,bearPowerFill:bearPowerFill}=this.props;return yAccessorNumber%2==0?bullPowerFill:bearPowerFill}}render(){const{className:className,opacity:opacity,stroke:stroke,straightLineStroke:straightLineStroke,straightLineOpacity:straightLineOpacity,widthRatio:widthRatio}=this.props,{clip:clip}=this.props;return react.createElement("g",{className:className},react.createElement(series_OverlayBarSeries,{baseAt:this.yAccessorForBarBase,className:"react-financial-charts-elderray-bar",stroke:stroke,fill:this.fillForEachBar,opacity:opacity,widthRatio:widthRatio,clip:clip,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),react.createElement(StraightLine_StraightLine,{className:"react-financial-charts-elderray-straight-line",yValue:0,stroke:straightLineStroke,opacity:straightLineOpacity}))}}ElderRaySeries_ElderRaySeries.defaultProps={className:"react-financial-charts-elderray-series",straightLineStroke:"#000000",straightLineOpacity:.3,opacity:.5,stroke:!0,bullPowerFill:"#6BA583",bearPowerFill:"#FF0000",widthRatio:.8,clip:!0};var bin=__webpack_require__(581),descending=__webpack_require__(577),ascending=__webpack_require__(116),sum=__webpack_require__(578),max=__webpack_require__(574),zip=__webpack_require__(582),linear=__webpack_require__(580),accumulatingWindow=__webpack_require__(256);class VolumeProfileSeries_VolumeProfileSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor,width:width}=moreProps,{rects:rects,sessionBg:sessionBg}=this.helper(this.props,moreProps,xAccessor,width);this.drawOnCanvasContext(ctx,this.props,rects,sessionBg)},this.renderSVG=moreProps=>{const{className:className,opacity:opacity}=this.props,{showSessionBackground:showSessionBackground,sessionBackGround:sessionBackGround,sessionBackGroundOpacity:sessionBackGroundOpacity}=this.props,{xAccessor:xAccessor,width:width}=moreProps,{rects:rects,sessionBg:sessionBg}=this.helper(this.props,moreProps,xAccessor,width),sessionBgSvg=showSessionBackground?sessionBg.map((d,idx)=>react.createElement("rect",Object.assign({key:idx},d,{opacity:sessionBackGroundOpacity,fill:sessionBackGround}))):null;return react.createElement("g",{className:className},sessionBgSvg,rects.map((d,i)=>react.createElement("g",{key:i},react.createElement("rect",{x:d.x,y:d.y,width:d.w1,height:d.height,fill:d.fill1,stroke:d.stroke1,fillOpacity:opacity}),react.createElement("rect",{x:d.x+d.w1,y:d.y,width:d.w2,height:d.height,fill:d.fill2,stroke:d.stroke2,fillOpacity:opacity}))))},this.drawOnCanvasContext=(ctx,props,rects,sessionBg)=>{const{opacity:opacity,sessionBackGround:sessionBackGround,sessionBackGroundOpacity:sessionBackGroundOpacity,showSessionBackground:showSessionBackground}=props;showSessionBackground&&(ctx.fillStyle=Object(colors.a)(sessionBackGround,sessionBackGroundOpacity),sessionBg.forEach(each=>{const{x:x,y:y,height:height,width:width}=each;ctx.beginPath(),ctx.rect(x,y,width,height),ctx.closePath(),ctx.fill()})),rects.forEach(each=>{const{x:x,y:y,height:height,w1:w1,w2:w2,stroke1:stroke1,stroke2:stroke2,fill1:fill1,fill2:fill2}=each;w1>0&&(ctx.fillStyle=Object(colors.a)(fill1,opacity),"none"!==stroke1&&(ctx.strokeStyle=stroke1),ctx.beginPath(),ctx.rect(x,y,w1,height),ctx.closePath(),ctx.fill(),"none"!==stroke1&&ctx.stroke()),w2>0&&(ctx.fillStyle=Object(colors.a)(fill2,opacity),"none"!==stroke2&&(ctx.strokeStyle=stroke2),ctx.beginPath(),ctx.rect(x+w1,y,w2,height),ctx.closePath(),ctx.fill(),"none"!==stroke2&&ctx.stroke())})},this.helper=(props,moreProps,xAccessor,width)=>{const{xScale:realXScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps,{sessionStart:sessionStart,bySession:bySession,partialStartOK:partialStartOK,partialEndOK:partialEndOK}=props,{bins:bins,maxProfileWidthPercent:maxProfileWidthPercent,source:source,volume:volume,absoluteChange:absoluteChange,orient:orient,fill:fill,stroke:stroke}=props,sessionBuilder=Object(accumulatingWindow.a)().discardTillStart(!partialStartOK).discardTillEnd(!partialEndOK).accumulateTill((d,i)=>sessionStart(Object.assign({d:d,i:i},moreProps))).accumulator(identity.a),dx=plotData.length>1?realXScale(xAccessor(plotData[1]))-realXScale(xAccessor(Object(utils.head)(plotData))):0,allRects=(bySession?sessionBuilder(plotData):[plotData]).map(session=>{const begin=bySession?realXScale(xAccessor(Object(utils.head)(session))):0,finish=bySession?realXScale(xAccessor(Object(utils.last)(session))):width,sessionWidth=finish-begin+dx,histogram2=Object(bin.a)().value(source).thresholds(bins),rollup=Object(d3_collection_src.a)().key(d=>d.direction).sortKeys("right"===orient?descending.a:ascending.a).rollup(leaves=>Object(sum.a)(leaves,d=>d.volume)),values=histogram2(session),volumeInBins=values.map(arr=>arr.map(d=>absoluteChange(d)>0?{direction:"up",volume:volume(d)}:{direction:"down",volume:volume(d)})).map(arr=>rollup.entries(arr)),volumeValues=volumeInBins.map(each=>Object(sum.a)(each.map(d=>d.value))),[start,end]="right"===orient?[begin,begin+sessionWidth*maxProfileWidthPercent/100]:[finish,finish-sessionWidth*(100-maxProfileWidthPercent)/100],xScale=Object(linear.a)().domain([0,Object(max.a)(volumeValues)]).range([start,end]),totalVolumes=volumeInBins.map(volumes=>{const totalVolume=Object(sum.a)(volumes,d=>d.value),totalVolumeX=xScale(totalVolume),widthLocal=(xScaleD=>Object(utils.head)(xScaleD.range()))(xScale)-totalVolumeX;return{x:widthLocal<0?totalVolumeX+widthLocal:totalVolumeX,ws:volumes.map(d=>({type:d.key,width:d.value*Math.abs(widthLocal)/totalVolume})),totalVolumeX:totalVolumeX}}),rects=Object(zip.a)(values,totalVolumes).map(([d,{x:x,ws:ws}])=>{const w1=ws[0]||{type:"up",width:0},w2=ws[1]||{type:"down",width:0};return{y:yScale(d.x1),height:yScale(d.x1)-yScale(d.x0),x:x,width:width,w1:w1.width,w2:w2.width,stroke1:Object(utils.functor)(stroke)(w1),stroke2:Object(utils.functor)(stroke)(w2),fill1:Object(utils.functor)(fill)(w1),fill2:Object(utils.functor)(fill)(w2)}});return{rects:rects,sessionBg:{x:begin,y:Object(utils.last)(rects).y,height:Object(utils.head)(rects).y-Object(utils.last)(rects).y+Object(utils.head)(rects).height,width:sessionWidth}}});return{rects:Object(merge.a)(allRects.map(d=>d.rects)),sessionBg:allRects.map(d=>d.sessionBg)}}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}VolumeProfileSeries_VolumeProfileSeries.defaultProps={className:"line ",bins:20,opacity:.5,maxProfileWidthPercent:50,fill:({type:type})=>"up"===type?"#6BA583":"#FF0000",stroke:"#FFFFFF",showSessionBackground:!1,sessionBackGround:"#4682B4",sessionBackGroundOpacity:.3,source:d=>d.close,volume:d=>d.volume,absoluteChange:d=>d.absoluteChange,bySession:!1,sessionStart:({d:d,i:i,plotData:plotData})=>i>0&&plotData[i-1].date.getMonth()!==d.date.getMonth(),orient:"left",partialStartOK:!0,partialEndOK:!0};class ScatterSeries_ScatterSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{className:className,markerProps:markerProps}=this.props,{xAccessor:xAccessor}=moreProps,points=this.helper(this.props,moreProps,xAccessor);return react.createElement("g",{className:className},points.map((point,idx)=>{const{marker:Marker}=point;return react.createElement(Marker,Object.assign({key:idx},markerProps,{point:point}))}))},this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor:xAccessor}=moreProps,points=this.helper(this.props,moreProps,xAccessor);this.drawOnCanvasHelper(ctx,this.props,points)},this.helper=(props,moreProps,xAccessor)=>{const{yAccessor:yAccessor,markerProvider:markerProvider,markerProps:markerProps}=props;let{marker:Marker}=props;const{xScale:xScale,chartConfig:{yScale:yScale},plotData:plotData}=moreProps;if(!markerProvider&&!Marker)throw new Error("required prop, either marker or markerProvider missing");return plotData.map(d=>{markerProvider&&(Marker=markerProvider(d));const mProps=Object.assign(Object.assign({},Marker.defaultProps),markerProps),fill=Object(utils.functor)(mProps.fill),stroke=Object(utils.functor)(mProps.stroke);return{x:xScale(xAccessor(d)),y:yScale(yAccessor(d)),fill:Object(colors.a)(fill(d),mProps.opacity),stroke:stroke(d),datum:d,marker:Marker}})},this.drawOnCanvasHelper=(ctx,props,points)=>{const{markerProps:markerProps}=props;Object(d3_collection_src.a)().key(d=>d.fill).key(d=>d.stroke).entries(points).forEach(fillGroup=>{const{key:fillKey,values:fillValues}=fillGroup;"none"!==fillKey&&(ctx.fillStyle=fillKey),fillValues.forEach(strokeGroup=>{const{values:strokeValues}=strokeGroup;strokeValues.forEach(point=>{const{marker:marker}=point;marker.drawOnCanvas(Object.assign(Object.assign(Object.assign({},marker.defaultProps),markerProps),{fill:fillKey}),point,ctx)})})})}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}ScatterSeries_ScatterSeries.defaultProps={className:"react-financial-charts-scatter"};class SARSeries_SARSeries extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{className:className,yAccessor:yAccessor,fill:fill}=this.props,{xAccessor:xAccessor,plotData:plotData,xScale:xScale,chartConfig:{yScale:yScale}}=moreProps;return react.createElement("g",{className:className},plotData.filter(each=>Object(utils.isDefined)(yAccessor(each))).map((each,idx)=>{const color=yAccessor(each)>each.close?fill.falling:fill.rising;return react.createElement("circle",{key:idx,cx:xScale(xAccessor(each)),cy:yScale(yAccessor(each)),r:3,fill:color})}))},this.drawOnCanvas=(ctx,moreProps)=>{const{yAccessor:yAccessor,fill:fill,opacity:opacity}=this.props,{xAccessor:xAccessor,plotData:plotData,xScale:xScale,chartConfig:{yScale:yScale},hovering:hovering}=moreProps,d=(xScale(xAccessor(Object(utils.last)(plotData)))-xScale(xAccessor(Object(utils.first)(plotData))))/plotData.length*.5/2,radius=Math.min(2,Math.max(.5,d))+(hovering?2:0);plotData.forEach(each=>{const centerX=xScale(xAccessor(each)),centerY=yScale(yAccessor(each)),color=yAccessor(each)>each.close?fill.falling:fill.rising;ctx.fillStyle=Object(colors.a)(color,opacity),ctx.strokeStyle=color,ctx.beginPath(),ctx.ellipse(centerX,centerY,radius,radius,0,0,2*Math.PI),ctx.closePath(),ctx.fill(),ctx.stroke()})},this.isHover=moreProps=>{const{mouseXY:mouseXY,currentItem:currentItem,chartConfig:{yScale:yScale}}=moreProps,{yAccessor:yAccessor}=this.props,y=mouseXY[1],currentY=yScale(yAccessor(currentItem));return y<currentY+5&&y>currentY-5}}render(){const{highlightOnHover:highlightOnHover}=this.props,hoverProps=highlightOnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:GenericComponent.c}:{drawOn:["pan"],canvasToDraw:GenericComponent.b};return react.createElement(GenericChartComponent.a,Object.assign({svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,onClickWhenHover:this.props.onClick,onDoubleClickWhenHover:this.props.onDoubleClick,onContextMenuWhenHover:this.props.onContextMenu},hoverProps))}}SARSeries_SARSeries.defaultProps={className:"react-financial-charts-sar",fill:{falling:"#4682B4",rising:"#15EC2E"},highlightOnHover:!0,opacity:.2},__webpack_require__.d(__webpack_exports__,"AreaSeries",(function(){return AreaSeries_AreaSeries})),__webpack_require__.d(__webpack_exports__,"AlternatingFillAreaSeries",(function(){return AlternatingFillAreaSeries_AlternatingFillAreaSeries})),__webpack_require__.d(__webpack_exports__,"AreaOnlySeries",(function(){return AreaOnlySeries_AreaOnlySeries})),__webpack_require__.d(__webpack_exports__,"Circle",(function(){return CircleMarker_Circle})),__webpack_require__.d(__webpack_exports__,"Triangle",(function(){return TriangleMarker_Triangle})),__webpack_require__.d(__webpack_exports__,"Square",(function(){return SquareMarker_Square})),__webpack_require__.d(__webpack_exports__,"LineSeries",(function(){return LineSeries_LineSeries})),__webpack_require__.d(__webpack_exports__,"CandlestickSeries",(function(){return CandlestickSeries_CandlestickSeries})),__webpack_require__.d(__webpack_exports__,"OHLCSeries",(function(){return OHLCSeries_OHLCSeries})),__webpack_require__.d(__webpack_exports__,"BarSeries",(function(){return BarSeries_BarSeries})),__webpack_require__.d(__webpack_exports__,"StackedBarSeries",(function(){return StackedBarSeries_StackedBarSeries})),__webpack_require__.d(__webpack_exports__,"GroupedBarSeries",(function(){return GroupedBarSeries_GroupedBarSeries})),__webpack_require__.d(__webpack_exports__,"KagiSeries",(function(){return KagiSeries_KagiSeries})),__webpack_require__.d(__webpack_exports__,"PointAndFigureSeries",(function(){return PointAndFigureSeries_PointAndFigureSeries})),__webpack_require__.d(__webpack_exports__,"RenkoSeries",(function(){return RenkoSeries_RenkoSeries})),__webpack_require__.d(__webpack_exports__,"MACDSeries",(function(){return MACDSeries_MACDSeries})),__webpack_require__.d(__webpack_exports__,"BollingerSeries",(function(){return BollingerSeries_BollingerSeries})),__webpack_require__.d(__webpack_exports__,"RSISeries",(function(){return RSISeries_RSISeries})),__webpack_require__.d(__webpack_exports__,"StochasticSeries",(function(){return StochasticSeries_StochasticSeries})),__webpack_require__.d(__webpack_exports__,"ElderRaySeries",(function(){return ElderRaySeries_ElderRaySeries})),__webpack_require__.d(__webpack_exports__,"VolumeProfileSeries",(function(){return VolumeProfileSeries_VolumeProfileSeries})),__webpack_require__.d(__webpack_exports__,"ScatterSeries",(function(){return ScatterSeries_ScatterSeries})),__webpack_require__.d(__webpack_exports__,"StraightLine",(function(){return StraightLine_StraightLine})),__webpack_require__.d(__webpack_exports__,"SARSeries",(function(){return SARSeries_SARSeries}))},38:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var src_extent=__webpack_require__(265),min=__webpack_require__(162),max=__webpack_require__(574),prop_types=__webpack_require__(2),react=__webpack_require__(1),shallowEqual=__webpack_require__(70),utils=__webpack_require__(0),identity=__webpack_require__(22),noop=__webpack_require__(16),lodash_flattendeep=__webpack_require__(262),lodash_flattendeep_default=__webpack_require__.n(lodash_flattendeep),linear=__webpack_require__(580);class PureComponent_PureComponent extends react.Component{shouldComponentUpdate(nextProps,nextState,nextContext){return!Object(shallowEqual.a)(this.props,nextProps)||!Object(shallowEqual.a)(this.state,nextState)||!Object(shallowEqual.a)(this.context,nextContext)}}class Chart_Chart extends PureComponent_PureComponent{constructor(props,context){super(props,context),this.yScale=this.yScale.bind(this),this.listener=this.listener.bind(this)}componentDidMount(){const{id:id}=this.props,{subscribe:subscribe}=this.context;subscribe(`chart_${id}`,{listener:this.listener})}componentWillUnmount(){const{id:id}=this.props,{unsubscribe:unsubscribe}=this.context;unsubscribe(`chart_${id}`)}listener(type,moreProps,state,e){const{id:id,onContextMenu:onContextMenu}=this.props;if("contextmenu"===type){const{currentCharts:currentCharts}=moreProps;currentCharts.indexOf(id)>-1&&void 0!==onContextMenu&&onContextMenu(moreProps,e)}}yScale(){return Object(utils.find)(this.context.chartConfig,each=>each.id===this.props.id).yScale.copy()}getChildContext(){const{id:chartId}=this.props,chartConfig=Object(utils.find)(this.context.chartConfig,each=>each.id===chartId);return{chartId:chartId,chartConfig:chartConfig}}render(){const{origin:origin}=Object(utils.find)(this.context.chartConfig,each=>each.id===this.props.id),[x,y]=origin;return react.createElement("g",{transform:`translate(${x}, ${y})`},this.props.children)}}Chart_Chart.defaultProps={id:0,origin:[0,0],padding:0,yScale:Object(linear.a)(),flipYScale:!1,yPan:!0,yPanEnabled:!1,onContextMenu:noop.a},Chart_Chart.contextTypes={chartConfig:prop_types.array,subscribe:prop_types.func.isRequired,unsubscribe:prop_types.func.isRequired},Chart_Chart.childContextTypes={chartConfig:prop_types.object.isRequired,chartId:prop_types.oneOfType([prop_types.number,prop_types.string]).isRequired};var zipper=__webpack_require__(115);function isArraySize2AndNumber(yExtentsProp){if(Array.isArray(yExtentsProp)&&2===yExtentsProp.length){const[a,b]=yExtentsProp;return"number"==typeof a&&"number"==typeof b}return!1}function getNewChartConfig(innerDimension,children,existingChartConfig=[]){return react.Children.map(children,each=>{if(each&&each.type.toString()===Chart_Chart.toString()){const chartProps=Object.assign(Object.assign({},Chart_Chart.defaultProps),each.props),{id:id,origin:origin,padding:padding,yExtents:yExtentsProp,yScale:yScaleProp,flipYScale:flipYScale,yExtentsCalculator:yExtentsCalculator}=chartProps,yScale=yScaleProp.copy(),{width:width,height:height,availableHeight:availableHeight}=function getDimensions({width:width,height:height},chartProps){return{availableHeight:height,width:width,height:chartProps.height||height}}(innerDimension,chartProps),{yPan:yPan}=chartProps;let{yPanEnabled:yPanEnabled}=chartProps;const yExtents=Object(utils.isDefined)(yExtentsProp)?(Array.isArray(yExtentsProp)?yExtentsProp:[yExtentsProp]).map(utils.functor):void 0,prevChartConfig=Object(utils.find)(existingChartConfig,d=>d.id===id);if(isArraySize2AndNumber(yExtentsProp))if(Object(utils.isDefined)(prevChartConfig)&&prevChartConfig.yPan&&prevChartConfig.yPanEnabled&&yPan&&yPanEnabled&&Object(shallowEqual.a)(prevChartConfig.originalYExtentsProp,yExtentsProp))yScale.domain(prevChartConfig.yScale.domain());else{const[a,b]=yExtentsProp;yScale.domain([a,b])}else Object(utils.isDefined)(prevChartConfig)&&prevChartConfig.yPanEnabled&&(isArraySize2AndNumber(prevChartConfig.originalYExtentsProp)||(yScale.domain(prevChartConfig.yScale.domain()),yPanEnabled=!0));return{id:id,origin:Object(utils.functor)(origin)(width,availableHeight),padding:padding,originalYExtentsProp:yExtentsProp,yExtents:yExtents,yExtentsCalculator:yExtentsCalculator,flipYScale:flipYScale,yScale:yScale,yPan:yPan,yPanEnabled:yPanEnabled,width:width,height:height}}}).filter(each=>Object(utils.isDefined)(each))}function getCurrentCharts(chartConfig,mouseXY){return chartConfig.filter(eachConfig=>{const top=eachConfig.origin[1],bottom=top+eachConfig.height;return mouseXY[1]>top&&mouseXY[1]<bottom}).map(config=>config.id)}function yDomainFromYExtents(yExtents,yScale,plotData){const yValues=yExtents.map(eachExtent=>plotData.map(function values(func){return d=>{const obj=func(d);return Object(utils.isObject)(obj)?Object(utils.mapObject)(obj):obj}}(eachExtent))),allYValues=lodash_flattendeep_default()(yValues);return yScale.invert?Object(src_extent.a)(allYValues):[...new Set(allYValues).values()]}function getChartConfigWithUpdatedYScales(chartConfig,{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},xDomain,dy,chartsToPan){const yDomains=chartConfig.map(({yExtentsCalculator:yExtentsCalculator,yExtents:yExtents,yScale:yScale})=>{return{realYDomain:Object(utils.isDefined)(yExtentsCalculator)?yExtentsCalculator({plotData:plotData,xDomain:xDomain,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData}):yDomainFromYExtents(yExtents,yScale,plotData),yDomainDY:Object(utils.isDefined)(dy)?yScale.range().map(each=>each-dy).map(yScale.invert):yScale.domain(),prevYDomain:yScale.domain()}});return Object(zipper.a)().combine((config,{realYDomain:realYDomain,yDomainDY:yDomainDY,prevYDomain:prevYDomain})=>{const{id:id,padding:padding,height:height,yScale:yScale,yPan:yPan,flipYScale:flipYScale,yPanEnabled:yPanEnabled=!1}=config,another=!Object(utils.isDefined)(chartsToPan)||chartsToPan.indexOf(id)>-1,domain=yPan&&yPanEnabled?another?yDomainDY:prevYDomain:realYDomain,newYScale=function setRange(scale,height,padding,flipYScale){if(scale.rangeRoundPoints||Object(utils.isNotDefined)(scale.invert)){if(isNaN(padding))throw new Error("padding has to be a number for ordinal scale");scale.rangeRoundPoints&&scale.rangeRoundPoints(flipYScale?[0,height]:[height,0],padding),scale.rangeRound&&scale.range(flipYScale?[0,height]:[height,0]).padding(padding)}else{const{top:top,bottom:bottom}=isNaN(padding)?padding:{top:padding,bottom:padding};scale.range(flipYScale?[top,height-bottom]:[height-bottom,top])}return scale}(yScale.copy().domain(domain),height,padding,flipYScale);return Object.assign(Object.assign({},config),{yScale:newYScale,realYDomain:realYDomain})})(chartConfig,yDomains)}function getCurrentItem(xScale,xAccessor,mouseXY,plotData){let xValue,item;if(xScale.invert)xValue=xScale.invert(mouseXY[0]),item=Object(utils.getClosestItem)(plotData,xValue,xAccessor);else{const dr=xScale.range().map((d,idx)=>({x:Math.abs(d-mouseXY[0]),idx:idx})).reduce((a,b)=>a.x<b.x?a:b);item=Object(utils.isDefined)(dr)?plotData[dr.idx]:plotData[0]}return item}var src=__webpack_require__(5),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class EventCapture_EventCapture extends react.Component{constructor(props){super(props),this.dx=0,this.dy=0,this.handleEnter=this.handleEnter.bind(this),this.handleLeave=this.handleLeave.bind(this),this.handleWheel=this.handleWheel.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handlePanEnd=this.handlePanEnd.bind(this),this.handlePan=this.handlePan.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handlePinchZoom=this.handlePinchZoom.bind(this),this.handlePinchZoomEnd=this.handlePinchZoomEnd.bind(this),this.handleClick=this.handleClick.bind(this),this.handleRightClick=this.handleRightClick.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.shouldPan=this.shouldPan.bind(this),this.canPan=this.canPan.bind(this),this.setCursorClass=this.setCursorClass.bind(this),this.saveNode=this.saveNode.bind(this),this.mouseInside=!1,this.mouseInteraction=!0,this.focus=props.focus,this.state={panInProgress:!1}}saveNode(node){this.node=node}componentDidMount(){this.node&&(Object(src.c)(this.node).on(utils.MOUSEENTER,this.handleEnter).on(utils.MOUSELEAVE,this.handleLeave),this.node.addEventListener("wheel",this.handleWheel,{passive:!1}))}componentDidUpdate(){this.componentDidMount()}componentWillUnmount(){if(this.node){Object(src.c)(this.node).on(utils.MOUSEENTER,null).on(utils.MOUSELEAVE,null);const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,null),this.node.removeEventListener("wheel",this.handleWheel,{passive:!1})}}handleEnter(){const{onMouseEnter:onMouseEnter}=this.props;if(void 0===onMouseEnter)return;const e=src.a;if(this.mouseInside=!0,!this.state.panInProgress&&!this.state.dragInProgress){const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,this.handleMouseMove)}onMouseEnter(e)}handleLeave(e){const{onMouseLeave:onMouseLeave}=this.props;if(void 0!==onMouseLeave){if(this.mouseInside=!1,!this.state.panInProgress&&!this.state.dragInProgress){const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,null)}onMouseLeave(e)}}handleWheel(e){const{zoom:zoom,onZoom:onZoom}=this.props,{panInProgress:panInProgress}=this.state,yZoom=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,mouseXY=Object(utils.mousePosition)(e);if(e.preventDefault(),zoom&&this.focus&&yZoom&&!panInProgress){const zoomDir=e.deltaY>0?1:-1;void 0!==onZoom&&onZoom(zoomDir,mouseXY,e)}else if(this.focus){if(this.shouldPan()){const{panStartXScale:panStartXScale,chartsToPan:chartsToPan}=this.state.panStart;this.lastNewPos=mouseXY,this.panHappened=!0,this.dx+=e.deltaX,this.dy+=e.deltaY;const dxdy={dx:this.dx,dy:this.dy};this.props.onPan(mouseXY,panStartXScale,dxdy,chartsToPan,e)}else{const{xScale:xScale,chartConfig:chartConfig}=this.props,currentCharts=getCurrentCharts(chartConfig,mouseXY);this.dx=0,this.dy=0,this.setState({panInProgress:!0,panStart:{panStartXScale:xScale,panOrigin:mouseXY,chartsToPan:currentCharts}})}this.queuePanEnd()}}queuePanEnd(){Object(utils.isDefined)(this.panEndTimeout)&&clearTimeout(this.panEndTimeout),this.panEndTimeout=setTimeout(()=>{this.handlePanEnd()},100)}handleMouseMove(){const e=src.a,{onMouseMove:onMouseMove,mouseMove:mouseMove}=this.props;if(this.mouseInteraction&&mouseMove&&!this.state.panInProgress){const newPos=Object(src.b)(this.node);void 0!==onMouseMove&&onMouseMove(newPos,"mouse",e)}}handleClick(e){const mouseXY=Object(utils.mousePosition)(e),{onClick:onClick,onDoubleClick:onDoubleClick}=this.props;this.panHappened||this.dragHappened||(this.clicked&&void 0!==onDoubleClick?(onDoubleClick(mouseXY,e),this.clicked=!1):void 0!==onClick&&(onClick(mouseXY,e),this.clicked=!0,setTimeout(()=>{this.clicked&&(this.clicked=!1)},400)))}handleRightClick(e){e.stopPropagation(),e.preventDefault();const{onContextMenu:onContextMenu,onPanEnd:onPanEnd}=this.props,mouseXY=Object(utils.mousePosition)(e,this.node.getBoundingClientRect());if(Object(utils.isDefined)(this.state.panStart)){const{panStartXScale:panStartXScale,panOrigin:panOrigin,chartsToPan:chartsToPan}=this.state.panStart;this.panHappened&&onPanEnd(mouseXY,panStartXScale,panOrigin,chartsToPan,e);const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,null).on(utils.MOUSEUP,null),this.setState({panInProgress:!1,panStart:null})}void 0!==onContextMenu&&onContextMenu(mouseXY,e)}handleDrag(){const e=src.a;if(this.props.onDrag){this.dragHappened=!0;const mouseXY=Object(src.b)(this.node);this.props.onDrag({startPos:this.state.dragStartPosition,mouseXY:mouseXY},e)}}cancelDrag(){const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,this.mouseInside?this.handleMouseMove:null).on(utils.MOUSEUP,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}handleDragEnd(){const e=src.a,mouseXY=Object(src.b)(this.node),win=Object(utils.d3Window)(this.node);if(Object(src.c)(win).on(utils.MOUSEMOVE,this.mouseInside?this.handleMouseMove:null).on(utils.MOUSEUP,null),this.dragHappened){const{onDragComplete:onDragComplete}=this.props;void 0!==onDragComplete&&onDragComplete({mouseXY:mouseXY},e)}this.setState({dragInProgress:!1}),this.mouseInteraction=!0}canPan(){const{getAllPanConditions:getAllPanConditions}=this.props,{pan:initialPanEnabled}=this.props,{panEnabled:panEnabled,draggable:somethingSelected}=getAllPanConditions().reduce((returnObj,a)=>({draggable:returnObj.draggable||a.draggable,panEnabled:returnObj.panEnabled&&a.panEnabled}),{draggable:!1,panEnabled:initialPanEnabled});return{panEnabled:panEnabled,somethingSelected:somethingSelected}}handleMouseDown(e){if(0!==e.button)return;const{xScale:xScale,chartConfig:chartConfig,onMouseDown:onMouseDown}=this.props;if(this.panHappened=!1,this.dragHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){const mouseXY=Object(utils.mousePosition)(e),currentCharts=getCurrentCharts(chartConfig,mouseXY),{panEnabled:panEnabled,somethingSelected:somethingSelected}=this.canPan(),pan=panEnabled&&!somethingSelected;if(pan){this.setState({panInProgress:pan,panStart:{panStartXScale:xScale,panOrigin:mouseXY,chartsToPan:currentCharts}});const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,this.handlePan).on(utils.MOUSEUP,this.handlePanEnd)}else if(somethingSelected){this.setState({panInProgress:!1,dragInProgress:!0,panStart:null,dragStartPosition:mouseXY});const{onDragStart:onDragStart}=this.props;void 0!==onDragStart&&onDragStart({startPos:mouseXY},e);const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,this.handleDrag).on(utils.MOUSEUP,this.handleDragEnd)}void 0!==onMouseDown&&onMouseDown(mouseXY,currentCharts,e)}e.preventDefault()}shouldPan(){const{pan:panEnabled,onPan:onPan}=this.props;return panEnabled&&onPan&&Object(utils.isDefined)(this.state.panStart)}handlePan(){const e=src.a;if(this.shouldPan()){this.panHappened=!0;const{panStartXScale:panStartXScale,panOrigin:panOrigin,chartsToPan:chartsToPan}=this.state.panStart,mouseXY=this.mouseInteraction?Object(src.b)(this.node):Object(src.d)(this.node)[0];this.lastNewPos=mouseXY;const dx=mouseXY[0]-panOrigin[0],dy=mouseXY[1]-panOrigin[1];this.dx=dx,this.dy=dy,this.props.onPan(mouseXY,panStartXScale,{dx:dx,dy:dy},chartsToPan,e)}}handlePanEnd(){const e=src.a,{pan:panEnabled,onPanEnd:onPanEnd}=this.props;if(Object(utils.isDefined)(this.state.panStart)){const{panStartXScale:panStartXScale,chartsToPan:chartsToPan}=this.state.panStart,win=Object(utils.d3Window)(this.node);if(Object(src.c)(win).on(utils.MOUSEMOVE,this.mouseInside?this.handleMouseMove:null).on(utils.MOUSEUP,null).on(utils.TOUCHMOVE,null).on(utils.TOUCHEND,null),this.panHappened&&panEnabled&&onPanEnd){const{dx:dx,dy:dy}=this;delete this.dx,delete this.dy,onPanEnd(this.lastNewPos,panStartXScale,{dx:dx,dy:dy},chartsToPan,e)}this.setState({panInProgress:!1,panStart:null})}}handleTouchMove(e){const{onMouseMove:onMouseMove}=this.props;void 0!==onMouseMove&&onMouseMove(Object(utils.touchPosition)(Object(utils.getTouchProps)(e.touches[0]),e),"touch",e)}handleTouchStart(e){this.mouseInteraction=!1;const{pan:panEnabled,chartConfig:chartConfig,onMouseMove:onMouseMove}=this.props,{xScale:xScale,onPanEnd:onPanEnd}=this.props;if(1===e.touches.length){this.panHappened=!1;const touchXY=Object(utils.touchPosition)(Object(utils.getTouchProps)(e.touches[0]),e);if(void 0!==onMouseMove&&onMouseMove(touchXY,"touch",e),panEnabled){const currentCharts=getCurrentCharts(chartConfig,touchXY);this.setState({panInProgress:!0,panStart:{panStartXScale:xScale,panOrigin:touchXY,chartsToPan:currentCharts}});const win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.TOUCHMOVE,this.handlePan,!1).on(utils.TOUCHEND,this.handlePanEnd,!1)}}else if(2===e.touches.length){const{panInProgress:panInProgress,panStart:panStart}=this.state;if(panInProgress&&panEnabled&&onPanEnd){const{panStartXScale:panStartXScale,panOrigin:panOrigin,chartsToPan:chartsToPan}=panStart,win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.MOUSEMOVE,this.mouseInside?this.handleMouseMove:null).on(utils.MOUSEUP,null).on(utils.TOUCHMOVE,this.handlePinchZoom,!1).on(utils.TOUCHEND,this.handlePinchZoomEnd,!1);const touch1Pos=Object(utils.touchPosition)(Object(utils.getTouchProps)(e.touches[0]),e),touch2Pos=Object(utils.touchPosition)(Object(utils.getTouchProps)(e.touches[1]),e);this.panHappened&&panEnabled&&onPanEnd&&onPanEnd(this.lastNewPos,panStartXScale,panOrigin,chartsToPan,e),this.setState({panInProgress:!1,pinchZoomStart:{xScale:xScale,touch1Pos:touch1Pos,touch2Pos:touch2Pos,range:xScale.range(),chartsToPan:chartsToPan}})}}}handlePinchZoom(){const e=src.a,[touch1Pos,touch2Pos]=Object(src.d)(this.node),{xScale:xScale,zoom:zoomEnabled,onPinchZoom:onPinchZoom}=this.props,_a=this.state.pinchZoomStart,{chartsToPan:chartsToPan}=_a,initialPinch=__rest(_a,["chartsToPan"]);zoomEnabled&&onPinchZoom&&onPinchZoom(initialPinch,{touch1Pos:touch1Pos,touch2Pos:touch2Pos,xScale:xScale},e)}handlePinchZoomEnd(){const e=src.a,win=Object(utils.d3Window)(this.node);Object(src.c)(win).on(utils.TOUCHMOVE,null).on(utils.TOUCHEND,null);const{zoom:zoomEnabled,onPinchZoomEnd:onPinchZoomEnd}=this.props,_a=this.state.pinchZoomStart,{chartsToPan:chartsToPan}=_a,initialPinch=__rest(_a,["chartsToPan"]);zoomEnabled&&onPinchZoomEnd&&onPinchZoomEnd(initialPinch,e),this.setState({pinchZoomStart:void 0})}setCursorClass(cursorOverrideClass){cursorOverrideClass!==this.state.cursorOverrideClass&&this.setState({cursorOverrideClass:cursorOverrideClass})}render(){const{height:height,width:width,disableInteraction:disableInteraction,useCrossHairStyleCursor:useCrossHairStyleCursor}=this.props,className=void 0!==this.state.cursorOverrideClass?this.state.cursorOverrideClass:useCrossHairStyleCursor?this.state.panInProgress?"react-financial-charts-grabbing-cursor":"react-financial-charts-crosshair-cursor":"",interactionProps=disableInteraction||{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return react.createElement("rect",Object.assign({ref:this.saveNode,className:className,width:width,height:height,style:{opacity:0}},interactionProps))}}EventCapture_EventCapture.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,onDragComplete:noop.a,disableInteraction:!1};var lib_CanvasContainer=class CanvasContainer_CanvasContainer extends react.Component{constructor(props){super(props),this.setDrawCanvas=this.setDrawCanvas.bind(this),this.drawCanvas={}}setDrawCanvas(node){Object(utils.isDefined)(node)?this.drawCanvas[node.id]=node.getContext("2d"):this.drawCanvas={}}getCanvasContexts(){if(Object(utils.isDefined)(this.drawCanvas.axes))return this.drawCanvas}render(){const{height:height,width:width,type:type,zIndex:zIndex,ratio:ratio}=this.props;return"svg"===type?null:react.createElement("div",{style:{position:"absolute",zIndex:zIndex}},react.createElement("canvas",{id:"bg",ref:this.setDrawCanvas,width:width*ratio,height:height*ratio,style:{position:"absolute",width:width,height:height}}),react.createElement("canvas",{id:"axes",ref:this.setDrawCanvas,width:width*ratio,height:height*ratio,style:{position:"absolute",width:width,height:height}}),react.createElement("canvas",{id:"mouseCoord",ref:this.setDrawCanvas,width:width*ratio,height:height*ratio,style:{position:"absolute",width:width,height:height}}))}};const log=Object(utils.getLogger)("evaluator");function getNewEnd(fallbackEnd,xAccessor,initialXScale,start){const{lastItem:lastItem,lastItemX:lastItemX}=fallbackEnd,lastItemXValue=xAccessor(lastItem),[rangeStart,rangeEnd]=initialXScale.range();return(rangeEnd-rangeStart)/(lastItemX-rangeStart)*(lastItemXValue-start)+start}function extentsWrapper(useWholeData,clamp,pointsPerPxThreshold,minPointsPerPxThreshold,flipXScale){return{filterData:function filterData(data,inputDomain,xAccessor,initialXScale,{currentPlotData:currentPlotData,currentDomain:currentDomain,fallbackStart:fallbackStart,fallbackEnd:fallbackEnd}={}){if(useWholeData)return{plotData:data,domain:inputDomain};let left=Object(utils.head)(inputDomain),right=Object(utils.last)(inputDomain),clampedDomain=inputDomain,filteredData=getFilteredResponse(data,left,right,xAccessor);1===filteredData.length&&Object(utils.isDefined)(fallbackStart)&&(clampedDomain=[left=fallbackStart,right=getNewEnd(fallbackEnd,xAccessor,initialXScale,left)],filteredData=getFilteredResponse(data,left,right,xAccessor)),"function"==typeof clamp?clampedDomain=clamp(clampedDomain,[xAccessor(Object(utils.head)(data)),xAccessor(Object(utils.last)(data))]):("left"!==clamp&&"both"!==clamp&&!0!==clamp||(clampedDomain=[Math.max(left,xAccessor(Object(utils.head)(data))),clampedDomain[1]]),"right"!==clamp&&"both"!==clamp&&!0!==clamp||(clampedDomain=[clampedDomain[0],Math.min(right,xAccessor(Object(utils.last)(data)))])),clampedDomain!==inputDomain&&(filteredData=getFilteredResponse(data,clampedDomain[0],clampedDomain[1],xAccessor));const realInputDomain=clampedDomain,xScale=initialXScale.copy().domain(realInputDomain);let plotData,domain,width=Math.floor(xScale(xAccessor(Object(utils.last)(filteredData)))-xScale(xAccessor(Object(utils.head)(filteredData))));flipXScale&&width<0&&(width*=-1);const chartWidth=Object(utils.last)(xScale.range())-Object(utils.head)(xScale.range());if(log(`Trying to show ${filteredData.length} points in ${width}px,`+` I can show up to ${showMaxThreshold(width,pointsPerPxThreshold)-1} points in that width. `+`Also FYI the entire chart width is ${chartWidth}px and pointsPerPxThreshold is ${pointsPerPxThreshold}`),function canShowTheseManyPeriods(width,arrayLength,maxThreshold,minThreshold){return arrayLength>function showMinThreshold(width,threshold){return Math.max(1,Math.ceil(width*threshold))}(width,minThreshold)&&arrayLength<showMaxThreshold(width,maxThreshold)}(width,filteredData.length,pointsPerPxThreshold,minPointsPerPxThreshold))plotData=filteredData,domain=realInputDomain,log("AND IT WORKED");else if(chartWidth>showMaxThreshold(width,pointsPerPxThreshold)&&Object(utils.isDefined)(fallbackEnd)){plotData=filteredData;const newEnd=getNewEnd(fallbackEnd,xAccessor,initialXScale,Object(utils.head)(realInputDomain));domain=[Object(utils.head)(realInputDomain),newEnd];const newXScale=xScale.copy().domain(domain),newWidth=Math.floor(newXScale(xAccessor(Object(utils.last)(plotData)))-newXScale(xAccessor(Object(utils.head)(plotData))));log(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`)}else{plotData=currentPlotData||filteredData.slice(filteredData.length-function showMax(width,threshold){return Math.floor(.97*showMaxThreshold(width,threshold))}(width,pointsPerPxThreshold)),domain=currentDomain||[xAccessor(Object(utils.head)(plotData)),xAccessor(Object(utils.last)(plotData))];const newXScale=xScale.copy().domain(domain),newWidth=Math.floor(newXScale(xAccessor(Object(utils.last)(plotData)))-newXScale(xAccessor(Object(utils.head)(plotData))));log(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`)}return{plotData:plotData,domain:domain}}}}function showMaxThreshold(width,threshold){return Math.floor(width*threshold)}function getFilteredResponse(data,left,right,xAccessor){const newLeftIndex=Object(utils.getClosestItemIndexes)(data,left,xAccessor).right,newRightIndex=Object(utils.getClosestItemIndexes)(data,right,xAccessor).left;return data.slice(newLeftIndex,newRightIndex+1)}var evaluator=function({xScale:xScale,useWholeData:useWholeData,clamp:clamp,pointsPerPxThreshold:pointsPerPxThreshold,minPointsPerPxThreshold:minPointsPerPxThreshold,flipXScale:flipXScale}){return extentsWrapper(useWholeData||Object(utils.isNotDefined)(xScale.invert),clamp,pointsPerPxThreshold,minPointsPerPxThreshold,flipXScale)},ChartCanvas_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const CANDIDATES_FOR_RESET=["seriesName"];function ChartCanvas_getDimensions(props){return{height:props.height-props.margin.top-props.margin.bottom,width:props.width-props.margin.left-props.margin.right}}function getXScaleDirection(flipXScale){return flipXScale?-1:1}function calculateFullData(props){const{data:fullData,plotFull:plotFull,xScale:xScale,clamp:clamp,pointsPerPxThreshold:pointsPerPxThreshold,flipXScale:flipXScale}=props,{xAccessor:xAccessor,displayXAccessor:displayXAccessor,minPointsPerPxThreshold:minPointsPerPxThreshold}=props,useWholeData=Object(utils.isDefined)(plotFull)?plotFull:xAccessor===identity.a,{filterData:filterData}=evaluator({xScale:xScale,useWholeData:useWholeData,clamp:clamp,pointsPerPxThreshold:pointsPerPxThreshold,minPointsPerPxThreshold:minPointsPerPxThreshold,flipXScale:flipXScale});return{xAccessor:xAccessor,displayXAccessor:displayXAccessor||xAccessor,xScale:xScale.copy(),fullData:fullData,filterData:filterData}}function resetChart(props,firstCalculation=!1){const state=function calculateState(props){const{xAccessor:inputXAccesor,xExtents:xExtentsProp,data:data,padding:padding,flipXScale:flipXScale}=props;0;const direction=getXScaleDirection(flipXScale),dimensions=ChartCanvas_getDimensions(props),extent="function"==typeof xExtentsProp?xExtentsProp(data):Object(src_extent.a)(xExtentsProp.map(d=>Object(utils.functor)(d)).map(each=>each(data,inputXAccesor))),{xAccessor:xAccessor,displayXAccessor:displayXAccessor,xScale:xScale,fullData:fullData,filterData:filterData}=calculateFullData(props),updatedXScale=setXRange(xScale,dimensions,padding,direction),{plotData:plotData,domain:domain}=filterData(fullData,extent,inputXAccesor,updatedXScale);0;return{plotData:plotData,xScale:updatedXScale.domain(domain),xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData,filterData:filterData}}(props),{xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData}=state,{plotData:initialPlotData,xScale:xScale}=state,{postCalculator:postCalculator,children:children}=props,plotData=postCalculator(initialPlotData),chartConfig=getChartConfigWithUpdatedYScales(getNewChartConfig(ChartCanvas_getDimensions(props),children),{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},xScale.domain());return Object.assign(Object.assign({},state),{xScale:xScale,plotData:plotData,chartConfig:chartConfig})}function setXRange(xScale,dimensions,padding,direction=1){if(xScale.rangeRoundPoints){if(isNaN(padding))throw new Error("padding has to be a number for ordinal scale");xScale.rangeRoundPoints([0,dimensions.width],padding)}else if(xScale.padding){if(isNaN(padding))throw new Error("padding has to be a number for ordinal scale");xScale.range([0,dimensions.width]),xScale.padding(padding/2)}else{const{left:left,right:right}=isNaN(padding)?padding:{left:padding,right:padding};direction>0?xScale.range([left,dimensions.width-right]):xScale.range([dimensions.width-right,left])}return xScale}function pinchCoordinates(pinch){const{touch1Pos:touch1Pos,touch2Pos:touch2Pos}=pinch;return{topLeft:[Math.min(touch1Pos[0],touch2Pos[0]),Math.min(touch1Pos[1],touch2Pos[1])],bottomRight:[Math.max(touch1Pos[0],touch2Pos[0]),Math.max(touch1Pos[1],touch2Pos[1])]}}function isInteractionEnabled(xScale,xAccessor,data){return!isNaN(xScale(xAccessor(Object(utils.head)(data))))&&Object(utils.isDefined)(xScale.invert)}class ChartCanvas_ChartCanvas extends react.Component{constructor(props){super(props),this.getDataInfo=this.getDataInfo.bind(this),this.getCanvasContexts=this.getCanvasContexts.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleZoom=this.handleZoom.bind(this),this.handlePinchZoom=this.handlePinchZoom.bind(this),this.handlePinchZoomEnd=this.handlePinchZoomEnd.bind(this),this.handlePan=this.handlePan.bind(this),this.handlePanEnd=this.handlePanEnd.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleDragStart=this.handleDragStart.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.panHelper=this.panHelper.bind(this),this.pinchZoomHelper=this.pinchZoomHelper.bind(this),this.xAxisZoom=this.xAxisZoom.bind(this),this.yAxisZoom=this.yAxisZoom.bind(this),this.resetYDomain=this.resetYDomain.bind(this),this.calculateStateForDomain=this.calculateStateForDomain.bind(this),this.generateSubscriptionId=this.generateSubscriptionId.bind(this),this.draw=this.draw.bind(this),this.redraw=this.redraw.bind(this),this.getAllPanConditions=this.getAllPanConditions.bind(this),this.subscriptions=[],this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.amIOnTop=this.amIOnTop.bind(this),this.saveEventCaptureNode=this.saveEventCaptureNode.bind(this),this.saveCanvasContainerNode=this.saveCanvasContainerNode.bind(this),this.setCursorClass=this.setCursorClass.bind(this),this.getMutableState=this.getMutableState.bind(this),this.panInProgress=!1,this.state={},this.mutableState={},this.lastSubscriptionId=0;const _a=resetChart(props,!0),{fullData:fullData}=_a,state=ChartCanvas_rest(_a,["fullData"]);this.state=state,this.fullData=fullData}saveEventCaptureNode(node){this.eventCaptureNode=node}saveCanvasContainerNode(node){this.canvasContainerNode=node}getMutableState(){return this.mutableState}getDataInfo(){return Object.assign(Object.assign({},this.state),{fullData:this.fullData})}getCanvasContexts(){if(this.canvasContainerNode)return this.canvasContainerNode.getCanvasContexts()}generateSubscriptionId(){return this.lastSubscriptionId++,this.lastSubscriptionId}clearBothCanvas(){const canvases=this.getCanvasContexts();canvases&&canvases.axes&&Object(utils.clearCanvas)([canvases.axes,canvases.mouseCoord],this.props.ratio)}clearMouseCanvas(){const canvases=this.getCanvasContexts();canvases&&canvases.mouseCoord&&Object(utils.clearCanvas)([canvases.mouseCoord],this.props.ratio)}clearThreeCanvas(){const canvases=this.getCanvasContexts();canvases&&canvases.axes&&Object(utils.clearCanvas)([canvases.axes,canvases.mouseCoord,canvases.bg],this.props.ratio)}subscribe(id,rest){const{getPanConditions:getPanConditions=Object(utils.functor)({draggable:!1,panEnabled:!0})}=rest;this.subscriptions=this.subscriptions.concat(Object.assign(Object.assign({id:id},rest),{getPanConditions:getPanConditions}))}unsubscribe(id){this.subscriptions=this.subscriptions.filter(each=>each.id!==id)}getAllPanConditions(){return this.subscriptions.map(each=>each.getPanConditions())}setCursorClass(className){null!=this.eventCaptureNode&&this.eventCaptureNode.setCursorClass(className)}amIOnTop(id){const dragableComponents=this.subscriptions.filter(each=>each.getPanConditions().draggable);return dragableComponents.length>0&&Object(utils.last)(dragableComponents).id===id}handleContextMenu(mouseXY,e){const{xAccessor:xAccessor,chartConfig:chartConfig,plotData:plotData,xScale:xScale}=this.state,currentCharts=getCurrentCharts(chartConfig,mouseXY),currentItem=getCurrentItem(xScale,xAccessor,mouseXY,plotData);this.triggerEvent("contextmenu",{mouseXY:mouseXY,currentItem:currentItem,currentCharts:currentCharts},e)}calculateStateForDomain(newDomain){const{xAccessor:xAccessor,displayXAccessor:displayXAccessor,xScale:initialXScale,chartConfig:initialChartConfig,plotData:initialPlotData}=this.state,{filterData:filterData}=this.state,{fullData:fullData}=this,{postCalculator:postCalculator}=this.props,{plotData:beforePlotData,domain:domain}=filterData(fullData,newDomain,xAccessor,initialXScale,{currentPlotData:initialPlotData,currentDomain:initialXScale.domain()}),plotData=postCalculator(beforePlotData),updatedScale=initialXScale.copy().domain(domain),chartConfig=getChartConfigWithUpdatedYScales(initialChartConfig,{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},updatedScale.domain());return{xScale:updatedScale,plotData:plotData,chartConfig:chartConfig}}pinchZoomHelper(initialPinch,finalPinch){const{xScale:initialPinchXScale}=initialPinch,{xScale:initialXScale,chartConfig:initialChartConfig,plotData:initialPlotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor}=this.state,{filterData:filterData}=this.state,{fullData:fullData}=this,{postCalculator:postCalculator}=this.props,{topLeft:iTL,bottomRight:iBR}=pinchCoordinates(initialPinch),{topLeft:fTL,bottomRight:fBR}=pinchCoordinates(finalPinch),e=initialPinchXScale.range()[1],xDash=Math.round(-(iBR[0]*fTL[0]-iTL[0]*fBR[0])/(iTL[0]-iBR[0])),yDash=Math.round(e+((e-iBR[0])*(e-fTL[0])-(e-iTL[0])*(e-fBR[0]))/(e-iTL[0]-(e-iBR[0]))),newDomain=[Math.round(-xDash*iTL[0]/(-xDash+fTL[0])),Math.round(e-(yDash-e)*(e-iTL[0])/(yDash+(e-fTL[0])))].map(initialPinchXScale.invert),{plotData:beforePlotData,domain:domain}=filterData(fullData,newDomain,xAccessor,initialPinchXScale,{currentPlotData:initialPlotData,currentDomain:initialXScale.domain()}),plotData=postCalculator(beforePlotData),updatedScale=initialXScale.copy().domain(domain),mouseXY=finalPinch.touch1Pos;return{chartConfig:getChartConfigWithUpdatedYScales(initialChartConfig,{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},updatedScale.domain()),xScale:updatedScale,plotData:plotData,mouseXY:mouseXY,currentItem:getCurrentItem(updatedScale,xAccessor,mouseXY,plotData)}}cancelDrag(){this.eventCaptureNode.cancelDrag(),this.triggerEvent("dragcancel")}handlePinchZoom(initialPinch,finalPinch,e){if(!this.waitingForPinchZoomAnimationFrame){this.waitingForPinchZoomAnimationFrame=!0;const state=this.pinchZoomHelper(initialPinch,finalPinch);this.triggerEvent("pinchzoom",state,e),this.finalPinch=finalPinch,requestAnimationFrame(()=>{this.clearBothCanvas(),this.draw({trigger:"pinchzoom"}),this.waitingForPinchZoomAnimationFrame=!1})}}handlePinchZoomEnd(initialPinch,e){const{xAccessor:xAccessor}=this.state;if(this.finalPinch){const state=this.pinchZoomHelper(initialPinch,this.finalPinch),{xScale:xScale}=state;this.triggerEvent("pinchzoom",state,e),this.finalPinch=void 0,this.clearThreeCanvas();const{fullData:fullData}=this,firstItem=Object(utils.head)(fullData),start=Object(utils.head)(xScale.domain()),end=xAccessor(firstItem),{onLoadMore:onLoadMore}=this.props;this.setState(state,()=>{start<end&&onLoadMore(start,end)})}}handleZoom(zoomDirection,mouseXY,e){if(this.panInProgress)return;const{xAccessor:xAccessor,xScale:initialXScale,plotData:initialPlotData}=this.state,{zoomMultiplier:zoomMultiplier=ChartCanvas_ChartCanvas.defaultProps.zoomMultiplier,zoomAnchor:zoomAnchor}=this.props,{fullData:fullData}=this,cx=initialXScale(zoomAnchor({xScale:initialXScale,xAccessor:xAccessor,mouseXY:mouseXY,plotData:initialPlotData,fullData:fullData})),c=zoomDirection>0?1*zoomMultiplier:1/zoomMultiplier,newDomain=initialXScale.range().map(x=>cx+(x-cx)*c).map(initialXScale.invert),{xScale:xScale,plotData:plotData,chartConfig:chartConfig}=this.calculateStateForDomain(newDomain),currentItem=getCurrentItem(xScale,xAccessor,mouseXY,plotData),currentCharts=getCurrentCharts(chartConfig,mouseXY);this.clearThreeCanvas();const firstItem=Object(utils.head)(fullData),start=Object(utils.head)(xScale.domain()),end=xAccessor(firstItem),{onLoadMore:onLoadMore}=this.props;this.mutableState={mouseXY:mouseXY,currentItem:currentItem,currentCharts:currentCharts},this.triggerEvent("zoom",{xScale:xScale,plotData:plotData,chartConfig:chartConfig,mouseXY:mouseXY,currentCharts:currentCharts,currentItem:currentItem,show:!0},e),this.setState({xScale:xScale,plotData:plotData,chartConfig:chartConfig},()=>{start<end&&onLoadMore(start,end)})}xAxisZoom(newDomain){const{xScale:xScale,plotData:plotData,chartConfig:chartConfig}=this.calculateStateForDomain(newDomain);this.clearThreeCanvas();const{xAccessor:xAccessor}=this.state,{fullData:fullData}=this,firstItem=Object(utils.head)(fullData),start=Object(utils.head)(xScale.domain()),end=xAccessor(firstItem),{onLoadMore:onLoadMore}=this.props;this.setState({xScale:xScale,plotData:plotData,chartConfig:chartConfig},()=>{start<end&&onLoadMore(start,end)})}yAxisZoom(chartId,newDomain){this.clearThreeCanvas();const{chartConfig:initialChartConfig}=this.state,chartConfig=initialChartConfig.map(each=>{if(each.id===chartId){const{yScale:yScale}=each;return Object.assign(Object.assign({},each),{yScale:yScale.copy().domain(newDomain),yPanEnabled:!0})}return each});this.setState({chartConfig:chartConfig})}triggerEvent(type,props,e){this.subscriptions.forEach(each=>{const state=Object.assign(Object.assign({},this.state),{fullData:this.fullData,subscriptions:this.subscriptions});each.listener(type,props,state,e)})}draw(props){this.subscriptions.forEach(each=>{Object(utils.isDefined)(each.draw)&&each.draw(props)})}redraw(){this.clearThreeCanvas(),this.draw({force:!0})}panHelper(mouseXY,initialXScale,{dx:dx,dy:dy},chartsToPan){const{xAccessor:xAccessor,displayXAccessor:displayXAccessor,chartConfig:initialChartConfig}=this.state,{filterData:filterData}=this.state,{fullData:fullData}=this,{postCalculator:postCalculator}=this.props;if(Object(utils.isNotDefined)(initialXScale.invert))throw new Error("xScale provided does not have an invert() method.You are likely using an ordinal scale. This scale does not support zoom, pan");const newDomain=initialXScale.range().map(x=>x-dx).map(initialXScale.invert),{plotData:beforePlotData,domain:domain}=filterData(fullData,newDomain,xAccessor,initialXScale,{currentPlotData:this.hackyWayToStopPanBeyondBounds__plotData,currentDomain:this.hackyWayToStopPanBeyondBounds__domain}),updatedScale=initialXScale.copy().domain(domain),plotData=postCalculator(beforePlotData),currentItem=getCurrentItem(updatedScale,xAccessor,mouseXY,plotData),chartConfig=getChartConfigWithUpdatedYScales(initialChartConfig,{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},updatedScale.domain(),dy,chartsToPan);return{xScale:updatedScale,plotData:plotData,chartConfig:chartConfig,mouseXY:mouseXY,currentCharts:getCurrentCharts(chartConfig,mouseXY),currentItem:currentItem}}handlePan(mousePosition,panStartXScale,dxdy,chartsToPan,e){if(!this.waitingForPanAnimationFrame){this.waitingForPanAnimationFrame=!0,this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData||this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain||this.state.xScale.domain();const state=this.panHelper(mousePosition,panStartXScale,dxdy,chartsToPan);this.hackyWayToStopPanBeyondBounds__plotData=state.plotData,this.hackyWayToStopPanBeyondBounds__domain=state.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",state,e),this.mutableState={mouseXY:state.mouseXY,currentItem:state.currentItem,currentCharts:state.currentCharts},requestAnimationFrame(()=>{this.waitingForPanAnimationFrame=!1,this.clearBothCanvas(),this.draw({trigger:"pan"})})}}handlePanEnd(mousePosition,panStartXScale,dxdy,chartsToPan,e){const state=this.panHelper(mousePosition,panStartXScale,dxdy,chartsToPan);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;const{xScale:xScale,plotData:plotData,chartConfig:chartConfig}=state;this.triggerEvent("panend",state,e),requestAnimationFrame(()=>{const{xAccessor:xAccessor}=this.state,{fullData:fullData}=this,firstItem=Object(utils.head)(fullData),start=Object(utils.head)(xScale.domain()),end=xAccessor(firstItem),{onLoadMore:onLoadMore}=this.props;this.clearThreeCanvas(),this.setState({xScale:xScale,plotData:plotData,chartConfig:chartConfig},()=>{start<end&&onLoadMore(start,end)})})}handleMouseDown(mousePosition,currentCharts,e){this.triggerEvent("mousedown",this.mutableState,e)}handleMouseEnter(e){this.triggerEvent("mouseenter",{show:!0},e)}handleMouseMove(mouseXY,inputType,e){if(!this.waitingForMouseMoveAnimationFrame){this.waitingForMouseMoveAnimationFrame=!0;const{chartConfig:chartConfig,plotData:plotData,xScale:xScale,xAccessor:xAccessor}=this.state,currentCharts=getCurrentCharts(chartConfig,mouseXY),currentItem=getCurrentItem(xScale,xAccessor,mouseXY,plotData);this.triggerEvent("mousemove",{show:!0,mouseXY:mouseXY,prevMouseXY:this.prevMouseXY,currentItem:currentItem,currentCharts:currentCharts},e),this.prevMouseXY=mouseXY,this.mutableState={mouseXY:mouseXY,currentItem:currentItem,currentCharts:currentCharts},requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"mousemove"}),this.waitingForMouseMoveAnimationFrame=!1})}}handleMouseLeave(e){this.triggerEvent("mouseleave",{show:!1},e),this.clearMouseCanvas(),this.draw({trigger:"mouseleave"})}handleDragStart({startPos:startPos},e){this.triggerEvent("dragstart",{startPos:startPos},e)}handleDrag({startPos:startPos,mouseXY:mouseXY},e){const{chartConfig:chartConfig,plotData:plotData,xScale:xScale,xAccessor:xAccessor}=this.state,currentCharts=getCurrentCharts(chartConfig,mouseXY),currentItem=getCurrentItem(xScale,xAccessor,mouseXY,plotData);this.triggerEvent("drag",{startPos:startPos,mouseXY:mouseXY,currentItem:currentItem,currentCharts:currentCharts},e),this.mutableState={mouseXY:mouseXY,currentItem:currentItem,currentCharts:currentCharts},requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"drag"})})}handleDragEnd({mouseXY:mouseXY},e){this.triggerEvent("dragend",{mouseXY:mouseXY},e),requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"dragend"})})}handleClick(mousePosition,e){this.triggerEvent("click",this.mutableState,e),requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"click"})})}handleDoubleClick(mousePosition,e){this.triggerEvent("dblclick",{},e)}getChildContext(){const dimensions=ChartCanvas_getDimensions(this.props);return{fullData:this.fullData,plotData:this.state.plotData,width:dimensions.width,height:dimensions.height,chartConfig:this.state.chartConfig,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,chartCanvasType:this.props.type,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass}}UNSAFE_componentWillReceiveProps(nextProps){const reset=function shouldResetChart(thisProps,nextProps){return!CANDIDATES_FOR_RESET.every(key=>{return Object(shallowEqual.a)(thisProps[key],nextProps[key])})}(this.props,nextProps),interaction=isInteractionEnabled(this.state.xScale,this.state.xAccessor,this.state.plotData),{chartConfig:initialChartConfig}=this.state;let newState;if(interaction&&!reset&&Object(shallowEqual.a)(this.props.xExtents,nextProps.xExtents)){const[start,end]=this.state.xScale.domain(),prevLastItem=Object(utils.last)(this.fullData),calculatedState=calculateFullData(nextProps),{xAccessor:xAccessor}=calculatedState,lastItemWasVisible=xAccessor(prevLastItem)<=end&&xAccessor(prevLastItem)>=start;newState=function updateChart(newState,initialXScale,props,lastItemWasVisible,initialChartConfig){const{fullData:fullData,xScale:xScale,xAccessor:xAccessor,displayXAccessor:displayXAccessor,filterData:filterData}=newState,lastItem=Object(utils.last)(fullData),[start,end]=initialXScale.domain(),{postCalculator:postCalculator,children:children,padding:padding,flipXScale:flipXScale}=props,{maintainPointsPerPixelOnResize:maintainPointsPerPixelOnResize}=props,direction=getXScaleDirection(flipXScale),dimensions=ChartCanvas_getDimensions(props),updatedXScale=setXRange(xScale,dimensions,padding,direction);let initialPlotData;if(!lastItemWasVisible||end>=xAccessor(lastItem)){const[rangeStart,rangeEnd]=initialXScale.range(),[newRangeStart,newRangeEnd]=updatedXScale.range(),newDomainExtent=(newRangeEnd-newRangeStart)/(rangeEnd-rangeStart)*(end-start),newStart=maintainPointsPerPixelOnResize?end-newDomainExtent:start,lastItemX=initialXScale(xAccessor(lastItem)),response=filterData(fullData,[newStart,end],xAccessor,updatedXScale,{fallbackStart:start,fallbackEnd:{lastItem:lastItem,lastItemX:lastItemX}});initialPlotData=response.plotData,updatedXScale.domain(response.domain)}else if(lastItemWasVisible&&end<xAccessor(lastItem)){const dx=initialXScale(xAccessor(lastItem))-initialXScale.range()[1],[newStart,newEnd]=initialXScale.range().map(x=>x+dx).map(initialXScale.invert),response=filterData(fullData,[newStart,newEnd],xAccessor,updatedXScale);initialPlotData=response.plotData,updatedXScale.domain(response.domain)}const plotData=postCalculator(initialPlotData),chartConfig=getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions,children,initialChartConfig),{plotData:plotData,xAccessor:xAccessor,displayXAccessor:displayXAccessor,fullData:fullData},updatedXScale.domain());return{xScale:updatedXScale,xAccessor:xAccessor,chartConfig:chartConfig,plotData:plotData,fullData:fullData,filterData:filterData}}(calculatedState,this.state.xScale,nextProps,lastItemWasVisible,initialChartConfig)}else newState=resetChart(nextProps),this.mutableState={};const{fullData:fullData}=newState,state=ChartCanvas_rest(newState,["fullData"]);this.panInProgress||(this.clearThreeCanvas(),this.setState(state)),this.fullData=fullData}resetYDomain(chartId){const{chartConfig:chartConfig}=this.state;let changed=!1;const newChartConfig=chartConfig.map(each=>!Object(utils.isNotDefined)(chartId)&&each.id!==chartId||Object(shallowEqual.a)(each.yScale.domain(),each.realYDomain)?each:(changed=!0,Object.assign(Object.assign({},each),{yScale:each.yScale.domain(each.realYDomain),yPanEnabled:!1})));changed&&(this.clearThreeCanvas(),this.setState({chartConfig:newChartConfig}))}shouldComponentUpdate(){return!this.panInProgress}render(){const{type:type,height:height,width:width,margin:margin=ChartCanvas_ChartCanvas.defaultProps.margin,className:className,zIndex:zIndex=ChartCanvas_ChartCanvas.defaultProps.zIndex,defaultFocus:defaultFocus,ratio:ratio,mouseMoveEvent:mouseMoveEvent,panEvent:panEvent,zoomEvent:zoomEvent}=this.props,{useCrossHairStyleCursor:useCrossHairStyleCursor,onSelect:onSelect}=this.props,{plotData:plotData,xScale:xScale,xAccessor:xAccessor,chartConfig:chartConfig}=this.state,dimensions=ChartCanvas_getDimensions(this.props),interaction=isInteractionEnabled(xScale,xAccessor,plotData),cursorStyle=useCrossHairStyleCursor&&interaction,cursor=function getCursorStyle(){return react.createElement("style",{type:"text/css"},"\n\t.react-financial-charts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t\tcursor: grabbing;\n\t}\n\t.react-financial-charts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-financial-charts-tooltip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-financial-charts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-financial-charts-tooltip {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-financial-charts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-financial-charts-pointer-cursor {\n\t\tcursor: pointer;\n\t}\n\t.react-financial-charts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-financial-charts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}")}();return react.createElement("div",{style:{position:"relative",width:width,height:height},className:className,onClick:onSelect},react.createElement(lib_CanvasContainer,{ref:this.saveCanvasContainerNode,type:type,ratio:ratio,width:width,height:height,zIndex:zIndex}),react.createElement("svg",{className:className,width:width,height:height,style:{position:"absolute",zIndex:zIndex+5}},cursor,react.createElement("defs",null,react.createElement("clipPath",{id:"chart-area-clip"},react.createElement("rect",{x:"0",y:"0",width:dimensions.width,height:dimensions.height})),chartConfig.map((each,idx)=>react.createElement("clipPath",{key:idx,id:`chart-area-clip-${each.id}`},react.createElement("rect",{x:"0",y:"0",width:each.width,height:each.height})))),react.createElement("g",{transform:`translate(${margin.left+.5}, ${margin.top+.5})`},react.createElement(EventCapture_EventCapture,{ref:this.saveEventCaptureNode,useCrossHairStyleCursor:cursorStyle,mouseMove:mouseMoveEvent&&interaction,zoom:zoomEvent&&interaction,pan:panEvent&&interaction,width:dimensions.width,height:dimensions.height,chartConfig:chartConfig,xScale:xScale,xAccessor:xAccessor,focus:defaultFocus,disableInteraction:this.props.disableInteraction,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),react.createElement("g",{className:"react-financial-charts-avoid-interaction"},this.props.children))))}}ChartCanvas_ChartCanvas.defaultProps={margin:{top:20,right:30,bottom:30,left:80},type:"hybrid",pointsPerPxThreshold:2,minPointsPerPxThreshold:.01,className:"react-stockchart",zIndex:1,xExtents:[min.a,max.a],postCalculator:identity.a,padding:0,xAccessor:identity.a,flipXScale:!1,useCrossHairStyleCursor:!0,defaultFocus:!0,onLoadMore:noop.a,onSelect:noop.a,mouseMoveEvent:!0,panEvent:!0,zoomEvent:!0,zoomMultiplier:1.1,clamp:!1,zoomAnchor:function mouseBasedZoomAnchor({xScale:xScale,xAccessor:xAccessor,mouseXY:mouseXY,plotData:plotData,fullData:fullData}){return xAccessor(getCurrentItem(xScale,xAccessor,mouseXY,plotData))},maintainPointsPerPixelOnResize:!0,disableInteraction:!1},ChartCanvas_ChartCanvas.childContextTypes={plotData:prop_types.array,fullData:prop_types.array,chartConfig:prop_types.arrayOf(prop_types.shape({id:prop_types.oneOfType([prop_types.number,prop_types.string]).isRequired,origin:prop_types.arrayOf(prop_types.number).isRequired,padding:prop_types.oneOfType([prop_types.number,prop_types.shape({top:prop_types.number,bottom:prop_types.number})]),yExtents:prop_types.arrayOf(prop_types.func),yExtentsProvider:prop_types.func,yScale:prop_types.func.isRequired,mouseCoordinates:prop_types.shape({at:prop_types.string,format:prop_types.func}),width:prop_types.number.isRequired,height:prop_types.number.isRequired})).isRequired,xScale:prop_types.func.isRequired,xAccessor:prop_types.func.isRequired,displayXAccessor:prop_types.func.isRequired,width:prop_types.number.isRequired,height:prop_types.number.isRequired,chartCanvasType:prop_types.oneOf(["svg","hybrid"]).isRequired,margin:prop_types.object.isRequired,ratio:prop_types.number.isRequired,getCanvasContexts:prop_types.func,xAxisZoom:prop_types.func,yAxisZoom:prop_types.func,amIOnTop:prop_types.func,redraw:prop_types.func,subscribe:prop_types.func,unsubscribe:prop_types.func,setCursorClass:prop_types.func,generateSubscriptionId:prop_types.func,getMutableState:prop_types.func},ChartCanvas_ChartCanvas.ohlcv=d=>({date:d.date,open:d.open,high:d.high,low:d.low,close:d.close,volume:d.volume}),__webpack_require__.d(__webpack_exports__,"ChartCanvas",(function(){return ChartCanvas_ChartCanvas})),__webpack_require__.d(__webpack_exports__,"Chart",(function(){return Chart_Chart}))},380:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(52),__webpack_require__(46),__webpack_require__(45),__webpack_require__(53),__webpack_require__(54);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(33);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){var req=__webpack_require__(544);req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(381)(module))},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var prop_types=__webpack_require__(2),react=__webpack_require__(1),src_range=__webpack_require__(266),src=__webpack_require__(118),GenericChartComponent=__webpack_require__(3),GenericComponent=__webpack_require__(4),mean=__webpack_require__(575),d3_selection_src=__webpack_require__(5),utils=__webpack_require__(0),noop=__webpack_require__(16);class AxisZoomCapture_AxisZoomCapture extends react.Component{constructor(props){super(props),this.handleDragEnd=()=>{if(!this.dragHappened)if(this.clicked){const e=d3_selection_src.a,mouseXY=this.mouseInteraction?Object(d3_selection_src.b)(this.node):Object(d3_selection_src.d)(this.node)[0],{onDoubleClick:onDoubleClick}=this.props;onDoubleClick(mouseXY,e)}else this.clicked=!0,setTimeout(()=>{this.clicked=!1},300);Object(d3_selection_src.c)(Object(utils.d3Window)(this.node)).on(utils.MOUSEMOVE,null).on(utils.MOUSEUP,null).on(utils.TOUCHMOVE,null).on(utils.TOUCHEND,null),this.setState({startPosition:null})},this.handleDrag=()=>{const{startPosition:startPosition}=this.state,{getMouseDelta:getMouseDelta,inverted:inverted}=this.props;if(this.dragHappened=!0,Object(utils.isDefined)(startPosition)){const{startScale:startScale}=startPosition,{startXY:startXY}=startPosition,diff=getMouseDelta(startXY,this.mouseInteraction?Object(d3_selection_src.b)(this.node):Object(d3_selection_src.d)(this.node)[0]),center=Object(mean.a)(startScale.range());if(void 0===center)return;const tempRange=startScale.range().map(d=>inverted?d-Object(utils.sign)(d-center)*diff:d+Object(utils.sign)(d-center)*diff),newDomain=tempRange.map(startScale.invert);if(Object(utils.sign)(Object(utils.last)(startScale.range())-Object(utils.first)(startScale.range()))===Object(utils.sign)(Object(utils.last)(tempRange)-Object(utils.first)(tempRange))){const{axisZoomCallback:axisZoomCallback}=this.props;axisZoomCallback(newDomain)}}},this.handleDragStartTouch=e=>{this.mouseInteraction=!1;const{getScale:getScale,getMoreProps:getMoreProps}=this.props,startScale=getScale(getMoreProps());if(this.dragHappened=!1,1===e.touches.length&&startScale.invert){Object(d3_selection_src.c)(Object(utils.d3Window)(this.node)).on(utils.TOUCHMOVE,this.handleDrag).on(utils.TOUCHEND,this.handleDragEnd);const startXY=Object(utils.touchPosition)(Object(utils.getTouchProps)(e.touches[0]),e);this.setState({startPosition:{startXY:startXY,startScale:startScale}})}},this.handleDragStartMouse=e=>{this.mouseInteraction=!0;const{getScale:getScale,getMoreProps:getMoreProps}=this.props,startScale=getScale(getMoreProps());if(this.dragHappened=!1,startScale.invert){Object(d3_selection_src.c)(Object(utils.d3Window)(this.node)).on(utils.MOUSEMOVE,this.handleDrag,!1).on(utils.MOUSEUP,this.handleDragEnd,!1);const startXY=Object(utils.mousePosition)(e);this.setState({startPosition:{startXY:startXY,startScale:startScale}})}e.preventDefault()},this.handleRightClick=e=>{e.stopPropagation(),e.preventDefault();const{onContextMenu:onContextMenu}=this.props,mouseXY=Object(utils.mousePosition)(e,this.node.getBoundingClientRect());Object(d3_selection_src.c)(Object(utils.d3Window)(this.node)).on(utils.MOUSEMOVE,null).on(utils.MOUSEUP,null),this.setState({startPosition:null}),onContextMenu(mouseXY,e)},this.saveNode=node=>{this.node=node},this.state={startPosition:null}}render(){const{bg:bg,className:className,zoomCursorClassName:zoomCursorClassName}=this.props,cursor=Object(utils.isDefined)(this.state.startPosition)?zoomCursorClassName:"react-financial-charts-default-cursor";return react.createElement("rect",{className:`react-financial-charts-enable-interaction ${cursor} ${className}`,ref:this.saveNode,x:bg.x,y:bg.y,opacity:0,height:bg.h,width:bg.w,onContextMenu:this.handleRightClick,onMouseDown:this.handleDragStartMouse,onTouchStart:this.handleDragStartTouch})}}AxisZoomCapture_AxisZoomCapture.defaultProps={onDoubleClick:noop.a,onContextMenu:noop.a,inverted:!0};var identity=__webpack_require__(22),zipper=__webpack_require__(115),colors=__webpack_require__(260),strokeDasharray=__webpack_require__(258);class Axis_Axis extends react.Component{constructor(){super(...arguments),this.saveNode=node=>{this.node=node},this.getMoreProps=()=>this.node.getMoreProps(),this.renderSVG=moreProps=>{const{className:className}=this.props,{showDomain:showDomain,showTicks:showTicks,range:range,getScale:getScale}=this.props,ticks=showTicks?function axisTicksSVG(props,scale){const result=tickHelper(props,scale),{tickLabelFill:tickLabelFill,tickStroke:tickStroke,tickStrokeOpacity:tickStrokeOpacity,tickStrokeWidth:tickStrokeWidth,tickStrokeDasharray:tickStrokeDasharray,textAnchor:textAnchor}=result,{fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight,ticks:ticks,format:format}=result,{dy:dy}=result;return react.createElement("g",null,ticks.map((tick,idx)=>react.createElement(Tick,{key:idx,tickStroke:tickStroke,tickLabelFill:tickLabelFill,tickStrokeWidth:tickStrokeWidth,tickStrokeOpacity:tickStrokeOpacity,tickStrokeDasharray:tickStrokeDasharray,dy:dy,x1:tick.x1,y1:tick.y1,x2:tick.x2,y2:tick.y2,labelX:tick.labelX,labelY:tick.labelY,textAnchor:textAnchor,fontSize:fontSize,fontWeight:fontWeight,fontFamily:fontFamily},format(tick.value))))}(this.props,getScale(moreProps)):null,domain=showDomain?function axisLineSVG(props,range){const{orient:orient,outerTickSize:outerTickSize}=props,{domainClassName:domainClassName,fill:fill,stroke:stroke,strokeWidth:strokeWidth,opacity:opacity}=props,sign="top"===orient||"left"===orient?-1:1;let d;d="bottom"===orient||"top"===orient?"M"+range[0]+","+sign*outerTickSize+"V0H"+range[1]+"V"+sign*outerTickSize:"M"+sign*outerTickSize+","+range[0]+"H0V"+range[1]+"H"+sign*outerTickSize;return react.createElement("path",{className:domainClassName,d:d,fill:fill,opacity:opacity,stroke:stroke,strokeWidth:strokeWidth})}(this.props,range):null;return react.createElement("g",{className:className},ticks,domain)},this.drawOnCanvas=(ctx,moreProps)=>{const{showDomain:showDomain,showTicks:showTicks,transform:transform,range:range,getScale:getScale}=this.props;if(ctx.save(),ctx.translate(transform[0],transform[1]),showDomain&&function drawAxisLine(ctx,props,range){const{orient:orient,outerTickSize:outerTickSize,stroke:stroke,strokeWidth:strokeWidth,opacity:opacity}=props,sign="top"===orient||"left"===orient?-1:1,xAxis="bottom"===orient||"top"===orient;ctx.lineWidth=strokeWidth,ctx.strokeStyle=Object(colors.a)(stroke,opacity),ctx.beginPath(),xAxis?(ctx.moveTo(Object(utils.first)(range),sign*outerTickSize),ctx.lineTo(Object(utils.first)(range),0),ctx.lineTo(Object(utils.last)(range),0),ctx.lineTo(Object(utils.last)(range),sign*outerTickSize)):(ctx.moveTo(sign*outerTickSize,Object(utils.first)(range)),ctx.lineTo(0,Object(utils.first)(range)),ctx.lineTo(0,Object(utils.last)(range)),ctx.lineTo(sign*outerTickSize,Object(utils.last)(range)));ctx.stroke()}(ctx,this.props,range),showTicks){!function drawTicks(ctx,result){const{tickStroke:tickStroke,tickStrokeOpacity:tickStrokeOpacity,tickLabelFill:tickLabelFill}=result,{textAnchor:textAnchor,fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight,ticks:ticks,showTickLabel:showTickLabel}=result;ctx.strokeStyle=Object(colors.a)(tickStroke,tickStrokeOpacity),ctx.fillStyle=tickStroke,ticks.forEach(tick=>{!function drawEachTick(ctx,tick,result){const{tickStrokeWidth:tickStrokeWidth,tickStrokeDasharray:tickStrokeDasharray}=result;ctx.beginPath(),ctx.moveTo(tick.x1,tick.y1),ctx.lineTo(tick.x2,tick.y2),ctx.lineWidth=tickStrokeWidth,ctx.setLineDash(Object(strokeDasharray.a)(tickStrokeDasharray).split(",")),ctx.stroke()}(ctx,tick,result)}),ctx.font=`${fontWeight} ${fontSize}px ${fontFamily}`,ctx.fillStyle=tickLabelFill,ctx.textAlign="middle"===textAnchor?"center":textAnchor,showTickLabel&&ticks.forEach(tick=>{!function drawEachTickLabel(ctx,tick,result){const{canvas_dy:canvas_dy,format:format}=result;ctx.beginPath(),ctx.fillText(format(tick.value),tick.labelX,tick.labelY+canvas_dy)}(ctx,tick,result)})}(ctx,tickHelper(this.props,getScale(moreProps)))}ctx.restore()}}render(){const{bg:bg,axisZoomCallback:axisZoomCallback,className:className,zoomCursorClassName:zoomCursorClassName,zoomEnabled:zoomEnabled,getScale:getScale,inverted:inverted}=this.props,{transform:transform,getMouseDelta:getMouseDelta,edgeClip:edgeClip}=this.props,{onContextMenu:onContextMenu,onDoubleClick:onDoubleClick}=this.props,zoomCapture=zoomEnabled?react.createElement(AxisZoomCapture_AxisZoomCapture,{bg:bg,getScale:getScale,getMoreProps:this.getMoreProps,getMouseDelta:getMouseDelta,axisZoomCallback:axisZoomCallback,className:className,zoomCursorClassName:zoomCursorClassName,inverted:inverted,onContextMenu:onContextMenu,onDoubleClick:onDoubleClick}):null;return react.createElement("g",{transform:`translate(${transform[0]}, ${transform[1]})`},zoomCapture,react.createElement(GenericChartComponent.a,{ref:this.saveNode,canvasToDraw:GenericComponent.b,clip:!1,edgeClip:edgeClip,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["pan"]}))}}function tickHelper(props,scale){const{orient:orient,innerTickSize:innerTickSize,tickFormat:tickFormat,tickPadding:tickPadding,tickLabelFill:tickLabelFill,tickStrokeWidth:tickStrokeWidth,tickStrokeDasharray:tickStrokeDasharray,fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight,showTicks:showTicks,flexTicks:flexTicks,showTickLabel:showTickLabel}=props,{ticks:tickArguments,tickValues:tickValuesProp,tickStroke:tickStroke,tickStrokeOpacity:tickStrokeOpacity,tickInterval:tickInterval,tickIntervalFunction:tickIntervalFunction}=props;let tickValues;if(Object(utils.isDefined)(tickValuesProp))tickValues="function"==typeof tickValuesProp?tickValuesProp(scale.domain()):tickValuesProp;else if(Object(utils.isDefined)(tickInterval)){const[min,max]=scale.domain(),baseTickValues=Object(src_range.a)(min,max,(max-min)/tickInterval);tickValues=tickIntervalFunction?tickIntervalFunction(min,max,tickInterval):baseTickValues}else tickValues=Object(utils.isDefined)(scale.ticks)?scale.ticks(tickArguments,flexTicks):scale.domain();const baseFormat=scale.tickFormat?scale.tickFormat(tickArguments):identity.a,format=Object(utils.isNotDefined)(tickFormat)?baseFormat:d=>tickFormat(d)||"",sign="top"===orient||"left"===orient?-1:1,tickSpacing=Math.max(innerTickSize,0)+tickPadding;let ticks,dy,canvas_dy,textAnchor;if("bottom"===orient||"top"===orient){if(dy=sign<0?"0em":".71em",canvas_dy=sign<0?0:.71*fontSize,textAnchor="middle",ticks=tickValues.map(d=>{const x=Math.round(scale(d));return{value:d,x1:x,y1:0,x2:x,y2:sign*innerTickSize,labelX:x,labelY:sign*tickSpacing}}),showTicks&&flexTicks){const nodes=ticks.map(d=>({id:d.value,value:d.value,fy:d.y2,origX:d.x1})),simulation=Object(src.b)(nodes).force("x",Object(src.c)(d=>d.origX).strength(1)).force("collide",Object(src.a)(22)).stop();for(let i=0;i<100;++i)simulation.tick();ticks=Object(zipper.a)().combine((a,b)=>Math.abs(b.x-b.origX)>.01?Object.assign(Object.assign({},a),{x2:b.x,labelX:b.x}):a)(ticks,nodes)}}else ticks=tickValues.map(d=>{const y=Math.round(scale(d));return{value:d,x1:0,y1:y,x2:sign*innerTickSize,y2:y,labelX:sign*tickSpacing,labelY:y}}),dy=".32em",canvas_dy=.32*fontSize,textAnchor=sign<0?"end":"start";return{ticks:ticks,scale:scale,tickStroke:tickStroke,tickLabelFill:tickLabelFill||tickStroke,tickStrokeOpacity:tickStrokeOpacity,tickStrokeWidth:tickStrokeWidth,tickStrokeDasharray:tickStrokeDasharray,dy:dy,canvas_dy:canvas_dy,textAnchor:textAnchor,fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight,format:format,showTickLabel:showTickLabel}}function Tick(props){const{tickLabelFill:tickLabelFill,tickStroke:tickStroke,tickStrokeOpacity:tickStrokeOpacity,tickStrokeDasharray:tickStrokeDasharray,tickStrokeWidth:tickStrokeWidth,textAnchor:textAnchor,fontSize:fontSize,fontFamily:fontFamily,fontWeight:fontWeight}=props,{x1:x1,y1:y1,x2:x2,y2:y2,labelX:labelX,labelY:labelY,dy:dy}=props;return react.createElement("g",{className:"tick"},react.createElement("line",{shapeRendering:"crispEdges",opacity:tickStrokeOpacity,stroke:tickStroke,strokeWidth:tickStrokeWidth,strokeDasharray:Object(strokeDasharray.a)(tickStrokeDasharray),x1:x1,y1:y1,x2:x2,y2:y2}),react.createElement("text",{dy:dy,x:labelX,y:labelY,fill:tickLabelFill,fontSize:fontSize,fontWeight:fontWeight,fontFamily:fontFamily,textAnchor:textAnchor},props.children))}Axis_Axis.defaultProps={zoomEnabled:!1,zoomCursorClassName:"",edgeClip:!1};var axes_Axis=Axis_Axis,__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class XAxis_XAxis extends react.Component{constructor(){super(...arguments),this.axisZoomCallback=newXDomain=>{const{xAxisZoom:xAxisZoom}=this.context;xAxisZoom(newXDomain)}}render(){const _a=this.props,{getMouseDelta:getMouseDelta=XAxis_XAxis.defaultProps.getMouseDelta,zoomEnabled:zoomEnabled}=_a,rest=__rest(_a,["getMouseDelta","zoomEnabled"]),moreProps=__rest(function helper(props,context){const{axisAt:axisAt,xZoomHeight:xZoomHeight=XAxis_XAxis.defaultProps.xZoomHeight,orient:orient}=props,{chartConfig:{width:width,height:height}}=context;let axisLocation;axisLocation="top"===axisAt?0:"bottom"===axisAt?height:"middle"===axisAt?height/2:axisAt;return{transform:[0,axisLocation],range:[0,width],getScale:getXScale,bg:{x:0,y:"top"===orient?-xZoomHeight:0,h:xZoomHeight,w:width}}}(this.props,this.context),[]);return react.createElement(axes_Axis,Object.assign({},rest,moreProps,{getMouseDelta:getMouseDelta,zoomEnabled:this.props.zoomEnabled&&zoomEnabled,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-financial-charts-ew-resize-cursor"}))}}function getXScale(moreProps){const{xScale:scale,width:width}=moreProps;if(scale.invert){const trueRange=[0,width],trueDomain=trueRange.map(scale.invert);return scale.copy().domain(trueDomain).range(trueRange)}return scale}XAxis_XAxis.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-financial-charts-x-axis",ticks:10,outerTickSize:0,fill:"none",stroke:"#000000",strokeWidth:1,opacity:1,domainClassName:"react-financial-charts-axis-domain",innerTickSize:5,tickPadding:6,tickLabelFill:"#000000",tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,xZoomHeight:25,zoomEnabled:!0,getMouseDelta:(startXY,mouseXY)=>startXY[0]-mouseXY[0]},XAxis_XAxis.contextTypes={chartConfig:prop_types.object.isRequired,xAxisZoom:prop_types.func.isRequired};var YAxis_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class YAxis_YAxis extends react.Component{constructor(){super(...arguments),this.axisZoomCallback=newYDomain=>{const{chartId:chartId,yAxisZoom:yAxisZoom}=this.context;yAxisZoom(chartId,newYDomain)}}render(){const _a=this.props,{getMouseDelta:getMouseDelta=YAxis_YAxis.defaultProps.getMouseDelta}=_a,rest=YAxis_rest(_a,["getMouseDelta"]),_b=function YAxis_helper(props,context){const{axisAt:axisAt,yZoomWidth:yZoomWidth=YAxis_YAxis.defaultProps.yZoomWidth,orient:orient}=props,{chartConfig:{width:width,height:height}}=context;let axisLocation;axisLocation="left"===axisAt?0:"right"===axisAt?width:"middle"===axisAt?width/2:axisAt;return{transform:[axisLocation,0],range:[0,height],getScale:getYScale,bg:{x:"left"===orient?-yZoomWidth:0,y:0,h:height,w:yZoomWidth},zoomEnabled:context.chartConfig.yPan}}(this.props,this.context),{zoomEnabled:zoomEnabled}=_b,moreProps=YAxis_rest(_b,["zoomEnabled"]);return react.createElement(axes_Axis,Object.assign({},rest,moreProps,{getMouseDelta:getMouseDelta,zoomEnabled:this.props.zoomEnabled&&zoomEnabled,edgeClip:!0,axisZoomCallback:this.axisZoomCallback,zoomCursorClassName:"react-financial-charts-ns-resize-cursor"}))}}function getYScale(moreProps){const{yScale:scale,flipYScale:flipYScale,height:height}=moreProps.chartConfig;if(scale.invert){const trueRange=flipYScale?[0,height]:[height,0],trueDomain=trueRange.map(scale.invert);return scale.copy().domain(trueDomain).range(trueRange)}return scale}YAxis_YAxis.defaultProps={showTicks:!0,showTickLabel:!0,showDomain:!0,className:"react-financial-charts-y-axis",ticks:10,outerTickSize:0,domainClassName:"react-financial-charts-axis-domain",fill:"none",stroke:"#000000",strokeWidth:1,opacity:1,innerTickSize:5,tickPadding:6,tickLabelFill:"#000000",tickStroke:"#000000",tickStrokeOpacity:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12,fontWeight:400,yZoomWidth:40,zoomEnabled:!0,getMouseDelta:(startXY,mouseXY)=>startXY[1]-mouseXY[1]},YAxis_YAxis.contextTypes={yAxisZoom:prop_types.func.isRequired,chartId:prop_types.oneOfType([prop_types.number,prop_types.string]).isRequired,chartConfig:prop_types.object.isRequired},__webpack_require__.d(__webpack_exports__,"XAxis",(function(){return XAxis_XAxis})),__webpack_require__.d(__webpack_exports__,"YAxis",(function(){return YAxis_YAxis}))},4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getAxisCanvas})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getMouseCanvas}));var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16);const aliases={mouseleave:"mousemove",panend:"pan",pinchzoom:"pan",mousedown:"mousemove",click:"mousemove",contextmenu:"mousemove",dblclick:"mousemove",dragstart:"drag",dragend:"drag",dragcancel:"drag"};class GenericComponent extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(props,context){super(props,context),this.drawOnCanvas=this.drawOnCanvas.bind(this),this.getMoreProps=this.getMoreProps.bind(this),this.listener=this.listener.bind(this),this.draw=this.draw.bind(this),this.updateMoreProps=this.updateMoreProps.bind(this),this.evaluateType=this.evaluateType.bind(this),this.isHover=this.isHover.bind(this),this.preCanvasDraw=this.preCanvasDraw.bind(this),this.postCanvasDraw=this.postCanvasDraw.bind(this),this.getPanConditions=this.getPanConditions.bind(this),this.shouldTypeProceed=this.shouldTypeProceed.bind(this),this.preEvaluate=this.preEvaluate.bind(this);const{generateSubscriptionId:generateSubscriptionId}=context;this.suscriberId=generateSubscriptionId(),this.moreProps={},this.state={updateCount:0}}updateMoreProps(moreProps){Object.keys(moreProps).forEach(key=>{this.moreProps[key]=moreProps[key]})}shouldTypeProceed(type,moreProps){return!0}preEvaluate(){}listener(type,moreProps,state,e){Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(moreProps)&&this.updateMoreProps(moreProps),this.evaluationInProgress=!0,this.evaluateType(type,e),this.evaluationInProgress=!1}evaluateType(type,e){const newType=aliases[type]||type;if(this.props.drawOn.indexOf(newType)>-1&&(this.preEvaluate(type,this.moreProps,e),this.shouldTypeProceed(type,this.moreProps)))switch(type){case"zoom":case"mouseenter":break;case"mouseleave":{this.moreProps.hovering=!1;const moreProps=this.getMoreProps();this.props.onUnHover&&this.props.onUnHover(moreProps,e);break}case"contextmenu":this.props.onContextMenu&&this.props.onContextMenu(this.getMoreProps(),e),this.moreProps.hovering&&this.props.onContextMenuWhenHover&&this.props.onContextMenuWhenHover(this.getMoreProps(),e);break;case"mousedown":this.props.onMouseDown&&this.props.onMouseDown(this.getMoreProps(),e);break;case"click":{const moreProps=this.getMoreProps();this.moreProps.hovering?this.props.onClickWhenHover(moreProps,e):this.props.onClickOutside(moreProps,e),this.props.onClick&&this.props.onClick(moreProps,e);break}case"mousemove":{const prevHover=this.moreProps.hovering;this.moreProps.hovering=this.isHover(e);const{amIOnTop:amIOnTop,setCursorClass:setCursorClass}=this.context;this.moreProps.hovering&&!this.props.selected&&amIOnTop(this.suscriberId)&&Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(this.props.onHover)?(setCursorClass("react-financial-charts-pointer-cursor"),this.iSetTheCursorClass=!0):this.moreProps.hovering&&this.props.selected&&amIOnTop(this.suscriberId)?(setCursorClass(this.props.interactiveCursorClass),this.iSetTheCursorClass=!0):prevHover&&!this.moreProps.hovering&&this.iSetTheCursorClass&&(this.iSetTheCursorClass=!1,setCursorClass(null));const moreProps=this.getMoreProps();this.moreProps.hovering&&!prevHover&&this.props.onHover&&this.props.onHover(moreProps,e),prevHover&&!this.moreProps.hovering&&this.props.onUnHover&&this.props.onUnHover(moreProps,e),this.props.onMouseMove&&this.props.onMouseMove(moreProps,e);break}case"dblclick":{const moreProps=this.getMoreProps();this.props.onDoubleClick&&this.props.onDoubleClick(moreProps,e),this.moreProps.hovering&&this.props.onDoubleClickWhenHover&&this.props.onDoubleClickWhenHover(moreProps,e);break}case"pan":this.moreProps.hovering=!1,this.props.onPan&&this.props.onPan(this.getMoreProps(),e);break;case"panend":this.props.onPanEnd&&this.props.onPanEnd(this.getMoreProps(),e);break;case"dragstart":if(this.getPanConditions().draggable){const{amIOnTop:amIOnTop}=this.context;amIOnTop(this.suscriberId)&&(this.dragInProgress=!0,this.props.onDragStart(this.getMoreProps(),e))}break;case"drag":this.dragInProgress&&this.props.onDrag&&this.props.onDrag(this.getMoreProps(),e);break;case"dragend":this.dragInProgress&&this.props.onDragComplete&&this.props.onDragComplete(this.getMoreProps(),e),this.dragInProgress=!1;break;case"dragcancel":if(this.dragInProgress||this.iSetTheCursorClass){const{setCursorClass:setCursorClass}=this.context;setCursorClass(null)}}}isHover(e){return!!Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(this.props.isHover)&&this.props.isHover(this.getMoreProps(),e)}getPanConditions(){return{draggable:!(!this.props.selected||!this.moreProps.hovering)||this.props.enableDragOnHover&&this.moreProps.hovering,panEnabled:!this.props.disablePan}}draw({trigger:trigger,force:force}={force:!1}){const type=aliases[trigger]||trigger;if(this.props.drawOn.indexOf(type)>-1||this.props.selected||force){const{chartCanvasType:chartCanvasType}=this.context,{canvasDraw:canvasDraw}=this.props;if(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isNotDefined)(canvasDraw)||"svg"===chartCanvasType){const{updateCount:updateCount}=this.state;this.setState({updateCount:updateCount+1})}else this.drawOnCanvas()}}UNSAFE_componentWillMount(){const{subscribe:subscribe,chartId:chartId}=this.context,{clip:clip,edgeClip:edgeClip}=this.props;subscribe(this.suscriberId,{chartId:chartId,clip:clip,edgeClip:edgeClip,listener:this.listener,draw:this.draw,getPanConditions:this.getPanConditions}),this.UNSAFE_componentWillReceiveProps(this.props,this.context)}componentWillUnmount(){const{unsubscribe:unsubscribe}=this.context;if(unsubscribe(this.suscriberId),this.iSetTheCursorClass){const{setCursorClass:setCursorClass}=this.context;setCursorClass(null)}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(prevProps){const{chartCanvasType:chartCanvasType}=this.context,{canvasDraw:canvasDraw,selected:selected,interactiveCursorClass:interactiveCursorClass}=this.props;if(prevProps.selected!==selected){const{setCursorClass:setCursorClass}=this.context;selected&&this.moreProps.hovering?(this.iSetTheCursorClass=!0,setCursorClass(interactiveCursorClass)):(this.iSetTheCursorClass=!1,setCursorClass(null))}Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(canvasDraw)&&!this.evaluationInProgress&&"svg"!==chartCanvasType&&(this.updateMoreProps(this.moreProps),this.drawOnCanvas())}UNSAFE_componentWillReceiveProps(nextProps,nextContext){const{xScale:xScale,plotData:plotData,chartConfig:chartConfig,getMutableState:getMutableState}=nextContext;this.props.debug(nextContext),this.moreProps=Object.assign(Object.assign(Object.assign({},this.moreProps),getMutableState()),{xScale:xScale,plotData:plotData,chartConfig:chartConfig})}getMoreProps(){const{xScale:xScale,plotData:plotData,chartConfig:chartConfig,morePropsDecorator:morePropsDecorator,xAccessor:xAccessor,displayXAccessor:displayXAccessor,width:width,height:height}=this.context,{chartId:chartId,fullData:fullData}=this.context,moreProps=Object.assign({xScale:xScale,plotData:plotData,chartConfig:chartConfig,xAccessor:xAccessor,displayXAccessor:displayXAccessor,width:width,height:height,chartId:chartId,fullData:fullData},this.moreProps);return(morePropsDecorator||_utils__WEBPACK_IMPORTED_MODULE_3__.a)(moreProps)}preCanvasDraw(ctx,moreProps){}postCanvasDraw(ctx,moreProps){}drawOnCanvas(){const{canvasDraw:canvasDraw,canvasToDraw:canvasToDraw}=this.props,{getCanvasContexts:getCanvasContexts}=this.context,moreProps=this.getMoreProps(),ctx=canvasToDraw(getCanvasContexts());this.preCanvasDraw(ctx,moreProps),canvasDraw(ctx,moreProps),this.postCanvasDraw(ctx,moreProps)}render(){const{chartCanvasType:chartCanvasType,chartId:chartId}=this.context,{canvasDraw:canvasDraw,clip:clip,svgDraw:svgDraw}=this.props;if(Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(canvasDraw)&&"svg"!==chartCanvasType)return null;const suffix=Object(_utils__WEBPACK_IMPORTED_MODULE_2__.isDefined)(chartId)?"-"+chartId:"",style=clip?{clipPath:`url(#chart-area-clip${suffix})`}:void 0;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",{style:style},svgDraw(this.getMoreProps()))}}function getAxisCanvas(contexts){return contexts.axes}function getMouseCanvas(contexts){return contexts.mouseCoord}GenericComponent.defaultProps={svgDraw:Object(_utils__WEBPACK_IMPORTED_MODULE_2__.functor)(null),draw:[],canvasToDraw:contexts=>contexts.mouseCoord,clip:!0,edgeClip:!1,selected:!1,disablePan:!1,enableDragOnHover:!1,onClickWhenHover:_utils__WEBPACK_IMPORTED_MODULE_4__.a,onClickOutside:_utils__WEBPACK_IMPORTED_MODULE_4__.a,onDragStart:_utils__WEBPACK_IMPORTED_MODULE_4__.a,onMouseMove:_utils__WEBPACK_IMPORTED_MODULE_4__.a,onMouseDown:_utils__WEBPACK_IMPORTED_MODULE_4__.a,debug:_utils__WEBPACK_IMPORTED_MODULE_4__.a},GenericComponent.contextTypes={width:prop_types__WEBPACK_IMPORTED_MODULE_0__.number.isRequired,height:prop_types__WEBPACK_IMPORTED_MODULE_0__.number.isRequired,margin:prop_types__WEBPACK_IMPORTED_MODULE_0__.object.isRequired,chartId:prop_types__WEBPACK_IMPORTED_MODULE_0__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0__.number,prop_types__WEBPACK_IMPORTED_MODULE_0__.string]),getCanvasContexts:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,chartCanvasType:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,xScale:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,xAccessor:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,displayXAccessor:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,plotData:prop_types__WEBPACK_IMPORTED_MODULE_0__.array.isRequired,fullData:prop_types__WEBPACK_IMPORTED_MODULE_0__.array.isRequired,chartConfig:prop_types__WEBPACK_IMPORTED_MODULE_0__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0__.array,prop_types__WEBPACK_IMPORTED_MODULE_0__.object]).isRequired,morePropsDecorator:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,generateSubscriptionId:prop_types__WEBPACK_IMPORTED_MODULE_0__.func,getMutableState:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,amIOnTop:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,subscribe:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,unsubscribe:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired,setCursorClass:prop_types__WEBPACK_IMPORTED_MODULE_0__.func.isRequired},__webpack_exports__.a=GenericComponent},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var src=__webpack_require__(62),slidingWindow=__webpack_require__(254),identity=__webpack_require__(22),utils=__webpack_require__(0),zipper=__webpack_require__(115),ascending=__webpack_require__(116),linear=__webpack_require__(580);const defaultFormatters={yearFormat:"%Y",quarterFormat:"%b %Y",monthFormat:"%b",weekFormat:"%d %b",dayFormat:"%a %d",hourFormat:"%_I %p",minuteFormat:"%I:%M %p",secondFormat:"%I:%M:%S %p",milliSecondFormat:"%L"},levelDefinition=[(d,date,i)=>d.startOfYear&&date.getFullYear()%12==0&&"yearFormat",(d,date,i)=>d.startOfYear&&date.getFullYear()%4==0&&"yearFormat",(d,date,i)=>d.startOfYear&&date.getFullYear()%2==0&&"yearFormat",(d,date,i)=>d.startOfYear&&"yearFormat",(d,date,i)=>d.startOfQuarter&&"quarterFormat",(d,date,i)=>d.startOfMonth&&"monthFormat",(d,date,i)=>d.startOfWeek&&"weekFormat",(d,date,i)=>d.startOfDay&&i%2==0&&"dayFormat",(d,date,i)=>d.startOfDay&&"dayFormat",(d,date,i)=>d.startOfHalfDay&&"hourFormat",(d,date,i)=>d.startOfQuarterDay&&"hourFormat",(d,date,i)=>d.startOfEighthOfADay&&"hourFormat",(d,date,i)=>d.startOfHour&&date.getHours()%2==0&&"hourFormat",(d,date,i)=>d.startOfHour&&"hourFormat",(d,date,i)=>d.startOf30Minutes&&"minuteFormat",(d,date,i)=>d.startOf15Minutes&&"minuteFormat",(d,date,i)=>d.startOf5Minutes&&"minuteFormat",(d,date,i)=>d.startOfMinute&&"minuteFormat",(d,date,i)=>d.startOf30Seconds&&"secondFormat",(d,date,i)=>"secondFormat"],MAX_LEVEL=levelDefinition.length-1;function financeDiscontinuousScale(index,futureProvider,backingLinearScale=Object(linear.a)()){if(Object(utils.isNotDefined)(index))throw new Error("Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale");function scale(x){return backingLinearScale(x)}return scale.invert=function(x){const inverted=backingLinearScale.invert(x);return Math.round(1e4*inverted)/1e4},scale.domain=function(x){return arguments.length?(backingLinearScale.domain(x),scale):backingLinearScale.domain()},scale.range=function(x){return arguments.length?(backingLinearScale.range(x),scale):backingLinearScale.range()},scale.rangeRound=function(x){return backingLinearScale.range(x)},scale.clamp=function(x){return arguments.length?(backingLinearScale.clamp(x),scale):backingLinearScale.clamp()},scale.interpolate=function(x){return arguments.length?(backingLinearScale.interpolate(x),scale):backingLinearScale.interpolate()},scale.ticks=function(m,flexTicks){const backingTicks=backingLinearScale.ticks(m),ticksMap=new Map,[domainStart,domainEnd]=backingLinearScale.domain(),start=Math.max(Math.ceil(domainStart),Object(utils.head)(index).index)+Math.abs(Object(utils.head)(index).index),end=Math.min(Math.floor(domainEnd),Object(utils.last)(index).index)+Math.abs(Object(utils.head)(index).index);Math.floor(domainEnd);const desiredTickCount=Math.ceil((end-start)/(domainEnd-domainStart)*backingTicks.length);for(let i=MAX_LEVEL;i>=0;i--){const ticksAtLevel=ticksMap.get(i),temp=Object(utils.isNotDefined)(ticksAtLevel)?[]:ticksAtLevel.slice();for(let j=start;j<=end;j++)index[j].level===i&&temp.push(index[j]);ticksMap.set(i,temp)}let unsortedTicks=[];for(let i=MAX_LEVEL;i>=0&&!(ticksMap.get(i).length+unsortedTicks.length>1.5*desiredTickCount);i--)unsortedTicks=unsortedTicks.concat(ticksMap.get(i).map(d=>d.index));const ticks=unsortedTicks.sort(ascending.a);if(!flexTicks&&end-start>ticks.length){const ticksSet=new Set(ticks),d=Math.abs(Object(utils.head)(index).index),distance=Math.ceil(1.5*(backingTicks.length>0?(Object(utils.last)(backingTicks)-Object(utils.head)(backingTicks))/backingTicks.length/4:1));for(let i=0;i<ticks.length-1;i++)for(let j=i+1;j<ticks.length;j++)ticks[j]-ticks[i]<=distance&&ticksSet.delete(index[ticks[i]+d].level>=index[ticks[j]+d].level?ticks[j]:ticks[i]);return[...ticksSet.values()].map(i=>parseInt(i,10))}return ticks},scale.tickFormat=function(){return function(x){const d=Math.abs(Object(utils.head)(index).index),{format:format,date:date}=index[Math.floor(x+d)];return format(date)}},scale.value=function(x){const d=Math.abs(Object(utils.head)(index).index);if(Object(utils.isDefined)(index[Math.floor(x+d)])){const{date:date}=index[Math.floor(x+d)];return date}},scale.nice=function(m){return backingLinearScale.nice(m),scale},scale.index=function(x){return arguments.length?(index=x,scale):index},scale.copy=function(){return financeDiscontinuousScale(index,futureProvider,backingLinearScale.copy())},scale}function evaluateLevel(d,date,i,formatters){return levelDefinition.map((eachLevel,idx)=>({level:levelDefinition.length-idx-1,format:formatters[eachLevel(d,date,i)]})).find(l=>!!l.format)}const discontinuousIndexCalculatorLocalTime=Object(slidingWindow.a)().windowSize(2).undefinedValue((d,idx,{initialIndex:initialIndex,formatters:formatters})=>{const i=initialIndex,row={date:d.getTime(),startOf30Seconds:!1,startOfMinute:!1,startOf5Minutes:!1,startOf15Minutes:!1,startOf30Minutes:!1,startOfHour:!1,startOfEighthOfADay:!1,startOfQuarterDay:!1,startOfHalfDay:!1,startOfDay:!0,startOfWeek:!1,startOfMonth:!1,startOfQuarter:!1,startOfYear:!1},level=evaluateLevel(row,d,i,formatters);return Object.assign(Object.assign(Object.assign({},row),{index:i}),level)}).accumulator(([prevDate,nowDate],i,idx,{initialIndex:initialIndex,formatters:formatters})=>{const startOf30Seconds=nowDate.getSeconds()%30==0,startOfMinute=nowDate.getMinutes()!==prevDate.getMinutes(),startOf5Minutes=startOfMinute&&nowDate.getMinutes()%5<=prevDate.getMinutes()%5,startOf15Minutes=startOfMinute&&nowDate.getMinutes()%15<=prevDate.getMinutes()%15,startOf30Minutes=startOfMinute&&nowDate.getMinutes()%30<=prevDate.getMinutes()%30,startOfHour=nowDate.getHours()!==prevDate.getHours(),startOfEighthOfADay=startOfHour&&nowDate.getHours()%3==0,startOfQuarterDay=startOfHour&&nowDate.getHours()%6==0,startOfHalfDay=startOfHour&&nowDate.getHours()%12==0,startOfDay=nowDate.getDay()!==prevDate.getDay(),startOfWeek=nowDate.getDay()<prevDate.getDay(),startOfMonth=nowDate.getMonth()!==prevDate.getMonth(),startOfQuarter=startOfMonth&&nowDate.getMonth()%3<=prevDate.getMonth()%3,startOfYear=nowDate.getFullYear()!==prevDate.getFullYear(),row={date:nowDate.getTime(),startOf30Seconds:startOf30Seconds,startOfMinute:startOfMinute,startOf5Minutes:startOf5Minutes,startOf15Minutes:startOf15Minutes,startOf30Minutes:startOf30Minutes,startOfHour:startOfHour,startOfEighthOfADay:startOfEighthOfADay,startOfQuarterDay:startOfQuarterDay,startOfHalfDay:startOfHalfDay,startOfDay:startOfDay,startOfWeek:startOfWeek,startOfMonth:startOfMonth,startOfQuarter:startOfQuarter,startOfYear:startOfYear},level=evaluateLevel(row,nowDate,i,formatters);return Object.assign(Object.assign(Object.assign({},row),{index:i+initialIndex}),level)});function doStuff(realDateAccessor,inputDateAccessor,initialIndex,formatters){return function(data){const dateAccessor=realDateAccessor(inputDateAccessor);return{index:discontinuousIndexCalculatorLocalTime.source(dateAccessor).misc({initialIndex:initialIndex,formatters:formatters})(data).map(each=>{const{format:format}=each;return{index:each.index,level:each.level,date:new Date(each.date),format:Object(src.timeFormat)(format)}})}}}function discontinuousTimeScaleProviderBuilder(){let withIndex,initialIndex=0,realDateAccessor=identity.a,inputDateAccessor=d=>d.date,indexAccessor=d=>d.idx,indexMutator=(d,idx)=>Object.assign(Object.assign({},d),{idx:idx}),currentFormatters=defaultFormatters;const discontinuousTimeScaleProvider=function(data){let index=withIndex;if(Object(utils.isNotDefined)(index)){index=doStuff(realDateAccessor,inputDateAccessor,initialIndex,currentFormatters)(data).index}const inputIndex=index,xScale=financeDiscontinuousScale(inputIndex);return{data:Object(zipper.a)().combine(indexMutator)(data,inputIndex),xScale:xScale,xAccessor:d=>d&&indexAccessor(d).index,displayXAccessor:realDateAccessor(inputDateAccessor)}};return discontinuousTimeScaleProvider.initialIndex=function(x){return arguments.length?(initialIndex=x,discontinuousTimeScaleProvider):initialIndex},discontinuousTimeScaleProvider.inputDateAccessor=function(x){return arguments.length?(inputDateAccessor=x,discontinuousTimeScaleProvider):inputDateAccessor},discontinuousTimeScaleProvider.indexAccessor=function(x){return arguments.length?(indexAccessor=x,discontinuousTimeScaleProvider):indexAccessor},discontinuousTimeScaleProvider.indexMutator=function(x){return arguments.length?(indexMutator=x,discontinuousTimeScaleProvider):indexMutator},discontinuousTimeScaleProvider.withIndex=function(x){return arguments.length?(withIndex=x,discontinuousTimeScaleProvider):withIndex},discontinuousTimeScaleProvider.utc=function(){return realDateAccessor=dateAccessor=>d=>{const date=dateAccessor(d),offsetInMillis=60*date.getTimezoneOffset()*1e3;return new Date(date.getTime()+offsetInMillis)},discontinuousTimeScaleProvider},discontinuousTimeScaleProvider.setLocale=function(locale,formatters=null){return locale&&Object(src.timeFormatDefaultLocale)(locale),formatters&&(currentFormatters=formatters),discontinuousTimeScaleProvider},discontinuousTimeScaleProvider.indexCalculator=function(){return doStuff(realDateAccessor,inputDateAccessor,initialIndex,currentFormatters)},discontinuousTimeScaleProvider}var scale_discontinuousTimeScaleProvider=discontinuousTimeScaleProviderBuilder();function defaultScaleProvider(xScale){return(data,xAccessor)=>({data:data,xScale:xScale,xAccessor:xAccessor,displayXAccessor:xAccessor})}__webpack_require__.d(__webpack_exports__,"defaultScaleProvider",(function(){return defaultScaleProvider})),__webpack_require__.d(__webpack_exports__,"discontinuousTimeScaleProvider",(function(){return scale_discontinuousTimeScaleProvider})),__webpack_require__.d(__webpack_exports__,"discontinuousTimeScaleProviderBuilder",(function(){return discontinuousTimeScaleProviderBuilder})),__webpack_require__.d(__webpack_exports__,"financeDiscontinuousScale",(function(){return financeDiscontinuousScale}))},544:function(module,exports,__webpack_require__){var map={"./series/area/index.stories.tsx":545,"./series/barSeries/index.stories.tsx":552,"./series/baseline/index.stories.tsx":554,"./series/candlestick/index.stories.tsx":556,"./series/heikinAshi/index.stories.tsx":559,"./series/kagi/index.stories.tsx":561,"./series/line/index.stories.tsx":563,"./series/pointAndFigure/index.stories.tsx":565,"./series/renko/index.stories.tsx":567};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=544},545:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicAreaSeries_1=__webpack_require__(546);react_1.storiesOf("AreaSeries",module).add("Basic",(function(){return React.createElement(basicAreaSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},546:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicAreaSeries=function(_super){function BasicAreaSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.areaSeriesAccessor=function(data){return data.close},_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicAreaSeries,_super),BasicAreaSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.AreaSeries,{yAccessor:this.areaSeriesAccessor}),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicAreaSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicAreaSeries)))},549:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var d3_dsv_1=__webpack_require__(571),d3_time_format_1=__webpack_require__(62),React=__webpack_require__(1),parseDate=d3_time_format_1.timeParse("%Y-%m-%d"),parseData=function(){return function(d){return d.date=parseDate(d.date),d.open=+d.open,d.high=+d.high,d.low=+d.low,d.close=+d.close,d.volume=+d.volume,d}};exports.withOHLCData=function withOHLCData(){return function(OriginalComponent){return function(_super){function WithOHLCData(props){var _this=_super.call(this,props)||this;return _this.state={message:"Loading data..."},_this}return __extends(WithOHLCData,_super),WithOHLCData.prototype.componentDidMount=function(){var _this=this;fetch("https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv").then((function(response){return response.text()})).then((function(data){return d3_dsv_1.tsvParse(data,parseData())})).then((function(data){_this.setState({data:data})})).catch((function(){_this.setState({message:"Failed to fetch data."})}))},WithOHLCData.prototype.render=function(){var _a=this.state,data=_a.data,message=_a.message;return void 0===data?React.createElement("div",{className:"center"},message):React.createElement(OriginalComponent,__assign({},this.props,{data:data}))},WithOHLCData}(React.Component)}}},550:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_virtualized_auto_sizer_1=__webpack_require__(551);exports.withSize=function withSize(){return function(OriginalComponent){return function(_super){function WithSize(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(WithSize,_super),WithSize.prototype.render=function(){var _this=this;return React.createElement(react_virtualized_auto_sizer_1.default,null,(function(_a){var height=_a.height,width=_a.width;return React.createElement(OriginalComponent,__assign({},_this.props,{height:height,width:width}))}))},WithSize}(React.Component)}}},552:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicBarSeries_1=__webpack_require__(553);react_1.storiesOf("Bar Series",module).add("Basic",(function(){return React.createElement(basicBarSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},553:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicBarSeries=function(_super){function BasicBarSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:90,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.yAccessor=function(data){return data.volume},_this.yExtents=function(data){return data.volume},_this}return __extends(BasicBarSeries,_super),BasicBarSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.yExtents},React.createElement(series_1.BarSeries,{yAccessor:this.yAccessor}),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicBarSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicBarSeries)))},554:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicBaselineSeries_1=__webpack_require__(555);react_1.storiesOf("Baseline",module).add("Basic",(function(){return React.createElement(basicBaselineSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},555:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicBaselineSeries=function(_super){function BasicBaselineSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.areaSeriesAccessor=function(data){return data.close},_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicBaselineSeries,_super),BasicBaselineSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.AlternatingFillAreaSeries,{yAccessor:this.areaSeriesAccessor,baseAt:56}),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicBaselineSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicBaselineSeries)))},556:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicCandlestick_1=__webpack_require__(557),stockChart_1=__webpack_require__(558);react_1.storiesOf("CandleStick",module).add("Basic",(function(){return React.createElement(basicCandlestick_1.default,null)})).add("Stock Chart",(function(){return React.createElement(stockChart_1.default,null)}))}).call(this,__webpack_require__(24)(module))},557:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicCandlestick=function(_super){function BasicCandlestick(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicCandlestick,_super),BasicCandlestick.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.CandlestickSeries,null),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicCandlestick}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicCandlestick)))},558:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var d3_format_1=__webpack_require__(7),d3_time_format_1=__webpack_require__(62),React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),coordinates_1=__webpack_require__(570),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),tooltip_1=__webpack_require__(569),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),StockChart=function(_super){function StockChart(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.pricesDisplayFormat=d3_format_1.format(".2f"),_this.timeDisplayFormat=d3_time_format_1.timeFormat("%d %b"),_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.barChartExtents=function(data){return data.volume},_this.candleChartExtents=function(data){return[data.high,data.low]},_this.yBarSeries=function(data){return data.volume},_this.yEdgeIndicator=function(data){return data.close},_this.openCloseColor=function(data){return data.close>data.open?"#26a69a":"#ef5350"},_this}return __extends(StockChart,_super),StockChart.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])],gridWidth=width-margin.left-margin.right,gridHeight=height-margin.top-margin.bottom,barChartHeight=gridHeight/2;return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(axes_1.XAxis,{innerTickSize:-1*gridHeight,axisAt:"bottom",orient:"bottom",tickStroke:"#e0e3eb",ticks:6}),React.createElement(axes_1.YAxis,{innerTickSize:-1*gridWidth,axisAt:"right",orient:"right",tickFormat:this.pricesDisplayFormat,tickStroke:"#e0e3eb",ticks:5}),React.createElement(tooltip_1.OHLCTooltip,{origin:[8,16]})),React.createElement(react_financial_charts_1.Chart,{id:2,height:barChartHeight,origin:function(_,h){return[0,h-gridHeight/2]},yExtents:this.barChartExtents},React.createElement(series_1.BarSeries,{fill:this.openCloseColor,yAccessor:this.yBarSeries})),React.createElement(react_financial_charts_1.Chart,{id:3,yExtents:this.candleChartExtents},React.createElement(series_1.CandlestickSeries,null),React.createElement(coordinates_1.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:this.timeDisplayFormat}),React.createElement(coordinates_1.MouseCoordinateY,{at:"right",orient:"right",displayFormat:this.pricesDisplayFormat}),React.createElement(coordinates_1.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",fill:this.openCloseColor,lineStroke:this.openCloseColor,displayFormat:this.pricesDisplayFormat,yAccessor:this.yEdgeIndicator})),React.createElement(coordinates_1.CrossHairCursor,null))},StockChart}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(StockChart)))},559:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicHeikinAshiSeries_1=__webpack_require__(560);react_1.storiesOf("Heikin Ashi",module).add("Basic",(function(){return React.createElement(basicHeikinAshiSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},560:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),indicator_1=__webpack_require__(114),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicHeikinAshiSeries=function(_super){function BasicHeikinAshiSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicHeikinAshiSeries,_super),BasicHeikinAshiSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(indicator_1.heikinAshi()(initialData)),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.CandlestickSeries,null),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicHeikinAshiSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicHeikinAshiSeries)))},561:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicKagiSeries_1=__webpack_require__(562);react_1.storiesOf("Kagi",module).add("Basic",(function(){return React.createElement(basicKagiSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},562:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),indicator_1=__webpack_require__(114),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicKagiSeries=function(_super){function BasicKagiSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicKagiSeries,_super),BasicKagiSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(indicator_1.kagi()(initialData)),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.KagiSeries,null),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicKagiSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicKagiSeries)))},563:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicLineSeries_1=__webpack_require__(564);react_1.storiesOf("Line Series",module).add("Basic",(function(){return React.createElement(basicLineSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},564:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicLineSeries=function(_super){function BasicLineSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.areaSeriesAccessor=function(data){return data.close},_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicLineSeries,_super),BasicLineSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(initialData),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.LineSeries,{yAccessor:this.areaSeriesAccessor}),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicLineSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicLineSeries)))},565:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicPointAndFigureSeries_1=__webpack_require__(566);react_1.storiesOf("Point & Figure",module).add("Basic",(function(){return React.createElement(basicPointAndFigureSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},566:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),indicator_1=__webpack_require__(114),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicPointAndFigureSeries=function(_super){function BasicPointAndFigureSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.yExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicPointAndFigureSeries,_super),BasicPointAndFigureSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(indicator_1.pointAndFigure()(initialData)),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.yExtents},React.createElement(series_1.PointAndFigureSeries,null),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicPointAndFigureSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicPointAndFigureSeries)))},567:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(33),React=__webpack_require__(1),basicRenkoSeries_1=__webpack_require__(568);react_1.storiesOf("Renko",module).add("Basic",(function(){return React.createElement(basicRenkoSeries_1.default,null)}))}).call(this,__webpack_require__(24)(module))},568:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(1),react_financial_charts_1=__webpack_require__(38),axes_1=__webpack_require__(39),indicator_1=__webpack_require__(114),scale_1=__webpack_require__(40),series_1=__webpack_require__(37),utils_1=__webpack_require__(0),data_1=__webpack_require__(36),BasicRenkoSeries=function(_super){function BasicRenkoSeries(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.margin={left:0,right:70,top:0,bottom:24},_this.xScaleProvider=scale_1.discontinuousTimeScaleProviderBuilder().inputDateAccessor((function(d){return d.date})),_this.candleChartExtents=function(data){return[data.high,data.low]},_this}return __extends(BasicRenkoSeries,_super),BasicRenkoSeries.prototype.render=function(){var _a=this.props,initialData=_a.data,height=_a.height,ratio=_a.ratio,width=_a.width,margin=this.margin,_c=(0,this.xScaleProvider)(indicator_1.renko()(initialData)),data=_c.data,xScale=_c.xScale,xAccessor=_c.xAccessor,displayXAccessor=_c.displayXAccessor,xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])];return React.createElement(react_financial_charts_1.ChartCanvas,{height:height,ratio:ratio,width:width,margin:margin,type:"hybrid",data:data,displayXAccessor:displayXAccessor,seriesName:"Data",xScale:xScale,xAccessor:xAccessor,xExtents:xExtents},React.createElement(react_financial_charts_1.Chart,{id:1,yExtents:this.candleChartExtents},React.createElement(series_1.RenkoSeries,null),React.createElement(axes_1.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),React.createElement(axes_1.YAxis,{axisAt:"right",orient:"right",ticks:5})))},BasicRenkoSeries}(React.Component);exports.default=data_1.withOHLCData()(data_1.withSize()(utils_1.withDeviceRatio()(BasicRenkoSeries)))},569:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var src=__webpack_require__(7),react=__webpack_require__(1),GenericChartComponent=__webpack_require__(3);function displayValuesFor_displayValuesFor(props,moreProps){const{currentItem:currentItem}=moreProps;return currentItem}var utils=__webpack_require__(0),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class ToolTipText_ToolTipText extends react.Component{render(){const _a=this.props,{children:children,fontFamily:fontFamily,fontSize:fontSize}=_a,rest=__rest(_a,["children","fontFamily","fontSize"]);return react.createElement("text",Object.assign({fontFamily:fontFamily,fontSize:fontSize},rest),children)}}ToolTipText_ToolTipText.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"'Helvetica Neue', Ubuntu, sans-serif",fontSize:11};var ToolTipTSpanLabel_rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class ToolTipTSpanLabel_ToolTipTSpanLabel extends react.Component{render(){const _a=this.props,{children:children}=_a,rest=ToolTipTSpanLabel_rest(_a,["children"]);return react.createElement("tspan",Object.assign({},rest),children)}}ToolTipTSpanLabel_ToolTipTSpanLabel.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"};class MACDTooltip_MACDTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,displayFormat:displayFormat,className:className}=this.props,{yAccessor:yAccessor,options:options,appearance:appearance,labelFill:labelFill}=this.props,{displayValuesFor:displayValuesFor}=this.props,{chartConfig:{width:width,height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps),macdValue=currentItem&&yAccessor(currentItem),macd=macdValue&&macdValue.macd&&displayFormat(macdValue.macd)||"n/a",signal=macdValue&&macdValue.signal&&displayFormat(macdValue.signal)||"n/a",divergence=macdValue&&macdValue.divergence&&displayFormat(macdValue.divergence)||"n/a",{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height);return react.createElement("g",{className:className,transform:`translate(${x}, ${y})`,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},"MACD ("),react.createElement("tspan",{fill:appearance.stroke.macd},options.slow),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},", "),react.createElement("tspan",{fill:appearance.stroke.macd},options.fast),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},"): "),react.createElement("tspan",{fill:appearance.stroke.macd},macd),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill}," Signal ("),react.createElement("tspan",{fill:appearance.stroke.signal},options.signal),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},"): "),react.createElement("tspan",{fill:appearance.stroke.signal},signal),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill}," Divergence: "),react.createElement("tspan",{fill:appearance.fill.divergence},divergence)))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}MACDTooltip_MACDTooltip.defaultProps={className:"react-financial-charts-tooltip",displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,0]};var d3_time_format_src=__webpack_require__(62);class OHLCTooltip_OHLCTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{displayValuesFor:displayValuesFor}=this.props,{xDisplayFormat:xDisplayFormat,accessor:accessor,volumeFormat:volumeFormat,ohlcFormat:ohlcFormat,percentFormat:percentFormat,displayTexts:displayTexts}=this.props,{chartConfig:{width:width,height:height}}=moreProps,{displayXAccessor:displayXAccessor}=moreProps,currentItem=displayValuesFor(this.props,moreProps);let displayDate,open,high,low,close,volume,percent;if(displayDate=open=high=low=close=volume=percent=displayTexts.na,Object(utils.isDefined)(currentItem)&&Object(utils.isDefined)(accessor(currentItem))){const item=accessor(currentItem);volume=Object(utils.isDefined)(item.volume)?volumeFormat(item.volume):displayTexts.na,displayDate=xDisplayFormat(displayXAccessor(item)),open=ohlcFormat(item.open),high=ohlcFormat(item.high),low=ohlcFormat(item.low),close=ohlcFormat(item.close),percent=percentFormat((item.close-item.open)/item.open)}const{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height),itemsToDisplay={displayDate:displayDate,open:open,high:high,low:low,close:close,percent:percent,volume:volume,x:x,y:y};return this.props.children(this.props,moreProps,itemsToDisplay)}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}OHLCTooltip_OHLCTooltip.defaultProps={accessor:d=>({date:d.date,open:d.open,high:d.high,low:d.low,close:d.close,volume:d.volume}),xDisplayFormat:Object(d3_time_format_src.timeFormat)("%Y-%m-%d"),volumeFormat:Object(src.format)(".4s"),percentFormat:Object(src.format)(".2%"),ohlcFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,0],children:(props,_,itemsToDisplay)=>{const{className:className,textFill:textFill,labelFill:labelFill,onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,displayTexts:displayTexts}=props,{open:open,high:high,low:low,close:close,volume:volume,x:x,y:y}=itemsToDisplay;return react.createElement("g",{className:`react-financial-charts-tooltip-hover ${className}`,transform:`translate(${x}, ${y})`,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill,key:"label_O"},displayTexts.o),react.createElement("tspan",{key:"value_O",fill:textFill},open),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill,key:"label_H"},displayTexts.h),react.createElement("tspan",{key:"value_H",fill:textFill},high),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill,key:"label_L"},displayTexts.l),react.createElement("tspan",{key:"value_L",fill:textFill},low),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill,key:"label_C"},displayTexts.c),react.createElement("tspan",{key:"value_C",fill:textFill},close),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill,key:"label_Vol"},displayTexts.v),react.createElement("tspan",{key:"value_Vol",fill:textFill},volume)))},displayTexts:{o:"O: ",h:" H: ",l:" L: ",c:" C: ",v:" Vol: ",na:"n/a"}};var noop=__webpack_require__(16),identity=__webpack_require__(22);class SingleValueTooltip_SingleValueTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,labelFill:labelFill,valueFill:valueFill,className:className}=this.props,{xDisplayFormat:xDisplayFormat,yDisplayFormat:yDisplayFormat,xLabel:xLabel,yLabel:yLabel,xAccessor:xAccessor,yAccessor:yAccessor,xInitDisplay:xInitDisplay,yInitDisplay:yInitDisplay}=this.props,{displayValuesFor:displayValuesFor}=this.props,{chartConfig:{width:width,height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps),xDisplayValue=Object(utils.isDefined)(currentItem)&&Object(utils.isDefined)(xAccessor(currentItem))?xDisplayFormat(xAccessor(currentItem)):xInitDisplay,yDisplayValue=Object(utils.isDefined)(currentItem)&&Object(utils.isDefined)(yAccessor(currentItem))?yDisplayFormat(yAccessor(currentItem)):yInitDisplay,{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height);return react.createElement("g",{className:className,transform:`translate(${x}, ${y})`,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},xLabel?react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{x:0,dy:"5",fill:labelFill},`${xLabel}: `):null,xLabel?react.createElement("tspan",{fill:valueFill},`${xDisplayValue} `):null,react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},`${yLabel}: `),react.createElement("tspan",{fill:valueFill},yDisplayValue)))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}SingleValueTooltip_SingleValueTooltip.defaultProps={origin:[0,0],labelFill:"#4682B4",valueFill:"#000000",yDisplayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,xAccessor:noop.a,yAccessor:identity.a,xInitDisplay:"n/a",yInitDisplay:"n/a",className:"react-financial-charts-tooltip"};class MovingAverageTooltip_SingleMAToolTip extends react.Component{constructor(){super(...arguments),this.onClick=event=>{const{onClick:onClick,forChart:forChart,options:options}=this.props;void 0!==onClick&&onClick(Object.assign({chartId:forChart},options),event)}}render(){const{textFill:textFill,labelFill:labelFill}=this.props,translate="translate("+this.props.origin[0]+", "+this.props.origin[1]+")";return react.createElement("g",{transform:translate},react.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:this.props.color,strokeWidth:"4px"}),react.createElement(ToolTipText_ToolTipText,{x:5,y:11,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},this.props.displayName),react.createElement("tspan",{x:"5",dy:"15",fill:textFill},this.props.value)),react.createElement("rect",{x:0,y:0,width:55,height:30,onClick:this.onClick,fill:"none",stroke:"none"}))}}class MovingAverageTooltip_MovingAverageTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{displayValuesFor:displayValuesFor}=this.props,{chartId:chartId}=moreProps,{chartConfig:chartConfig}=moreProps,{className:className,onClick:onClick,width:width=65,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,labelFill:labelFill}=this.props,{origin:originProp,displayFormat:displayFormat,options:options}=this.props,{chartConfig:{height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps),config=chartConfig,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height),[ox,oy]=config.origin;return react.createElement("g",{transform:`translate(${ox+x}, ${oy+y})`,className:className},options.map((each,idx)=>{const yValue=currentItem&&each.yAccessor(currentItem),tooltipLabel=`${each.type} (${each.windowSize})`,yDisplayValue=yValue?displayFormat(yValue):"n/a";return react.createElement(MovingAverageTooltip_SingleMAToolTip,{key:idx,origin:[width*idx,0],color:each.stroke,displayName:tooltipLabel,value:yDisplayValue,options:each,forChart:chartId,onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,labelFill:labelFill})}))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}MovingAverageTooltip_MovingAverageTooltip.defaultProps={className:"react-financial-charts-tooltip react-financial-charts-moving-average-tooltip",displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,10],width:65};class BollingerBandTooltip_BollingerBandTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick:onClick,displayFormat:displayFormat,yAccessor:yAccessor,options:options,textFill:textFill,labelFill:labelFill}=this.props,{displayValuesFor:displayValuesFor}=this.props,{chartConfig:{width:width,height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps);let top,middle,bottom;if(top=middle=bottom="n/a",Object(utils.isDefined)(currentItem)&&Object(utils.isDefined)(yAccessor(currentItem))){const item=yAccessor(currentItem);top=displayFormat(item.top),middle=displayFormat(item.middle),bottom=displayFormat(item.bottom)}const{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height),{sourcePath:sourcePath,windowSize:windowSize,multiplier:multiplier,movingAverageType:movingAverageType}=options,tooltipLabel=`BB(${sourcePath}, ${windowSize}, ${multiplier}, ${movingAverageType}): `,tooltipValue=`${top}, ${middle}, ${bottom}`;return react.createElement("g",{transform:`translate(${x}, ${y})`,className:this.props.className,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:this.props.fontFamily,fontSize:this.props.fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},tooltipLabel),react.createElement("tspan",{fill:textFill},tooltipValue)))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}BollingerBandTooltip_BollingerBandTooltip.defaultProps={className:"react-financial-charts-tooltip react-financial-charts-bollingerband-tooltip",displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,10]};class RSITooltip_RSITooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,yAccessor:yAccessor,displayFormat:displayFormat,className:className}=this.props,{options:options,labelFill:labelFill,textFill:textFill}=this.props,{displayValuesFor:displayValuesFor}=this.props,{chartConfig:{width:width,height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps),rsi=Object(utils.isDefined)(currentItem)&&yAccessor(currentItem),value=rsi&&displayFormat(rsi)||"n/a",{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height),tooltipLabel=`RSI (${options.windowSize}): `;return react.createElement("g",{className:className,transform:`translate(${x}, ${y})`,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},tooltipLabel),react.createElement("tspan",{fill:textFill},value)))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}RSITooltip_RSITooltip.defaultProps={displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,0],className:"react-financial-charts-tooltip"};class StochasticTooltip_StochasticTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,yAccessor:yAccessor,displayFormat:displayFormat,label:label}=this.props,{className:className,options:options,appearance:appearance,labelFill:labelFill}=this.props,{displayValuesFor:displayValuesFor}=this.props,{chartConfig:{width:width,height:height}}=moreProps,currentItem=displayValuesFor(this.props,moreProps),{stroke:stroke}=appearance,stochastic=currentItem&&yAccessor(currentItem),K=stochastic&&stochastic.K&&displayFormat(stochastic.K)||"n/a",D=stochastic&&stochastic.D&&displayFormat(stochastic.D)||"n/a",{origin:originProp}=this.props,origin=Object(utils.functor)(originProp),[x,y]=origin(width,height);return react.createElement("g",{className:className,transform:`translate(${x}, ${y})`,onClick:onClick},react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},`${label} %K(`),react.createElement("tspan",{fill:stroke.kLine},`${options.windowSize}, ${options.kWindowSize}`),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},"): "),react.createElement("tspan",{fill:stroke.kLine},K),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill}," %D ("),react.createElement("tspan",{fill:stroke.dLine},options.dWindowSize),react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},"): "),react.createElement("tspan",{fill:stroke.dLine},D)))}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}StochasticTooltip_StochasticTooltip.defaultProps={displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,0],className:"react-financial-charts-tooltip",label:"STO"};var sum=__webpack_require__(578),prop_types=__webpack_require__(2),GenericComponent=__webpack_require__(4),colors=__webpack_require__(260);class HoverTooltip_HoverTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const pointer=helper(this.props,moreProps);if(void 0===pointer)return null;const{bgFill:bgFill,bgOpacity:bgOpacity,backgroundShapeSVG:backgroundShapeSVG,tooltipSVG:tooltipSVG}=this.props,{bgheight:bgheight,bgwidth:bgwidth}=this.props,{height:height}=moreProps,{x:x,y:y,content:content,centerX:centerX,pointWidth:pointWidth,bgSize:bgSize}=pointer,bgShape=Object(utils.isDefined)(bgwidth)&&Object(utils.isDefined)(bgheight)?{width:bgwidth,height:bgheight}:bgSize;return react.createElement("g",null,react.createElement("rect",{x:centerX-pointWidth/2,y:0,width:pointWidth,height:height,fill:bgFill,opacity:bgOpacity}),react.createElement("g",{className:"react-financial-charts-tooltip-content",transform:`translate(${x}, ${y})`},backgroundShapeSVG(this.props,bgShape),tooltipSVG(this.props,content)))},this.drawOnCanvas=(ctx,moreProps)=>{const pointer=helper(this.props,moreProps,ctx),{height:height}=moreProps;if(Object(utils.isNotDefined)(pointer))return null;!function drawOnCanvas(ctx,props,context,pointer,height){const{margin:margin,ratio:ratio}=context,{bgFill:bgFill,bgOpacity:bgOpacity}=props,{backgroundShapeCanvas:backgroundShapeCanvas,tooltipCanvas:tooltipCanvas}=props,originX=.5*ratio+margin.left,originY=.5*ratio+margin.top;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.scale(ratio,ratio),ctx.translate(originX,originY);const{x:x,y:y,content:content,centerX:centerX,pointWidth:pointWidth,bgSize:bgSize}=pointer;ctx.fillStyle=Object(colors.a)(bgFill,bgOpacity),ctx.beginPath(),ctx.rect(centerX-pointWidth/2,0,pointWidth,height),ctx.fill(),ctx.translate(x,y),backgroundShapeCanvas(props,bgSize,ctx),tooltipCanvas(props,content,ctx),ctx.restore()}(ctx,this.props,this.context,pointer,height)}}render(){return react.createElement(GenericComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,drawOn:["mousemove","pan"]})}}HoverTooltip_HoverTooltip.defaultProps={tooltipSVG:function defaultTooltipSVG({fontFamily:fontFamily,fontSize:fontSize,fontFill:fontFill},content){const tspans=[],startY=Y+.9*fontSize;for(let i=0;i<content.y.length;i++){const y=content.y[i],textY=startY+fontSize*(i+1);tspans.push(react.createElement("tspan",{key:`L-${i}`,x:X,y:textY,fill:y.stroke},y.label)),tspans.push(react.createElement("tspan",{key:i},": ")),tspans.push(react.createElement("tspan",{key:`V-${i}`},y.value))}return react.createElement("text",{fontFamily:fontFamily,fontSize:fontSize,fill:fontFill},react.createElement("tspan",{x:X,y:startY},content.x),tspans)},tooltipCanvas:function defaultTooltipCanvas({fontFamily:fontFamily,fontSize:fontSize,fontFill:fontFill},content,ctx){const startY=Y+.9*fontSize;ctx.font=`${fontSize}px ${fontFamily}`,ctx.fillStyle=fontFill,ctx.textAlign="left",ctx.fillText(content.x,X,startY);for(let i=0;i<content.y.length;i++){const y=content.y[i],textY=startY+fontSize*(i+1);ctx.fillStyle=y.stroke||fontFill,ctx.fillText(y.label,X,textY),ctx.fillStyle=fontFill,ctx.fillText(": "+y.value,X+ctx.measureText(y.label).width,textY)}},origin:function defaultOrigin(props,moreProps,bgSize,pointWidth){const{chartId:chartId,yAccessor:yAccessor}=props,{mouseXY:mouseXY,xAccessor:xAccessor,currentItem:currentItem,xScale:xScale,chartConfig:chartConfig,width:width}=moreProps;let y=Object(utils.last)(mouseXY);const xValue=xAccessor(currentItem);let x=Math.round(xScale(xValue));if(Object(utils.isDefined)(chartId)&&Object(utils.isDefined)(yAccessor)&&Object(utils.isDefined)(chartConfig)&&Object(utils.isDefined)(chartConfig.findIndex)){const yValue=yAccessor(currentItem),chartIndex=chartConfig.findIndex(c=>c.id===chartId);y=Math.round(chartConfig[chartIndex].yScale(yValue))}return x=normalizeX(x,bgSize,pointWidth,width),y=normalizeY(y,bgSize),[x,y]},fill:"#D4E2FD",bgFill:"#D4E2FD",bgOpacity:.5,stroke:"#9B9BFF",fontFill:"#000000",opacity:.8,backgroundShapeSVG:function defaultBackgroundShapeSVG({fill:fill,stroke:stroke,opacity:opacity},{height:height,width:width}){return react.createElement("rect",{height:height,width:width,fill:fill,opacity:opacity,stroke:stroke})},backgroundShapeCanvas:function defaultBackgroundShapeCanvas(props,{width:width,height:height},ctx){const{fill:fill,stroke:stroke,opacity:opacity}=props;ctx.fillStyle=Object(colors.a)(fill,opacity),ctx.strokeStyle=stroke,ctx.beginPath(),ctx.rect(0,0,width,height),ctx.fill(),ctx.stroke()},fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:12},HoverTooltip_HoverTooltip.contextTypes={margin:prop_types.object.isRequired,ratio:prop_types.number.isRequired};const PADDING=5,X=10,Y=10;function calculateTooltipSize({fontFamily:fontFamily,fontSize:fontSize,fontFill:fontFill},content,ctx){if(Object(utils.isNotDefined)(ctx)){const canvas=document.createElement("canvas");ctx=canvas.getContext("2d")}ctx.font=`${fontSize}px ${fontFamily}`,ctx.fillStyle=fontFill,ctx.textAlign="left";const measureText=str=>({width:ctx.measureText(str).width,height:fontSize}),{width:width,height:height}=content.y.map(({label:label,value:value})=>measureText(`${label}: ${value}`)).reduce((res,size)=>(function sumSizes(...sizes){return{width:Math.max(...sizes.map(size=>size.width)),height:Object(sum.a)(sizes,d=>d.height)}})(res,size),measureText(String(content.x)));return{width:width+2*X,height:height+2*Y}}function normalizeX(x,bgSize,pointWidth,width){return x<width/2?x+pointWidth/2+PADDING:x-bgSize.width-pointWidth/2-PADDING}function normalizeY(y,bgSize){return y-bgSize.height<=0?y+PADDING:y-bgSize.height-PADDING}function helper(props,moreProps,ctx){const{show:show,xScale:xScale,currentItem:currentItem,plotData:plotData}=moreProps,{origin:origin,tooltipContent:tooltipContent}=props,{xAccessor:xAccessor,displayXAccessor:displayXAccessor}=moreProps;if(!show||Object(utils.isNotDefined)(currentItem))return;const xValue=xAccessor(currentItem);if(!show||Object(utils.isNotDefined)(xValue))return;const content=tooltipContent({currentItem:currentItem,xAccessor:displayXAccessor}),centerX=xScale(xValue),pointWidth=Math.abs(xScale(xAccessor(Object(utils.last)(plotData)))-xScale(xAccessor(Object(utils.first)(plotData))))/(plotData.length-1),bgSize=calculateTooltipSize(props,content,ctx),[x,y]=origin(props,moreProps,bgSize,pointWidth);return{x:x,y:y,content:content,centerX:centerX,pointWidth:pointWidth,bgSize:bgSize}}var tooltip_HoverTooltip=HoverTooltip_HoverTooltip;class GroupTooltip_SingleTooltip extends react.Component{constructor(){super(...arguments),this.handleClick=e=>{const{onClick:onClick,forChart:forChart,options:options}=this.props;void 0!==onClick&&onClick(Object.assign({chartId:forChart},options),e)}}renderValueNextToLabel(){const{origin:origin,yLabel:yLabel,yValue:yValue,labelFill:labelFill,valueFill:valueFill,withShape:withShape,fontSize:fontSize,fontFamily:fontFamily}=this.props;return react.createElement("g",{transform:`translate(${origin[0]}, ${origin[1]})`,onClick:this.handleClick},withShape?react.createElement("rect",{x:"0",y:"-6",width:"6",height:"6",fill:valueFill}):null,react.createElement(ToolTipText_ToolTipText,{x:withShape?8:0,y:0,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},yLabel,": "),react.createElement("tspan",{fill:valueFill},yValue)))}renderValueBeneathToLabel(){const{origin:origin,yLabel:yLabel,yValue:yValue,labelFill:labelFill,valueFill:valueFill,withShape:withShape,fontSize:fontSize,fontFamily:fontFamily}=this.props;return react.createElement("g",{transform:`translate(${origin[0]}, ${origin[1]})`,onClick:this.handleClick},withShape?react.createElement("line",{x1:0,y1:2,x2:0,y2:28,stroke:valueFill,strokeWidth:"4px"}):null,react.createElement(ToolTipText_ToolTipText,{x:5,y:11,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},yLabel),react.createElement("tspan",{x:"5",dy:"15",fill:valueFill},yValue)))}renderInline(){const{yLabel:yLabel,yValue:yValue,labelFill:labelFill,valueFill:valueFill,fontSize:fontSize,fontFamily:fontFamily}=this.props;return react.createElement("tspan",{onClick:this.handleClick,fontFamily:fontFamily,fontSize:fontSize},react.createElement(ToolTipTSpanLabel_ToolTipTSpanLabel,{fill:labelFill},yLabel,":"),react.createElement("tspan",{fill:valueFill},yValue,""))}render(){const{layout:layout}=this.props;let comp=null;switch(layout){case"horizontal":comp=this.renderValueNextToLabel();break;case"horizontalRows":comp=this.renderValueBeneathToLabel();break;case"horizontalInline":comp=this.renderInline();break;case"vertical":comp=this.renderValueNextToLabel();break;case"verticalRows":comp=this.renderValueBeneathToLabel();break;default:comp=this.renderValueNextToLabel()}return comp}}GroupTooltip_SingleTooltip.defaultProps={labelFill:"#4682B4",valueFill:"#000000",withShape:!1};class GroupTooltip_GroupTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{displayValuesFor:displayValuesFor}=this.props,{chartId:chartId}=moreProps,{className:className,onClick:onClick,width:width=60,verticalSize:verticalSize=13,fontFamily:fontFamily,fontSize:fontSize,layout:layout}=this.props,{origin:origin,displayFormat:displayFormat,options:options}=this.props,currentItem=displayValuesFor(this.props,moreProps),{xyPos:xyPos,textAnchor:textAnchor}=this.getPosition(moreProps),xPos=null!=xyPos&&null!=xyPos[0]?xyPos[0]:origin[0],yPos=null!=xyPos&&null!=xyPos[1]?xyPos[1]:origin[1],singleTooltip=options.map((each,idx)=>{const yValue=currentItem&&each.yAccessor(currentItem),yDisplayValue=yValue?displayFormat(yValue):"n/a";return react.createElement(GroupTooltip_SingleTooltip,{key:idx,layout:layout,origin:(()=>"horizontal"===layout||"horizontalRows"===layout?[width*idx,0]:"vertical"===layout?[0,verticalSize*idx]:"verticalRows"===layout?[0,2.3*verticalSize*idx]:[0,0])(),yLabel:each.yLabel,yValue:yDisplayValue,options:each,forChart:chartId,onClick:onClick,fontFamily:fontFamily,fontSize:fontSize,labelFill:each.labelFill,valueFill:each.valueFill,withShape:each.withShape})});return react.createElement("g",{transform:`translate(${xPos}, ${yPos})`,className:className,textAnchor:textAnchor},"horizontalInline"===layout?react.createElement(ToolTipText_ToolTipText,{x:0,y:0,fontFamily:fontFamily,fontSize:fontSize},singleTooltip):singleTooltip)}}getPosition(moreProps){const{position:position}=this.props,{height:height,width:width}=moreProps.chartConfig;let textAnchor,xyPos=null;if(void 0!==position)switch(position){case"topRight":xyPos=[width-20,null],textAnchor="end";break;case"bottomLeft":xyPos=[null,height-40];break;case"bottomRight":xyPos=[width-20,height-40],textAnchor="end";break;default:xyPos=[null,null]}else xyPos=[null,null];return{xyPos:xyPos,textAnchor:textAnchor}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}GroupTooltip_GroupTooltip.defaultProps={className:"react-financial-charts-tooltip react-financial-charts-group-tooltip",layout:"horizontal",displayFormat:Object(src.format)(".2f"),displayValuesFor:displayValuesFor_displayValuesFor,origin:[0,0],width:60,verticalSize:13},__webpack_require__.d(__webpack_exports__,"MACDTooltip",(function(){return MACDTooltip_MACDTooltip})),__webpack_require__.d(__webpack_exports__,"OHLCTooltip",(function(){return OHLCTooltip_OHLCTooltip})),__webpack_require__.d(__webpack_exports__,"SingleValueTooltip",(function(){return SingleValueTooltip_SingleValueTooltip})),__webpack_require__.d(__webpack_exports__,"SingleMAToolTip",(function(){return MovingAverageTooltip_SingleMAToolTip})),__webpack_require__.d(__webpack_exports__,"MovingAverageTooltip",(function(){return MovingAverageTooltip_MovingAverageTooltip})),__webpack_require__.d(__webpack_exports__,"BollingerBandTooltip",(function(){return BollingerBandTooltip_BollingerBandTooltip})),__webpack_require__.d(__webpack_exports__,"RSITooltip",(function(){return RSITooltip_RSITooltip})),__webpack_require__.d(__webpack_exports__,"StochasticTooltip",(function(){return StochasticTooltip_StochasticTooltip})),__webpack_require__.d(__webpack_exports__,"HoverTooltip",(function(){return tooltip_HoverTooltip})),__webpack_require__.d(__webpack_exports__,"ToolTipText",(function(){return ToolTipText_ToolTipText})),__webpack_require__.d(__webpack_exports__,"ToolTipTSpanLabel",(function(){return ToolTipTSpanLabel_ToolTipTSpanLabel})),__webpack_require__.d(__webpack_exports__,"SingleTooltip",(function(){return GroupTooltip_SingleTooltip})),__webpack_require__.d(__webpack_exports__,"GroupTooltip",(function(){return GroupTooltip_GroupTooltip}))},570:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var src=__webpack_require__(7),react=__webpack_require__(1),GenericChartComponent=__webpack_require__(3),GenericComponent=__webpack_require__(4),utils=__webpack_require__(0),utils_strokeDasharray=__webpack_require__(258),colors=__webpack_require__(260);function renderSVG(props){const{className:className}=props,edge=helper(props);if(null===edge)return null;let line,coordinateBase,coordinate;if(void 0!==edge.line&&Object(utils.isDefined)(edge.line)&&(line=react.createElement("line",{className:"react-financial-charts-cross-hair",strokeOpacity:edge.line.opacity,stroke:edge.line.stroke,strokeDasharray:Object(utils_strokeDasharray.a)(edge.line.strokeDasharray),x1:edge.line.x1,y1:edge.line.y1,x2:edge.line.x2,y2:edge.line.y2})),Object(utils.isDefined)(edge.coordinateBase)){const{rectWidth:rectWidth,rectHeight:rectHeight,arrowWidth:arrowWidth}=edge.coordinateBase,path="left"===edge.orient?`M0,0L0,${rectHeight}L${rectWidth},${rectHeight}L${rectWidth+arrowWidth},10L${rectWidth},0L0,0L0,0`:`M0,${arrowWidth}L${arrowWidth},${rectHeight}L${rectWidth+arrowWidth},${rectHeight}L${rectWidth+arrowWidth},0L${arrowWidth},0L0,${arrowWidth}`;coordinateBase="left"===edge.orient||"right"===edge.orient?react.createElement("g",{key:1,transform:`translate(${edge.coordinateBase.edgeXRect},${edge.coordinateBase.edgeYRect})`},react.createElement("path",{d:path,className:"react-stockchart-text-background",height:rectHeight,width:rectWidth,stroke:edge.coordinateBase.stroke,strokeLinejoin:"miter",strokeOpacity:edge.coordinateBase.strokeOpacity,strokeWidth:edge.coordinateBase.strokeWidth,fill:edge.coordinateBase.fill,fillOpacity:edge.coordinateBase.opacity})):react.createElement("rect",{key:1,className:"react-stockchart-text-background",x:edge.coordinateBase.edgeXRect,y:edge.coordinateBase.edgeYRect,height:rectHeight,width:rectWidth,fill:edge.coordinateBase.fill,opacity:edge.coordinateBase.opacity}),coordinate=react.createElement("text",{key:2,x:edge.coordinate.edgeXText,y:edge.coordinate.edgeYText,textAnchor:edge.coordinate.textAnchor,fontFamily:edge.coordinate.fontFamily,fontSize:edge.coordinate.fontSize,dy:".32em",fill:edge.coordinate.textFill},edge.coordinate.displayCoordinate)}return react.createElement("g",{className:className},line,coordinateBase,coordinate)}function helper(props){const{coordinate:displayCoordinate,show:show,type:type,orient:orient,edgeAt:edgeAt,hideLine:hideLine,lineStrokeDasharray:lineStrokeDasharray}=props,{fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,lineStroke:lineStroke,lineOpacity:lineOpacity}=props,{stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth}=props,{arrowWidth:arrowWidth,rectWidth:rectWidth,rectHeight:rectHeight,rectRadius:rectRadius}=props,{x1:x1,y1:y1,x2:x2,y2:y2,dx:dx}=props;if(!show)return null;let coordinateBase,coordinate;if(Object(utils.isDefined)(displayCoordinate)){let edgeXRect,edgeYRect,edgeXText,edgeYText;if("horizontal"===type)edgeXRect=dx+("right"===orient?edgeAt+1:edgeAt-rectWidth-1),edgeYRect=y1-rectHeight/2-strokeWidth,edgeXText=dx+("right"===orient?edgeAt+rectWidth/2:edgeAt-rectWidth/2),edgeYText=y1;else{const dy="bottom"===orient?strokeWidth-1:1-strokeWidth;edgeXRect=x1-rectWidth/2,edgeYRect=("bottom"===orient?edgeAt:edgeAt-rectHeight)+dy,edgeXText=x1,edgeYText=("bottom"===orient?edgeAt+rectHeight/2:edgeAt-rectHeight/2)+dy}coordinateBase={edgeXRect:edgeXRect,edgeYRect:edgeYRect,rectHeight:rectHeight+strokeWidth,rectWidth:rectWidth,rectRadius:rectRadius,fill:fill,opacity:opacity,arrowWidth:arrowWidth,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth},coordinate={edgeXText:edgeXText,edgeYText:edgeYText,textAnchor:"middle",fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,displayCoordinate:displayCoordinate}}return{coordinateBase:coordinateBase,coordinate:coordinate,line:hideLine?void 0:{opacity:lineOpacity,stroke:lineStroke,strokeDasharray:lineStrokeDasharray,x1:x1,y1:y1,x2:x2,y2:y2},orient:orient}}function drawOnCanvas(ctx,props){const{fontSize:fontSize,fontFamily:fontFamily}=props;ctx.font=`${fontSize}px ${fontFamily}`,ctx.textBaseline="middle";const width=Math.round(ctx.measureText(props.coordinate).width+10),edge=helper(Object.assign(Object.assign({},props),{rectWidth:width}));if(null!==edge){if(void 0!==edge.line&&Object(utils.isDefined)(edge.line)){const dashArray=Object(utils_strokeDasharray.a)(edge.line.strokeDasharray).split(",").map(d=>+d);ctx.setLineDash(dashArray),ctx.strokeStyle=Object(colors.a)(edge.line.stroke,edge.line.opacity),ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(edge.line.x1,edge.line.y1),ctx.lineTo(edge.line.x2,edge.line.y2),ctx.stroke()}if(ctx.setLineDash([]),Object(utils.isDefined)(edge.coordinateBase)){const{rectWidth:rectWidth,rectHeight:rectHeight,rectRadius:rectRadius}=edge.coordinateBase;ctx.fillStyle=Object(colors.a)(edge.coordinateBase.fill,edge.coordinateBase.opacity),Object(utils.isDefined)(edge.coordinateBase.stroke)&&(ctx.strokeStyle=Object(colors.a)(edge.coordinateBase.stroke,edge.coordinateBase.strokeOpacity),ctx.lineWidth=edge.coordinateBase.strokeWidth);const x=edge.coordinateBase.edgeXRect,y=edge.coordinateBase.edgeYRect;ctx.beginPath(),rectRadius?function roundRect(ctx,x,y,width,height,radius){ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath()}(ctx,x,y,rectWidth,rectHeight,3):ctx.rect(x+.5,y+.5,rectWidth,rectHeight),ctx.fill(),Object(utils.isDefined)(edge.coordinateBase.stroke)&&ctx.stroke(),ctx.fillStyle=edge.coordinate.textFill,ctx.textAlign="middle"===edge.coordinate.textAnchor?"center":edge.coordinate.textAnchor,ctx.fillText(edge.coordinate.displayCoordinate,edge.coordinate.edgeXText,edge.coordinate.edgeYText)}}}var noop=__webpack_require__(16);class EdgeIndicator_EdgeIndicator extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const edge=this.helper(this.props,moreProps);drawOnCanvas(ctx,Object.assign(Object.assign({},this.props),edge))},this.renderSVG=moreProps=>{const edge=this.helper(this.props,moreProps);return renderSVG(Object.assign(Object.assign({},this.props),edge))},this.helper=(props,moreProps)=>{const{itemType:itemType,yAccessor:yAccessor}=props,{plotData:plotData}=moreProps,item="first"===itemType?Object(utils.first)(plotData,yAccessor):Object(utils.last)(plotData,yAccessor);return Object(utils.isDefined)(item)?this.getEdge(props,moreProps,item):null},this.getEdge=(props,moreProps,item)=>{const{type:edgeType,displayFormat:displayFormat,edgeAt:edgeAt,yAxisPad:yAxisPad,orient:orient,lineStroke:lineStroke}=props,{yAccessor:yAccessor,fill:fill,textFill:textFill,rectHeight:rectHeight,rectWidth:rectWidth,arrowWidth:arrowWidth}=props,{fontFamily:fontFamily,fontSize:fontSize}=props,{stroke:stroke}=props,{xScale:xScale,chartConfig:{yScale:yScale},xAccessor:xAccessor,width:width}=moreProps,yValue=yAccessor(item),xValue=xAccessor(item),x1=Math.round(xScale(xValue)),y1=Math.round(yScale(yValue)),[left,right]=[0,width],edgeX="left"===edgeAt?left-yAxisPad:right+yAxisPad;return{coordinate:displayFormat(yValue),show:!0,type:edgeType,orient:orient,edgeAt:edgeX,fill:Object(utils.functor)(fill)(item),lineStroke:Object(utils.functor)(lineStroke)(item),stroke:Object(utils.functor)(stroke)(item),fontFamily:fontFamily,fontSize:fontSize,textFill:Object(utils.functor)(textFill)(item),rectHeight:rectHeight,rectWidth:rectWidth,arrowWidth:arrowWidth,x1:x1,y1:y1,x2:right,y2:y1}}}render(){return react.createElement(GenericChartComponent.a,{edgeClip:!0,clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}EdgeIndicator_EdgeIndicator.defaultProps={className:"react-financial-charts-edgeindicator",type:"horizontal",orient:"left",edgeAt:"left",textFill:"#FFFFFF",displayFormat:Object(src.format)(".2f"),yAxisPad:0,rectHeight:20,rectWidth:50,arrowWidth:10,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,dx:0,hideLine:!1,fill:"#8a8a8a",opacity:1,stroke:noop.a,strokeOpacity:1,strokeWidth:1,lineStroke:"#000000",lineOpacity:1,lineStrokeDasharray:"ShortDot"};class CurrentCoordinate_CurrentCoordinate extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const circle=this.helper(this.props,moreProps);if(!circle)return null;ctx.fillStyle=circle.fill,ctx.beginPath(),ctx.arc(circle.x,circle.y,circle.r,0,2*Math.PI,!1),ctx.fill()},this.renderSVG=moreProps=>{const{className:className}=this.props,circle=this.helper(this.props,moreProps);if(!circle)return null;const fillColor=circle.fill instanceof Function?circle.fill(moreProps.currentItem):circle.fill;return react.createElement("circle",{className:className,cx:circle.x,cy:circle.y,r:circle.r,fill:fillColor})},this.helper=(props,moreProps)=>{const{fill:fill,yAccessor:yAccessor,r:r}=props,{show:show,xScale:xScale,chartConfig:{yScale:yScale},currentItem:currentItem,xAccessor:xAccessor}=moreProps;if(!show||Object(utils.isNotDefined)(currentItem))return null;const xValue=xAccessor(currentItem),yValue=yAccessor(currentItem);return Object(utils.isNotDefined)(yValue)?null:{x:Math.round(xScale(xValue)),y:Math.round(yScale(yValue)),r:r,fill:fill}}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.c,drawOn:["mousemove","pan"]})}}CurrentCoordinate_CurrentCoordinate.defaultProps={r:3,className:"react-financial-charts-current-coordinate"};class MouseCoordinateX_MouseCoordinateX extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const props=this.helper(this.props,moreProps);if(Object(utils.isNotDefined)(props))return null;drawOnCanvas(ctx,props)},this.renderSVG=moreProps=>{const props=this.helper(this.props,moreProps);return Object(utils.isNotDefined)(props)?null:renderSVG(props)},this.helper=(props,moreProps)=>{const{show:show,currentItem:currentItem}=moreProps,{chartConfig:{height:height}}=moreProps;if(Object(utils.isNotDefined)(currentItem))return null;const{customX:customX}=props,{orient:orient,at:at}=props,{stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth}=props,{rectRadius:rectRadius,rectWidth:rectWidth,rectHeight:rectHeight}=props,{fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill}=props,edgeAt="bottom"===at?height:0,{x:x,coordinate:coordinate}=customX(props,moreProps);return{coordinate:coordinate,show:show,type:"vertical",orient:orient,edgeAt:edgeAt,hideLine:!0,fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth,rectWidth:rectWidth,rectHeight:rectHeight,rectRadius:rectRadius,arrowWidth:0,x1:x,x2:x,y1:0,y2:height}}}render(){return react.createElement(GenericChartComponent.a,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.c,drawOn:["mousemove","pan","drag"]})}}MouseCoordinateX_MouseCoordinateX.defaultProps={yAxisPad:0,rectWidth:80,rectHeight:20,strokeOpacity:1,strokeWidth:1,orient:"bottom",at:"bottom",fill:"#4a4a4a",opacity:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,textFill:"#FFFFFF",snapX:!0,customX:(props,moreProps)=>{const{xScale:xScale,xAccessor:xAccessor,currentItem:currentItem,mouseXY:mouseXY}=moreProps,{snapX:snapX}=props,x=snapX?xScale(xAccessor(currentItem)):mouseXY[0],{displayXAccessor:displayXAccessor}=moreProps,{displayFormat:displayFormat}=props;return{x:x,coordinate:displayFormat(snapX?displayXAccessor(currentItem):xScale.invert(x))}}};class MouseCoordinateXV2_MouseCoordinateXV2 extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{show:show,currentItem:currentItem}=moreProps,{drawCoordinate:drawCoordinate}=this.props;if(show&&null!=currentItem){const shape=function getXCoordinateInfo(ctx,props,moreProps){const{xPosition:xPosition}=props,xValue=xPosition(props,moreProps),{at:at,displayFormat:displayFormat}=props,{text:text}=props,{xScale:xScale,chartConfig:{height:height}}=moreProps;ctx.font=`${text.fontStyle} ${text.fontWeight} ${text.fontSize}px ${text.fontFamily}`;const t=displayFormat(xValue),textWidth=ctx.measureText(t).width,y="bottom"===at?height:0;return{x:Math.round(xScale(xValue)),y:y,textWidth:textWidth,text:t}}(ctx,this.props,moreProps);drawCoordinate(ctx,shape,this.props,moreProps)}}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.c,drawOn:["mousemove","pan","drag"]})}}MouseCoordinateXV2_MouseCoordinateXV2.defaultProps={xPosition:function defaultXPosition(props,moreProps){const{currentItem:currentItem,xAccessor:xAccessor}=moreProps;return xAccessor(currentItem)},drawCoordinate:function defaultDrawCoordinate(ctx,shape,props,moreProps){const{x:x,y:y,textWidth:textWidth,text:text}=shape,{orient:orient,dx:dx,dy:dy}=props,{bg:{padding:padding,fill:fill,stroke:stroke,strokeWidth:strokeWidth},text:{fontSize:fontSize,fill:textFill}}=props;ctx.textAlign="center";const sign="top"===orient?-1:1,halfWidth=Math.round(textWidth/2+padding.right),height=Math.round(fontSize+padding.top+padding.bottom);ctx.strokeStyle="function"==typeof stroke?stroke(moreProps,ctx):stroke,ctx.fillStyle="function"==typeof fill?fill(moreProps,ctx):fill,ctx.lineWidth="function"==typeof strokeWidth?strokeWidth(moreProps):strokeWidth,ctx.beginPath(),ctx.moveTo(x,y),ctx.lineTo(x+dx,y+sign*dy),ctx.lineTo(x+halfWidth,y+sign*dy),ctx.lineTo(x+halfWidth,y+sign*(dy+height)),ctx.lineTo(x-halfWidth,y+sign*(dy+height)),ctx.lineTo(x-halfWidth,y+sign*dy),ctx.lineTo(x-dx,y+sign*dy),ctx.closePath(),ctx.stroke(),ctx.fill(),ctx.beginPath(),ctx.fillStyle="function"==typeof textFill?textFill(moreProps,ctx):textFill,ctx.textBaseline="top"===orient?"alphabetic":"hanging";const pad="top"===orient?padding.bottom:padding.top;ctx.fillText(text,x,y+sign*(dy+pad+2))},at:"bottom",orient:"bottom",text:{fontStyle:"",fontWeight:"",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,fill:"rgb(35, 35, 35)"},bg:{fill:"rgb(255, 255, 255)",stroke:"rgb(35, 35, 35)",strokeWidth:1,padding:{left:7,right:7,top:4,bottom:4}},dx:7,dy:7};class MouseCoordinateY_MouseCoordinateY extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const props=this.helper(this.props,moreProps);return Object(utils.isNotDefined)(props)?null:renderSVG(props)},this.drawOnCanvas=(ctx,moreProps)=>{const props=this.helper(this.props,moreProps);if(Object(utils.isNotDefined)(props))return null;drawOnCanvas(ctx,props)},this.helper=(props,moreProps)=>{const{chartId:chartId}=moreProps,{currentCharts:currentCharts,mouseXY:mouseXY}=moreProps;if(Object(utils.isNotDefined)(mouseXY))return null;if(currentCharts.indexOf(chartId)<0)return null;const{show:show}=moreProps;if(!show)return null;const y=mouseXY[1],{chartConfig:{yScale:yScale}}=moreProps,{displayFormat:displayFormat}=props;return function getYCoordinate(y,displayValue,props,moreProps){const{width:width}=moreProps,{orient:orient,at:at,rectWidth:rectWidth,rectHeight:rectHeight,dx:dx}=props,{fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,arrowWidth:arrowWidth}=props,{stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth}=props;return{coordinate:displayValue,show:!0,type:"horizontal",orient:orient,edgeAt:"right"===at?width:0,hideLine:!0,fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth,rectWidth:rectWidth,rectHeight:rectHeight,arrowWidth:arrowWidth,dx:dx,x1:0,x2:width,y1:y,y2:y}}(y,displayFormat(yScale.invert(y)),props,moreProps)}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.c,drawOn:["mousemove","pan","drag"]})}}MouseCoordinateY_MouseCoordinateY.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",dx:0,arrowWidth:10,fill:"#4a4a4a",opacity:1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1};var prop_types=__webpack_require__(2),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};class CrossHairCursor_CrossHairCursor extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{className:className}=this.props,lines=this.helper(this.props,moreProps);return void 0===lines?null:react.createElement("g",{className:`react-financial-charts-crosshair ${className}`},lines.map((_a,idx)=>{var{strokeDasharray:strokeDasharray}=_a,rest=__rest(_a,["strokeDasharray"]);return react.createElement("line",Object.assign({key:idx,strokeDasharray:Object(utils_strokeDasharray.a)(strokeDasharray)},rest))}))},this.drawOnCanvas=(ctx,moreProps)=>{const lines=this.helper(this.props,moreProps);if(void 0!==lines&&Object(utils.isDefined)(lines)){const{margin:margin,ratio:ratio}=this.context,originX=.5*ratio+margin.left,originY=.5*ratio+margin.top;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.scale(ratio,ratio),ctx.translate(originX,originY),lines.forEach(line=>{const dashArray=Object(utils_strokeDasharray.a)(line.strokeDasharray).split(",").map(d=>+d);ctx.strokeStyle=Object(colors.a)(line.stroke,line.opacity),ctx.lineWidth=1,ctx.setLineDash(dashArray),ctx.beginPath(),ctx.moveTo(line.x1,line.y1),ctx.lineTo(line.x2,line.y2),ctx.stroke()}),ctx.restore()}},this.helper=(props,moreProps)=>{const{mouseXY:mouseXY,currentItem:currentItem,show:show,height:height,width:width}=moreProps,{customX:customX,stroke:stroke,opacity:opacity,strokeDasharray:strokeDasharray}=props;if(!show||Object(utils.isNotDefined)(currentItem))return;const line1={x1:0,x2:width,y1:mouseXY[1]+.5,y2:mouseXY[1]+.5,stroke:stroke,strokeDasharray:strokeDasharray,opacity:opacity},x=customX(props,moreProps);return[line1,{x1:x,x2:x,y1:0,y2:height,stroke:stroke,strokeDasharray:strokeDasharray,opacity:opacity}]}}render(){return react.createElement(GenericComponent.a,{svgDraw:this.renderSVG,clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.c,drawOn:["mousemove","pan","drag"]})}}CrossHairCursor_CrossHairCursor.defaultProps={stroke:"#4a4a4a",opacity:.8,strokeDasharray:"Dash",snapX:!0,customX:(props,moreProps)=>{const{xScale:xScale,xAccessor:xAccessor,currentItem:currentItem,mouseXY:mouseXY}=moreProps,{snapX:snapX}=props;return snapX?Math.round(xScale(xAccessor(currentItem))):mouseXY[0]}},CrossHairCursor_CrossHairCursor.contextTypes={margin:prop_types.object.isRequired,ratio:prop_types.number.isRequired};class PriceCoordinate_PriceCoordinate extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{drawOnCanvas(ctx,this.helper(this.props,moreProps))},this.renderSVG=moreProps=>{return renderSVG(this.helper(this.props,moreProps))},this.helper=(props,moreProps)=>{const{width:width}=moreProps,{chartConfig:{yScale:yScale}}=moreProps,[lowerYValue,upperYValue]=yScale.domain(),{price:price,stroke:stroke,strokeDasharray:strokeDasharray,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth}=props,{orient:orient,at:at,rectWidth:rectWidth,rectHeight:rectHeight,displayFormat:displayFormat,dx:dx}=props,{fill:fill,opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,textFill:textFill,arrowWidth:arrowWidth,lineOpacity:lineOpacity,lineStroke:lineStroke}=props,x2=width,edgeAt="right"===at?width:0,y=yScale(price),show=price<=upperYValue&&price>=lowerYValue;return{coordinate:displayFormat(yScale.invert(y)),show:show,type:"horizontal",orient:orient,edgeAt:edgeAt,hideLine:!1,lineOpacity:lineOpacity,lineStroke:lineStroke,lineStrokeDasharray:strokeDasharray,stroke:stroke,strokeOpacity:strokeOpacity,strokeWidth:strokeWidth,fill:Object(utils.functor)(fill)(price),textFill:Object(utils.functor)(textFill)(price),opacity:opacity,fontFamily:fontFamily,fontSize:fontSize,rectWidth:rectWidth,rectHeight:rectHeight,arrowWidth:arrowWidth,dx:dx,x1:0,x2:x2,y1:y,y2:y}}}render(){return react.createElement(GenericChartComponent.a,{clip:!1,svgDraw:this.renderSVG,canvasDraw:this.drawOnCanvas,canvasToDraw:GenericComponent.b,drawOn:["pan"]})}}PriceCoordinate_PriceCoordinate.defaultProps={yAxisPad:0,rectWidth:50,rectHeight:20,orient:"left",at:"left",price:0,dx:0,arrowWidth:0,fill:"#BAB8b8",opacity:1,lineOpacity:.2,lineStroke:"#000000",fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,textFill:"#FFFFFF",strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid"},__webpack_require__.d(__webpack_exports__,"EdgeIndicator",(function(){return EdgeIndicator_EdgeIndicator})),__webpack_require__.d(__webpack_exports__,"CurrentCoordinate",(function(){return CurrentCoordinate_CurrentCoordinate})),__webpack_require__.d(__webpack_exports__,"MouseCoordinateX",(function(){return MouseCoordinateX_MouseCoordinateX})),__webpack_require__.d(__webpack_exports__,"MouseCoordinateXV2",(function(){return MouseCoordinateXV2_MouseCoordinateXV2})),__webpack_require__.d(__webpack_exports__,"MouseCoordinateY",(function(){return MouseCoordinateY_MouseCoordinateY})),__webpack_require__.d(__webpack_exports__,"CrossHairCursor",(function(){return CrossHairCursor_CrossHairCursor})),__webpack_require__.d(__webpack_exports__,"PriceCoordinate",(function(){return PriceCoordinate_PriceCoordinate}))},70:function(module,__webpack_exports__,__webpack_require__){"use strict";function isDate(date){return"[object Date]"===Object.prototype.toString.call(date)}function shallowEqual(a,b){if(!a&&!b)return!0;if(!a&&b||a&&!b)return!1;let key,numKeysA=0,numKeysB=0;for(key in b)if(numKeysB++,b.hasOwnProperty(key)&&!a.hasOwnProperty(key)||(val1=a[key],val2=b[key],!(isDate(val1)&&isDate(val2)?val1.getTime()===val2.getTime():val1===val2)))return!1;var val1,val2;for(key in a)numKeysA++;return numKeysA===numKeysB}__webpack_require__.d(__webpack_exports__,"a",(function(){return shallowEqual}))}},[[267,1,2]]]);
//# sourceMappingURL=main.b2a6c05a78f6f0c70e0f.bundle.js.map